"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/xstate";
exports.ids = ["vendor-chunks/xstate"];
exports.modules = {

/***/ "(ssr)/./node_modules/xstate/es/Actor.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/Actor.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDeferredActor: () => (/* binding */ createDeferredActor),\n/* harmony export */   createInvocableActor: () => (/* binding */ createInvocableActor),\n/* harmony export */   createNullActor: () => (/* binding */ createNullActor),\n/* harmony export */   isActor: () => (/* binding */ isActor),\n/* harmony export */   isSpawnedActor: () => (/* binding */ isSpawnedActor),\n/* harmony export */   toActorRef: () => (/* binding */ toActorRef)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _serviceScope_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serviceScope.js */ \"(ssr)/./node_modules/xstate/es/serviceScope.js\");\n\n\n\nfunction createNullActor(id) {\n    var _a;\n    return _a = {\n        id: id,\n        send: function() {\n            return void 0;\n        },\n        subscribe: function() {\n            return {\n                unsubscribe: function() {\n                    return void 0;\n                }\n            };\n        },\n        getSnapshot: function() {\n            return undefined;\n        },\n        toJSON: function() {\n            return {\n                id: id\n            };\n        }\n    }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n        return this;\n    }, _a;\n}\n/**\r\n * Creates a deferred actor that is able to be invoked given the provided\r\n * invocation information in its `.meta` value.\r\n *\r\n * @param invokeDefinition The meta information needed to invoke the actor.\r\n */ function createInvocableActor(invokeDefinition, machine, context, _event) {\n    var _a;\n    var invokeSrc = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toInvokeSource)(invokeDefinition.src);\n    var serviceCreator = (_a = machine === null || machine === void 0 ? void 0 : machine.options.services) === null || _a === void 0 ? void 0 : _a[invokeSrc.type];\n    var resolvedData = invokeDefinition.data ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(invokeDefinition.data, context, _event) : undefined;\n    var tempActor = serviceCreator ? createDeferredActor(serviceCreator, invokeDefinition.id, resolvedData) : createNullActor(invokeDefinition.id); // @ts-ignore\n    tempActor.meta = invokeDefinition;\n    return tempActor;\n}\nfunction createDeferredActor(entity, id, data) {\n    var tempActor = createNullActor(id); // @ts-ignore\n    tempActor.deferred = true;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity)) {\n        // \"mute\" the existing service scope so potential spawned actors within the `.initialState` stay deferred here\n        var initialState_1 = tempActor.state = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_1__.provide)(undefined, function() {\n            return (data ? entity.withContext(data) : entity).initialState;\n        });\n        tempActor.getSnapshot = function() {\n            return initialState_1;\n        };\n    }\n    return tempActor;\n}\nfunction isActor(item) {\n    try {\n        return typeof item.send === \"function\";\n    } catch (e) {\n        return false;\n    }\n}\nfunction isSpawnedActor(item) {\n    return isActor(item) && \"id\" in item;\n} // TODO: refactor the return type, this could be written in a better way but it's best to avoid unneccessary breaking changes now\nfunction toActorRef(actorRefLike) {\n    var _a;\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_a = {\n        subscribe: function() {\n            return {\n                unsubscribe: function() {\n                    return void 0;\n                }\n            };\n        },\n        id: \"anonymous\",\n        getSnapshot: function() {\n            return undefined;\n        }\n    }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n        return this;\n    }, _a), actorRefLike);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL0FjdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNxQztBQUN6QztBQUU1QyxTQUFTTSxnQkFBZ0JDLEVBQUU7SUFDekIsSUFBSUM7SUFFSixPQUFPQSxLQUFLO1FBQ1ZELElBQUlBO1FBQ0pFLE1BQU07WUFDSixPQUFPLEtBQUs7UUFDZDtRQUNBQyxXQUFXO1lBQ1QsT0FBTztnQkFDTEMsYUFBYTtvQkFDWCxPQUFPLEtBQUs7Z0JBQ2Q7WUFDRjtRQUNGO1FBQ0FDLGFBQWE7WUFDWCxPQUFPQztRQUNUO1FBQ0FDLFFBQVE7WUFDTixPQUFPO2dCQUNMUCxJQUFJQTtZQUNOO1FBQ0Y7SUFDRixHQUFHQyxFQUFFLENBQUNQLHVEQUFnQkEsQ0FBQyxHQUFHO1FBQ3hCLE9BQU8sSUFBSTtJQUNiLEdBQUdPO0FBQ0w7QUFDQTs7Ozs7Q0FLQyxHQUVELFNBQVNPLHFCQUFxQkMsZ0JBQWdCLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxNQUFNO0lBQ3RFLElBQUlYO0lBRUosSUFBSVksWUFBWWxCLHlEQUFjQSxDQUFDYyxpQkFBaUJLLEdBQUc7SUFDbkQsSUFBSUMsaUJBQWlCLENBQUNkLEtBQUtTLFlBQVksUUFBUUEsWUFBWSxLQUFLLElBQUksS0FBSyxJQUFJQSxRQUFRTSxPQUFPLENBQUNDLFFBQVEsTUFBTSxRQUFRaEIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxFQUFFLENBQUNZLFVBQVVLLElBQUksQ0FBQztJQUM5SixJQUFJQyxlQUFlVixpQkFBaUJXLElBQUksR0FBR3hCLHFEQUFVQSxDQUFDYSxpQkFBaUJXLElBQUksRUFBRVQsU0FBU0MsVUFBVU47SUFDaEcsSUFBSWUsWUFBWU4saUJBQWlCTyxvQkFBb0JQLGdCQUFnQk4saUJBQWlCVCxFQUFFLEVBQUVtQixnQkFBZ0JwQixnQkFBZ0JVLGlCQUFpQlQsRUFBRSxHQUFHLGFBQWE7SUFFN0pxQixVQUFVRSxJQUFJLEdBQUdkO0lBQ2pCLE9BQU9ZO0FBQ1Q7QUFDQSxTQUFTQyxvQkFBb0JFLE1BQU0sRUFBRXhCLEVBQUUsRUFBRW9CLElBQUk7SUFDM0MsSUFBSUMsWUFBWXRCLGdCQUFnQkMsS0FBSyxhQUFhO0lBRWxEcUIsVUFBVUksUUFBUSxHQUFHO0lBRXJCLElBQUk1QixvREFBU0EsQ0FBQzJCLFNBQVM7UUFDckIsOEdBQThHO1FBQzlHLElBQUlFLGlCQUFpQkwsVUFBVU0sS0FBSyxHQUFHN0IseURBQU9BLENBQUNRLFdBQVc7WUFDeEQsT0FBTyxDQUFDYyxPQUFPSSxPQUFPSSxXQUFXLENBQUNSLFFBQVFJLE1BQUssRUFBR0ssWUFBWTtRQUNoRTtRQUVBUixVQUFVaEIsV0FBVyxHQUFHO1lBQ3RCLE9BQU9xQjtRQUNUO0lBQ0Y7SUFFQSxPQUFPTDtBQUNUO0FBQ0EsU0FBU1MsUUFBUUMsSUFBSTtJQUNuQixJQUFJO1FBQ0YsT0FBTyxPQUFPQSxLQUFLN0IsSUFBSSxLQUFLO0lBQzlCLEVBQUUsT0FBTzhCLEdBQUc7UUFDVixPQUFPO0lBQ1Q7QUFDRjtBQUNBLFNBQVNDLGVBQWVGLElBQUk7SUFDMUIsT0FBT0QsUUFBUUMsU0FBUyxRQUFRQTtBQUNsQyxFQUFFLGlJQUFpSTtBQUVuSSxTQUFTRyxXQUFXQyxZQUFZO0lBQzlCLElBQUlsQztJQUVKLE9BQU9SLDJEQUFRQSxDQUFFUSxDQUFBQSxLQUFLO1FBQ3BCRSxXQUFXO1lBQ1QsT0FBTztnQkFDTEMsYUFBYTtvQkFDWCxPQUFPLEtBQUs7Z0JBQ2Q7WUFDRjtRQUNGO1FBQ0FKLElBQUk7UUFDSkssYUFBYTtZQUNYLE9BQU9DO1FBQ1Q7SUFDRixHQUFHTCxFQUFFLENBQUNQLHVEQUFnQkEsQ0FBQyxHQUFHO1FBQ3hCLE9BQU8sSUFBSTtJQUNiLEdBQUdPLEVBQUMsR0FBSWtDO0FBQ1Y7QUFFMkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvQWN0b3IuanM/YmIzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IHN5bWJvbE9ic2VydmFibGUsIHRvSW52b2tlU291cmNlLCBtYXBDb250ZXh0LCBpc01hY2hpbmUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IHByb3ZpZGUgfSBmcm9tICcuL3NlcnZpY2VTY29wZS5qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZU51bGxBY3RvcihpZCkge1xuICB2YXIgX2E7XG5cbiAgcmV0dXJuIF9hID0ge1xuICAgIGlkOiBpZCxcbiAgICBzZW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHRvSlNPTjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGlkXG4gICAgICB9O1xuICAgIH1cbiAgfSwgX2Fbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIF9hO1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBkZWZlcnJlZCBhY3RvciB0aGF0IGlzIGFibGUgdG8gYmUgaW52b2tlZCBnaXZlbiB0aGUgcHJvdmlkZWRcclxuICogaW52b2NhdGlvbiBpbmZvcm1hdGlvbiBpbiBpdHMgYC5tZXRhYCB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIGludm9rZURlZmluaXRpb24gVGhlIG1ldGEgaW5mb3JtYXRpb24gbmVlZGVkIHRvIGludm9rZSB0aGUgYWN0b3IuXHJcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVJbnZvY2FibGVBY3RvcihpbnZva2VEZWZpbml0aW9uLCBtYWNoaW5lLCBjb250ZXh0LCBfZXZlbnQpIHtcbiAgdmFyIF9hO1xuXG4gIHZhciBpbnZva2VTcmMgPSB0b0ludm9rZVNvdXJjZShpbnZva2VEZWZpbml0aW9uLnNyYyk7XG4gIHZhciBzZXJ2aWNlQ3JlYXRvciA9IChfYSA9IG1hY2hpbmUgPT09IG51bGwgfHwgbWFjaGluZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFjaGluZS5vcHRpb25zLnNlcnZpY2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbaW52b2tlU3JjLnR5cGVdO1xuICB2YXIgcmVzb2x2ZWREYXRhID0gaW52b2tlRGVmaW5pdGlvbi5kYXRhID8gbWFwQ29udGV4dChpbnZva2VEZWZpbml0aW9uLmRhdGEsIGNvbnRleHQsIF9ldmVudCkgOiB1bmRlZmluZWQ7XG4gIHZhciB0ZW1wQWN0b3IgPSBzZXJ2aWNlQ3JlYXRvciA/IGNyZWF0ZURlZmVycmVkQWN0b3Ioc2VydmljZUNyZWF0b3IsIGludm9rZURlZmluaXRpb24uaWQsIHJlc29sdmVkRGF0YSkgOiBjcmVhdGVOdWxsQWN0b3IoaW52b2tlRGVmaW5pdGlvbi5pZCk7IC8vIEB0cy1pZ25vcmVcblxuICB0ZW1wQWN0b3IubWV0YSA9IGludm9rZURlZmluaXRpb247XG4gIHJldHVybiB0ZW1wQWN0b3I7XG59XG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZEFjdG9yKGVudGl0eSwgaWQsIGRhdGEpIHtcbiAgdmFyIHRlbXBBY3RvciA9IGNyZWF0ZU51bGxBY3RvcihpZCk7IC8vIEB0cy1pZ25vcmVcblxuICB0ZW1wQWN0b3IuZGVmZXJyZWQgPSB0cnVlO1xuXG4gIGlmIChpc01hY2hpbmUoZW50aXR5KSkge1xuICAgIC8vIFwibXV0ZVwiIHRoZSBleGlzdGluZyBzZXJ2aWNlIHNjb3BlIHNvIHBvdGVudGlhbCBzcGF3bmVkIGFjdG9ycyB3aXRoaW4gdGhlIGAuaW5pdGlhbFN0YXRlYCBzdGF5IGRlZmVycmVkIGhlcmVcbiAgICB2YXIgaW5pdGlhbFN0YXRlXzEgPSB0ZW1wQWN0b3Iuc3RhdGUgPSBwcm92aWRlKHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChkYXRhID8gZW50aXR5LndpdGhDb250ZXh0KGRhdGEpIDogZW50aXR5KS5pbml0aWFsU3RhdGU7XG4gICAgfSk7XG5cbiAgICB0ZW1wQWN0b3IuZ2V0U25hcHNob3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbFN0YXRlXzE7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB0ZW1wQWN0b3I7XG59XG5mdW5jdGlvbiBpc0FjdG9yKGl0ZW0pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW0uc2VuZCA9PT0gJ2Z1bmN0aW9uJztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTcGF3bmVkQWN0b3IoaXRlbSkge1xuICByZXR1cm4gaXNBY3RvcihpdGVtKSAmJiAnaWQnIGluIGl0ZW07XG59IC8vIFRPRE86IHJlZmFjdG9yIHRoZSByZXR1cm4gdHlwZSwgdGhpcyBjb3VsZCBiZSB3cml0dGVuIGluIGEgYmV0dGVyIHdheSBidXQgaXQncyBiZXN0IHRvIGF2b2lkIHVubmVjY2Vzc2FyeSBicmVha2luZyBjaGFuZ2VzIG5vd1xuXG5mdW5jdGlvbiB0b0FjdG9yUmVmKGFjdG9yUmVmTGlrZSkge1xuICB2YXIgX2E7XG5cbiAgcmV0dXJuIF9fYXNzaWduKChfYSA9IHtcbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIGlkOiAnYW5vbnltb3VzJyxcbiAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH0sIF9hW3N5bWJvbE9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCBfYSksIGFjdG9yUmVmTGlrZSk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZURlZmVycmVkQWN0b3IsIGNyZWF0ZUludm9jYWJsZUFjdG9yLCBjcmVhdGVOdWxsQWN0b3IsIGlzQWN0b3IsIGlzU3Bhd25lZEFjdG9yLCB0b0FjdG9yUmVmIH07XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJzeW1ib2xPYnNlcnZhYmxlIiwidG9JbnZva2VTb3VyY2UiLCJtYXBDb250ZXh0IiwiaXNNYWNoaW5lIiwicHJvdmlkZSIsImNyZWF0ZU51bGxBY3RvciIsImlkIiwiX2EiLCJzZW5kIiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJnZXRTbmFwc2hvdCIsInVuZGVmaW5lZCIsInRvSlNPTiIsImNyZWF0ZUludm9jYWJsZUFjdG9yIiwiaW52b2tlRGVmaW5pdGlvbiIsIm1hY2hpbmUiLCJjb250ZXh0IiwiX2V2ZW50IiwiaW52b2tlU3JjIiwic3JjIiwic2VydmljZUNyZWF0b3IiLCJvcHRpb25zIiwic2VydmljZXMiLCJ0eXBlIiwicmVzb2x2ZWREYXRhIiwiZGF0YSIsInRlbXBBY3RvciIsImNyZWF0ZURlZmVycmVkQWN0b3IiLCJtZXRhIiwiZW50aXR5IiwiZGVmZXJyZWQiLCJpbml0aWFsU3RhdGVfMSIsInN0YXRlIiwid2l0aENvbnRleHQiLCJpbml0aWFsU3RhdGUiLCJpc0FjdG9yIiwiaXRlbSIsImUiLCJpc1NwYXduZWRBY3RvciIsInRvQWN0b3JSZWYiLCJhY3RvclJlZkxpa2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/Actor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/Machine.js":
/*!*******************************************!*\
  !*** ./node_modules/xstate/es/Machine.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Machine: () => (/* binding */ Machine),\n/* harmony export */   createMachine: () => (/* binding */ createMachine)\n/* harmony export */ });\n/* harmony import */ var _StateNode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StateNode.js */ \"(ssr)/./node_modules/xstate/es/StateNode.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\nvar warned = false;\nfunction Machine(config, options, initialContext) {\n    if (initialContext === void 0) {\n        initialContext = config.context;\n    }\n    return new _StateNode_js__WEBPACK_IMPORTED_MODULE_0__.StateNode(config, options, initialContext);\n}\nfunction createMachine(config, options) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION && !(\"predictableActionArguments\" in config) && !warned) {\n        warned = true;\n        console.warn(\"It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html\");\n    }\n    return new _StateNode_js__WEBPACK_IMPORTED_MODULE_0__.StateNode(config, options);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL01hY2hpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNNO0FBRWpELElBQUlFLFNBQVM7QUFDYixTQUFTQyxRQUFRQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsY0FBYztJQUM5QyxJQUFJQSxtQkFBbUIsS0FBSyxHQUFHO1FBQzdCQSxpQkFBaUJGLE9BQU9HLE9BQU87SUFDakM7SUFFQSxPQUFPLElBQUlQLG9EQUFTQSxDQUFDSSxRQUFRQyxTQUFTQztBQUN4QztBQUNBLFNBQVNFLGNBQWNKLE1BQU0sRUFBRUMsT0FBTztJQUNwQyxJQUFJLENBQUNKLDBEQUFhQSxJQUFJLENBQUUsaUNBQWdDRyxNQUFLLEtBQU0sQ0FBQ0YsUUFBUTtRQUMxRUEsU0FBUztRQUNUTyxRQUFRQyxJQUFJLENBQUM7SUFDZjtJQUVBLE9BQU8sSUFBSVYsb0RBQVNBLENBQUNJLFFBQVFDO0FBQy9CO0FBRWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL01hY2hpbmUuanM/N2I4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGF0ZU5vZGUgfSBmcm9tICcuL1N0YXRlTm9kZS5qcyc7XG5pbXBvcnQgeyBJU19QUk9EVUNUSU9OIH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5cbnZhciB3YXJuZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIE1hY2hpbmUoY29uZmlnLCBvcHRpb25zLCBpbml0aWFsQ29udGV4dCkge1xuICBpZiAoaW5pdGlhbENvbnRleHQgPT09IHZvaWQgMCkge1xuICAgIGluaXRpYWxDb250ZXh0ID0gY29uZmlnLmNvbnRleHQ7XG4gIH1cblxuICByZXR1cm4gbmV3IFN0YXRlTm9kZShjb25maWcsIG9wdGlvbnMsIGluaXRpYWxDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1hY2hpbmUoY29uZmlnLCBvcHRpb25zKSB7XG4gIGlmICghSVNfUFJPRFVDVElPTiAmJiAhKCdwcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cycgaW4gY29uZmlnKSAmJiAhd2FybmVkKSB7XG4gICAgd2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlLndhcm4oJ0l0IGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byBzZXQgYHByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzYCB0byBgdHJ1ZWAgd2hlbiB1c2luZyBgY3JlYXRlTWFjaGluZWAuIGh0dHBzOi8veHN0YXRlLmpzLm9yZy9kb2NzL2d1aWRlcy9hY3Rpb25zLmh0bWwnKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3RhdGVOb2RlKGNvbmZpZywgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCB7IE1hY2hpbmUsIGNyZWF0ZU1hY2hpbmUgfTtcbiJdLCJuYW1lcyI6WyJTdGF0ZU5vZGUiLCJJU19QUk9EVUNUSU9OIiwid2FybmVkIiwiTWFjaGluZSIsImNvbmZpZyIsIm9wdGlvbnMiLCJpbml0aWFsQ29udGV4dCIsImNvbnRleHQiLCJjcmVhdGVNYWNoaW5lIiwiY29uc29sZSIsIndhcm4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/Machine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/State.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/State.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   State: () => (/* binding */ State),\n/* harmony export */   bindActionToState: () => (/* binding */ bindActionToState),\n/* harmony export */   isState: () => (/* binding */ isState),\n/* harmony export */   isStateConfig: () => (/* binding */ isStateConfig),\n/* harmony export */   stateValuesEqual: () => (/* binding */ stateValuesEqual)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/xstate/es/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _stateUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stateUtils.js */ \"(ssr)/./node_modules/xstate/es/stateUtils.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\n\n\n\n\nfunction stateValuesEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a === undefined || b === undefined) {\n        return false;\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(a) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(b)) {\n        return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    return aKeys.length === bKeys.length && aKeys.every(function(key) {\n        return stateValuesEqual(a[key], b[key]);\n    });\n}\nfunction isStateConfig(state) {\n    if (typeof state !== \"object\" || state === null) {\n        return false;\n    }\n    return \"value\" in state && \"_event\" in state;\n}\n/**\r\n * @deprecated Use `isStateConfig(object)` or `state instanceof State` instead.\r\n */ var isState = isStateConfig;\nfunction bindActionToState(action, state) {\n    var exec = action.exec;\n    var boundAction = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, action), {\n        exec: exec !== undefined ? function() {\n            return exec(state.context, state.event, {\n                action: action,\n                state: state,\n                _event: state._event\n            });\n        } : undefined\n    });\n    return boundAction;\n}\nvar State = /*#__PURE__*/ /** @class */ function() {\n    /**\r\n   * Creates a new State instance.\r\n   * @param value The state value\r\n   * @param context The extended state\r\n   * @param historyValue The tree representing historical values of the state nodes\r\n   * @param history The previous state\r\n   * @param actions An array of action objects to execute as side-effects\r\n   * @param activities A mapping of activities and whether they are started (`true`) or stopped (`false`).\r\n   * @param meta\r\n   * @param events Internal event queue. Should be empty with run-to-completion semantics.\r\n   * @param configuration\r\n   */ function State(config) {\n        var _this = this;\n        var _a;\n        this.actions = [];\n        this.activities = _constants_js__WEBPACK_IMPORTED_MODULE_2__.EMPTY_ACTIVITY_MAP;\n        this.meta = {};\n        this.events = [];\n        this.value = config.value;\n        this.context = config.context;\n        this._event = config._event;\n        this._sessionid = config._sessionid;\n        this.event = this._event.data;\n        this.historyValue = config.historyValue;\n        this.history = config.history;\n        this.actions = config.actions || [];\n        this.activities = config.activities || _constants_js__WEBPACK_IMPORTED_MODULE_2__.EMPTY_ACTIVITY_MAP;\n        this.meta = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMeta)(config.configuration);\n        this.events = config.events || [];\n        this.matches = this.matches.bind(this);\n        this.toStrings = this.toStrings.bind(this);\n        this.configuration = config.configuration;\n        this.transitions = config.transitions;\n        this.children = config.children;\n        this.done = !!config.done;\n        this.tags = (_a = Array.isArray(config.tags) ? new Set(config.tags) : config.tags) !== null && _a !== void 0 ? _a : new Set();\n        this.machine = config.machine;\n        Object.defineProperty(this, \"nextEvents\", {\n            get: function() {\n                return (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_3__.nextEvents)(_this.configuration);\n            }\n        });\n    }\n    /**\r\n   * Creates a new State instance for the given `stateValue` and `context`.\r\n   * @param stateValue\r\n   * @param context\r\n   */ State.from = function(stateValue, context) {\n        if (stateValue instanceof State) {\n            if (stateValue.context !== context) {\n                return new State({\n                    value: stateValue.value,\n                    context: context,\n                    _event: stateValue._event,\n                    _sessionid: null,\n                    historyValue: stateValue.historyValue,\n                    history: stateValue.history,\n                    actions: [],\n                    activities: stateValue.activities,\n                    meta: {},\n                    events: [],\n                    configuration: [],\n                    transitions: [],\n                    children: {}\n                });\n            }\n            return stateValue;\n        }\n        var _event = _actions_js__WEBPACK_IMPORTED_MODULE_4__.initEvent;\n        return new State({\n            value: stateValue,\n            context: context,\n            _event: _event,\n            _sessionid: null,\n            historyValue: undefined,\n            history: undefined,\n            actions: [],\n            activities: undefined,\n            meta: undefined,\n            events: [],\n            configuration: [],\n            transitions: [],\n            children: {}\n        });\n    };\n    /**\r\n   * Creates a new State instance for the given `config`.\r\n   * @param config The state config\r\n   */ State.create = function(config) {\n        return new State(config);\n    };\n    /**\r\n   * Creates a new `State` instance for the given `stateValue` and `context` with no actions (side-effects).\r\n   * @param stateValue\r\n   * @param context\r\n   */ State.inert = function(stateValue, context) {\n        if (stateValue instanceof State) {\n            if (!stateValue.actions.length) {\n                return stateValue;\n            }\n            var _event = _actions_js__WEBPACK_IMPORTED_MODULE_4__.initEvent;\n            return new State({\n                value: stateValue.value,\n                context: context,\n                _event: _event,\n                _sessionid: null,\n                historyValue: stateValue.historyValue,\n                history: stateValue.history,\n                activities: stateValue.activities,\n                configuration: stateValue.configuration,\n                transitions: [],\n                children: {}\n            });\n        }\n        return State.from(stateValue, context);\n    };\n    /**\r\n   * Returns an array of all the string leaf state node paths.\r\n   * @param stateValue\r\n   * @param delimiter The character(s) that separate each subpath in the string state node path.\r\n   */ State.prototype.toStrings = function(stateValue, delimiter) {\n        var _this = this;\n        if (stateValue === void 0) {\n            stateValue = this.value;\n        }\n        if (delimiter === void 0) {\n            delimiter = \".\";\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n            return [\n                stateValue\n            ];\n        }\n        var valueKeys = Object.keys(stateValue);\n        return valueKeys.concat.apply(valueKeys, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(valueKeys.map(function(key) {\n            return _this.toStrings(stateValue[key], delimiter).map(function(s) {\n                return key + delimiter + s;\n            });\n        })), false));\n    };\n    State.prototype.toJSON = function() {\n        var _a = this;\n        _a.configuration;\n        _a.transitions;\n        var tags = _a.tags;\n        _a.machine;\n        var jsonValues = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__rest)(_a, [\n            \"configuration\",\n            \"transitions\",\n            \"tags\",\n            \"machine\"\n        ]);\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, jsonValues), {\n            tags: Array.from(tags)\n        });\n    };\n    State.prototype.matches = function(parentStateValue) {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.matchesState)(parentStateValue, this.value);\n    };\n    /**\r\n   * Whether the current state configuration has a state node with the specified `tag`.\r\n   * @param tag\r\n   */ State.prototype.hasTag = function(tag) {\n        return this.tags.has(tag);\n    };\n    /**\r\n   * Determines whether sending the `event` will cause a non-forbidden transition\r\n   * to be selected, even if the transitions have no actions nor\r\n   * change the state value.\r\n   *\r\n   * @param event The event to test\r\n   * @returns Whether the event will cause a transition\r\n   */ State.prototype.can = function(event) {\n        var _a;\n        if (_environment_js__WEBPACK_IMPORTED_MODULE_5__.IS_PRODUCTION) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!!this.machine, \"state.can(...) used outside of a machine-created State object; this will always return false.\");\n        }\n        var transitionData = (_a = this.machine) === null || _a === void 0 ? void 0 : _a.getTransitionData(this, event);\n        return !!(transitionData === null || transitionData === void 0 ? void 0 : transitionData.transitions.length) && // Check that at least one transition is not forbidden\n        transitionData.transitions.some(function(t) {\n            return t.target !== undefined || t.actions.length;\n        });\n    };\n    return State;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL1N0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStFO0FBQzNCO0FBQ007QUFDSjtBQUNiO0FBQ1E7QUFFakQsU0FBU1ksaUJBQWlCQyxDQUFDLEVBQUVDLENBQUM7SUFDNUIsSUFBSUQsTUFBTUMsR0FBRztRQUNYLE9BQU87SUFDVDtJQUVBLElBQUlELE1BQU1FLGFBQWFELE1BQU1DLFdBQVc7UUFDdEMsT0FBTztJQUNUO0lBRUEsSUFBSVYsbURBQVFBLENBQUNRLE1BQU1SLG1EQUFRQSxDQUFDUyxJQUFJO1FBQzlCLE9BQU9ELE1BQU1DO0lBQ2Y7SUFFQSxJQUFJRSxRQUFRQyxPQUFPQyxJQUFJLENBQUNMO0lBQ3hCLElBQUlNLFFBQVFGLE9BQU9DLElBQUksQ0FBQ0o7SUFDeEIsT0FBT0UsTUFBTUksTUFBTSxLQUFLRCxNQUFNQyxNQUFNLElBQUlKLE1BQU1LLEtBQUssQ0FBQyxTQUFVQyxHQUFHO1FBQy9ELE9BQU9WLGlCQUFpQkMsQ0FBQyxDQUFDUyxJQUFJLEVBQUVSLENBQUMsQ0FBQ1EsSUFBSTtJQUN4QztBQUNGO0FBQ0EsU0FBU0MsY0FBY0MsS0FBSztJQUMxQixJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxNQUFNO1FBQy9DLE9BQU87SUFDVDtJQUVBLE9BQU8sV0FBV0EsU0FBUyxZQUFZQTtBQUN6QztBQUNBOztDQUVDLEdBRUQsSUFBSUMsVUFBVUY7QUFDZCxTQUFTRyxrQkFBa0JDLE1BQU0sRUFBRUgsS0FBSztJQUN0QyxJQUFJSSxPQUFPRCxPQUFPQyxJQUFJO0lBRXRCLElBQUlDLGNBQWM3QiwyREFBUUEsQ0FBQ0EsMkRBQVFBLENBQUMsQ0FBQyxHQUFHMkIsU0FBUztRQUMvQ0MsTUFBTUEsU0FBU2IsWUFBWTtZQUN6QixPQUFPYSxLQUFLSixNQUFNTSxPQUFPLEVBQUVOLE1BQU1PLEtBQUssRUFBRTtnQkFDdENKLFFBQVFBO2dCQUNSSCxPQUFPQTtnQkFDUFEsUUFB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LEdBQUcsU0FBVUMsR0FBRztRQUNwQyxPQUFPLElBQUksQ0FBQ3RCLElBQUksQ0FBQ3VCLEdBQUcsQ0FBQ0Q7SUFDdkI7SUFDQTs7Ozs7OztHQU9DLEdBR0QxQyxNQUFNK0IsU0FBUyxDQUFDYSxHQUFHLEdBQUcsU0FBVTlDLEtBQUs7UUFDbkMsSUFBSUs7UUFFSixJQUFJekIsMERBQWFBLEVBQUU7WUFDakJKLCtDQUFJQSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUNrRCxPQUFPLEVBQUU7UUFDdkI7UUFFQSxJQUFJcUIsaUJBQWlCLENBQUMxQyxLQUFLLElBQUksQ0FBQ3FCLE9BQU8sTUFBTSxRQUFRckIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHMkMsaUJBQWlCLENBQUMsSUFBSSxFQUFFaEQ7UUFDekcsT0FBTyxDQUFDLENBQUUrQyxDQUFBQSxtQkFBbUIsUUFBUUEsbUJBQW1CLEtBQUssSUFBSSxLQUFLLElBQUlBLGVBQWU1QixXQUFXLENBQUM5QixNQUFNLEtBQUssc0RBQXNEO1FBQ3RLMEQsZUFBZTVCLFdBQVcsQ0FBQzhCLElBQUksQ0FBQyxTQUFVQyxDQUFDO1lBQ3pDLE9BQU9BLEVBQUVDLE1BQU0sS0FBS25FLGFBQWFrRSxFQUFFNUMsT0FBTyxDQUFDakIsTUFBTTtRQUNuRDtJQUNGO0lBRUEsT0FBT2E7QUFDVDtBQUU4RSIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9TdGF0ZS5qcz80NTE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduLCBfX3NwcmVhZEFycmF5LCBfX3JlYWQsIF9fcmVzdCB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEVNUFRZX0FDVElWSVRZX01BUCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGlzU3RyaW5nLCBtYXRjaGVzU3RhdGUsIHdhcm4gfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldE1ldGEsIG5leHRFdmVudHMgfSBmcm9tICcuL3N0YXRlVXRpbHMuanMnO1xuaW1wb3J0IHsgaW5pdEV2ZW50IH0gZnJvbSAnLi9hY3Rpb25zLmpzJztcbmltcG9ydCB7IElTX1BST0RVQ1RJT04gfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcblxuZnVuY3Rpb24gc3RhdGVWYWx1ZXNFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhhKSB8fCBpc1N0cmluZyhiKSkge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG5cbiAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICByZXR1cm4gYUtleXMubGVuZ3RoID09PSBiS2V5cy5sZW5ndGggJiYgYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzdGF0ZVZhbHVlc0VxdWFsKGFba2V5XSwgYltrZXldKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpc1N0YXRlQ29uZmlnKHN0YXRlKSB7XG4gIGlmICh0eXBlb2Ygc3RhdGUgIT09ICdvYmplY3QnIHx8IHN0YXRlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuICd2YWx1ZScgaW4gc3RhdGUgJiYgJ19ldmVudCcgaW4gc3RhdGU7XG59XG4vKipcclxuICogQGRlcHJlY2F0ZWQgVXNlIGBpc1N0YXRlQ29uZmlnKG9iamVjdClgIG9yIGBzdGF0ZSBpbnN0YW5jZW9mIFN0YXRlYCBpbnN0ZWFkLlxyXG4gKi9cblxudmFyIGlzU3RhdGUgPSBpc1N0YXRlQ29uZmlnO1xuZnVuY3Rpb24gYmluZEFjdGlvblRvU3RhdGUoYWN0aW9uLCBzdGF0ZSkge1xuICB2YXIgZXhlYyA9IGFjdGlvbi5leGVjO1xuXG4gIHZhciBib3VuZEFjdGlvbiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY3Rpb24pLCB7XG4gICAgZXhlYzogZXhlYyAhPT0gdW5kZWZpbmVkID8gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGV4ZWMoc3RhdGUuY29udGV4dCwgc3RhdGUuZXZlbnQsIHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgX2V2ZW50OiBzdGF0ZS5fZXZlbnRcbiAgICAgIH0pO1xuICAgIH0gOiB1bmRlZmluZWRcbiAgfSk7XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uO1xufVxuXG52YXIgU3RhdGUgPVxuLyojX19QVVJFX18qL1xuXG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgU3RhdGUgaW5zdGFuY2UuXHJcbiAgICogQHBhcmFtIHZhbHVlIFRoZSBzdGF0ZSB2YWx1ZVxyXG4gICAqIEBwYXJhbSBjb250ZXh0IFRoZSBleHRlbmRlZCBzdGF0ZVxyXG4gICAqIEBwYXJhbSBoaXN0b3J5VmFsdWUgVGhlIHRyZWUgcmVwcmVzZW50aW5nIGhpc3RvcmljYWwgdmFsdWVzIG9mIHRoZSBzdGF0ZSBub2Rlc1xyXG4gICAqIEBwYXJhbSBoaXN0b3J5IFRoZSBwcmV2aW91cyBzdGF0ZVxyXG4gICAqIEBwYXJhbSBhY3Rpb25zIEFuIGFycmF5IG9mIGFjdGlvbiBvYmplY3RzIHRvIGV4ZWN1dGUgYXMgc2lkZS1lZmZlY3RzXHJcbiAgICogQHBhcmFtIGFjdGl2aXRpZXMgQSBtYXBwaW5nIG9mIGFjdGl2aXRpZXMgYW5kIHdoZXRoZXIgdGhleSBhcmUgc3RhcnRlZCAoYHRydWVgKSBvciBzdG9wcGVkIChgZmFsc2VgKS5cclxuICAgKiBAcGFyYW0gbWV0YVxyXG4gICAqIEBwYXJhbSBldmVudHMgSW50ZXJuYWwgZXZlbnQgcXVldWUuIFNob3VsZCBiZSBlbXB0eSB3aXRoIHJ1bi10by1jb21wbGV0aW9uIHNlbWFudGljcy5cclxuICAgKiBAcGFyYW0gY29uZmlndXJhdGlvblxyXG4gICAqL1xuICBmdW5jdGlvbiBTdGF0ZShjb25maWcpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hO1xuXG4gICAgdGhpcy5hY3Rpb25zID0gW107XG4gICAgdGhpcy5hY3Rpdml0aWVzID0gRU1QVFlfQUNUSVZJVFlfTUFQO1xuICAgIHRoaXMubWV0YSA9IHt9O1xuICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgdGhpcy52YWx1ZSA9IGNvbmZpZy52YWx1ZTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb25maWcuY29udGV4dDtcbiAgICB0aGlzLl9ldmVudCA9IGNvbmZpZy5fZXZlbnQ7XG4gICAgdGhpcy5fc2Vzc2lvbmlkID0gY29uZmlnLl9zZXNzaW9uaWQ7XG4gICAgdGhpcy5ldmVudCA9IHRoaXMuX2V2ZW50LmRhdGE7XG4gICAgdGhpcy5oaXN0b3J5VmFsdWUgPSBjb25maWcuaGlzdG9yeVZhbHVlO1xuICAgIHRoaXMuaGlzdG9yeSA9IGNvbmZpZy5oaXN0b3J5O1xuICAgIHRoaXMuYWN0aW9ucyA9IGNvbmZpZy5hY3Rpb25zIHx8IFtdO1xuICAgIHRoaXMuYWN0aXZpdGllcyA9IGNvbmZpZy5hY3Rpdml0aWVzIHx8IEVNUFRZX0FDVElWSVRZX01BUDtcbiAgICB0aGlzLm1ldGEgPSBnZXRNZXRhKGNvbmZpZy5jb25maWd1cmF0aW9uKTtcbiAgICB0aGlzLmV2ZW50cyA9IGNvbmZpZy5ldmVudHMgfHwgW107XG4gICAgdGhpcy5tYXRjaGVzID0gdGhpcy5tYXRjaGVzLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b1N0cmluZ3MgPSB0aGlzLnRvU3RyaW5ncy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZy5jb25maWd1cmF0aW9uO1xuICAgIHRoaXMudHJhbnNpdGlvbnMgPSBjb25maWcudHJhbnNpdGlvbnM7XG4gICAgdGhpcy5jaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICB0aGlzLmRvbmUgPSAhIWNvbmZpZy5kb25lO1xuICAgIHRoaXMudGFncyA9IChfYSA9IEFycmF5LmlzQXJyYXkoY29uZmlnLnRhZ3MpID8gbmV3IFNldChjb25maWcudGFncykgOiBjb25maWcudGFncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IFNldCgpO1xuICAgIHRoaXMubWFjaGluZSA9IGNvbmZpZy5tYWNoaW5lO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmV4dEV2ZW50cycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV4dEV2ZW50cyhfdGhpcy5jb25maWd1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IFN0YXRlIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYHN0YXRlVmFsdWVgIGFuZCBgY29udGV4dGAuXHJcbiAgICogQHBhcmFtIHN0YXRlVmFsdWVcclxuICAgKiBAcGFyYW0gY29udGV4dFxyXG4gICAqL1xuXG5cbiAgU3RhdGUuZnJvbSA9IGZ1bmN0aW9uIChzdGF0ZVZhbHVlLCBjb250ZXh0KSB7XG4gICAgaWYgKHN0YXRlVmFsdWUgaW5zdGFuY2VvZiBTdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlVmFsdWUuY29udGV4dCAhPT0gY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZTogc3RhdGVWYWx1ZS52YWx1ZSxcbiAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgIF9ldmVudDogc3RhdGVWYWx1ZS5fZXZlbnQsXG4gICAgICAgICAgX3Nlc3Npb25pZDogbnVsbCxcbiAgICAgICAgICBoaXN0b3J5VmFsdWU6IHN0YXRlVmFsdWUuaGlzdG9yeVZhbHVlLFxuICAgICAgICAgIGhpc3Rvcnk6IHN0YXRlVmFsdWUuaGlzdG9yeSxcbiAgICAgICAgICBhY3Rpb25zOiBbXSxcbiAgICAgICAgICBhY3Rpdml0aWVzOiBzdGF0ZVZhbHVlLmFjdGl2aXRpZXMsXG4gICAgICAgICAgbWV0YToge30sXG4gICAgICAgICAgZXZlbnRzOiBbXSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uOiBbXSxcbiAgICAgICAgICB0cmFuc2l0aW9uczogW10sXG4gICAgICAgICAgY2hpbGRyZW46IHt9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhdGVWYWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgX2V2ZW50ID0gaW5pdEV2ZW50O1xuICAgIHJldHVybiBuZXcgU3RhdGUoe1xuICAgICAgdmFsdWU6IHN0YXRlVmFsdWUsXG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgX2V2ZW50OiBfZXZlbnQsXG4gICAgICBfc2Vzc2lvbmlkOiBudWxsLFxuICAgICAgaGlzdG9yeVZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBoaXN0b3J5OiB1bmRlZmluZWQsXG4gICAgICBhY3Rpb25zOiBbXSxcbiAgICAgIGFjdGl2aXRpZXM6IHVuZGVmaW5lZCxcbiAgICAgIG1ldGE6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50czogW10sXG4gICAgICBjb25maWd1cmF0aW9uOiBbXSxcbiAgICAgIHRyYW5zaXRpb25zOiBbXSxcbiAgICAgIGNoaWxkcmVuOiB7fVxuICAgIH0pO1xuICB9O1xuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IFN0YXRlIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYGNvbmZpZ2AuXHJcbiAgICogQHBhcmFtIGNvbmZpZyBUaGUgc3RhdGUgY29uZmlnXHJcbiAgICovXG5cblxuICBTdGF0ZS5jcmVhdGUgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZShjb25maWcpO1xuICB9O1xuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IGBTdGF0ZWAgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBgc3RhdGVWYWx1ZWAgYW5kIGBjb250ZXh0YCB3aXRoIG5vIGFjdGlvbnMgKHNpZGUtZWZmZWN0cykuXHJcbiAgICogQHBhcmFtIHN0YXRlVmFsdWVcclxuICAgKiBAcGFyYW0gY29udGV4dFxyXG4gICAqL1xuXG5cbiAgU3RhdGUuaW5lcnQgPSBmdW5jdGlvbiAoc3RhdGVWYWx1ZSwgY29udGV4dCkge1xuICAgIGlmIChzdGF0ZVZhbHVlIGluc3RhbmNlb2YgU3RhdGUpIHtcbiAgICAgIGlmICghc3RhdGVWYWx1ZS5hY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RhdGVWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9ldmVudCA9IGluaXRFdmVudDtcbiAgICAgIHJldHVybiBuZXcgU3RhdGUoe1xuICAgICAgICB2YWx1ZTogc3RhdGVWYWx1ZS52YWx1ZSxcbiAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgX2V2ZW50OiBfZXZlbnQsXG4gICAgICAgIF9zZXNzaW9uaWQ6IG51bGwsXG4gICAgICAgIGhpc3RvcnlWYWx1ZTogc3RhdGVWYWx1ZS5oaXN0b3J5VmFsdWUsXG4gICAgICAgIGhpc3Rvcnk6IHN0YXRlVmFsdWUuaGlzdG9yeSxcbiAgICAgICAgYWN0aXZpdGllczogc3RhdGVWYWx1ZS5hY3Rpdml0aWVzLFxuICAgICAgICBjb25maWd1cmF0aW9uOiBzdGF0ZVZhbHVlLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHRyYW5zaXRpb25zOiBbXSxcbiAgICAgICAgY2hpbGRyZW46IHt9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gU3RhdGUuZnJvbShzdGF0ZVZhbHVlLCBjb250ZXh0KTtcbiAgfTtcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgdGhlIHN0cmluZyBsZWFmIHN0YXRlIG5vZGUgcGF0aHMuXHJcbiAgICogQHBhcmFtIHN0YXRlVmFsdWVcclxuICAgKiBAcGFyYW0gZGVsaW1pdGVyIFRoZSBjaGFyYWN0ZXIocykgdGhhdCBzZXBhcmF0ZSBlYWNoIHN1YnBhdGggaW4gdGhlIHN0cmluZyBzdGF0ZSBub2RlIHBhdGguXHJcbiAgICovXG5cblxuICBTdGF0ZS5wcm90b3R5cGUudG9TdHJpbmdzID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUsIGRlbGltaXRlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoc3RhdGVWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGF0ZVZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoZGVsaW1pdGVyID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGltaXRlciA9ICcuJztcbiAgICB9XG5cbiAgICBpZiAoaXNTdHJpbmcoc3RhdGVWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBbc3RhdGVWYWx1ZV07XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlS2V5cyA9IE9iamVjdC5rZXlzKHN0YXRlVmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZUtleXMuY29uY2F0LmFwcGx5KHZhbHVlS2V5cywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHZhbHVlS2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzLnRvU3RyaW5ncyhzdGF0ZVZhbHVlW2tleV0sIGRlbGltaXRlcikubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBrZXkgKyBkZWxpbWl0ZXIgKyBzO1xuICAgICAgfSk7XG4gICAgfSkpLCBmYWxzZSkpO1xuICB9O1xuXG4gIFN0YXRlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcztcbiAgICAgICAgX2EuY29uZmlndXJhdGlvbjtcbiAgICAgICAgX2EudHJhbnNpdGlvbnM7XG4gICAgICAgIHZhciB0YWdzID0gX2EudGFncztcbiAgICAgICAgX2EubWFjaGluZTtcbiAgICAgICAgdmFyIGpzb25WYWx1ZXMgPSBfX3Jlc3QoX2EsIFtcImNvbmZpZ3VyYXRpb25cIiwgXCJ0cmFuc2l0aW9uc1wiLCBcInRhZ3NcIiwgXCJtYWNoaW5lXCJdKTtcblxuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwganNvblZhbHVlcyksIHtcbiAgICAgIHRhZ3M6IEFycmF5LmZyb20odGFncylcbiAgICB9KTtcbiAgfTtcblxuICBTdGF0ZS5wcm90b3R5cGUubWF0Y2hlcyA9IGZ1bmN0aW9uIChwYXJlbnRTdGF0ZVZhbHVlKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNTdGF0ZShwYXJlbnRTdGF0ZVZhbHVlLCB0aGlzLnZhbHVlKTtcbiAgfTtcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBjb25maWd1cmF0aW9uIGhhcyBhIHN0YXRlIG5vZGUgd2l0aCB0aGUgc3BlY2lmaWVkIGB0YWdgLlxyXG4gICAqIEBwYXJhbSB0YWdcclxuICAgKi9cblxuXG4gIFN0YXRlLnByb3RvdHlwZS5oYXNUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMudGFncy5oYXModGFnKTtcbiAgfTtcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHNlbmRpbmcgdGhlIGBldmVudGAgd2lsbCBjYXVzZSBhIG5vbi1mb3JiaWRkZW4gdHJhbnNpdGlvblxyXG4gICAqIHRvIGJlIHNlbGVjdGVkLCBldmVuIGlmIHRoZSB0cmFuc2l0aW9ucyBoYXZlIG5vIGFjdGlvbnMgbm9yXHJcbiAgICogY2hhbmdlIHRoZSBzdGF0ZSB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gdGVzdFxyXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGV2ZW50IHdpbGwgY2F1c2UgYSB0cmFuc2l0aW9uXHJcbiAgICovXG5cblxuICBTdGF0ZS5wcm90b3R5cGUuY2FuID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKElTX1BST0RVQ1RJT04pIHtcbiAgICAgIHdhcm4oISF0aGlzLm1hY2hpbmUsIFwic3RhdGUuY2FuKC4uLikgdXNlZCBvdXRzaWRlIG9mIGEgbWFjaGluZS1jcmVhdGVkIFN0YXRlIG9iamVjdDsgdGhpcyB3aWxsIGFsd2F5cyByZXR1cm4gZmFsc2UuXCIpO1xuICAgIH1cblxuICAgIHZhciB0cmFuc2l0aW9uRGF0YSA9IChfYSA9IHRoaXMubWFjaGluZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFRyYW5zaXRpb25EYXRhKHRoaXMsIGV2ZW50KTtcbiAgICByZXR1cm4gISEodHJhbnNpdGlvbkRhdGEgPT09IG51bGwgfHwgdHJhbnNpdGlvbkRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyYW5zaXRpb25EYXRhLnRyYW5zaXRpb25zLmxlbmd0aCkgJiYgLy8gQ2hlY2sgdGhhdCBhdCBsZWFzdCBvbmUgdHJhbnNpdGlvbiBpcyBub3QgZm9yYmlkZGVuXG4gICAgdHJhbnNpdGlvbkRhdGEudHJhbnNpdGlvbnMuc29tZShmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQudGFyZ2V0ICE9PSB1bmRlZmluZWQgfHwgdC5hY3Rpb25zLmxlbmd0aDtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gU3RhdGU7XG59KCk7XG5cbmV4cG9ydCB7IFN0YXRlLCBiaW5kQWN0aW9uVG9TdGF0ZSwgaXNTdGF0ZSwgaXNTdGF0ZUNvbmZpZywgc3RhdGVWYWx1ZXNFcXVhbCB9O1xuIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsIl9fcmVzdCIsIkVNUFRZX0FDVElWSVRZX01BUCIsImlzU3RyaW5nIiwibWF0Y2hlc1N0YXRlIiwid2FybiIsImdldE1ldGEiLCJuZXh0RXZlbnRzIiwiaW5pdEV2ZW50IiwiSVNfUFJPRFVDVElPTiIsInN0YXRlVmFsdWVzRXF1YWwiLCJhIiwiYiIsInVuZGVmaW5lZCIsImFLZXlzIiwiT2JqZWN0Iiwia2V5cyIsImJLZXlzIiwibGVuZ3RoIiwiZXZlcnkiLCJrZXkiLCJpc1N0YXRlQ29uZmlnIiwic3RhdGUiLCJpc1N0YXRlIiwiYmluZEFjdGlvblRvU3RhdGUiLCJhY3Rpb24iLCJleGVjIiwiYm91bmRBY3Rpb24iLCJjb250ZXh0IiwiZXZlbnQiLCJfZXZlbnQiLCJTdGF0ZSIsImNvbmZpZyIsIl90aGlzIiwiX2EiLCJhY3Rpb25zIiwiYWN0aXZpdGllcyIsIm1ldGEiLCJldmVudHMiLCJ2YWx1ZSIsIl9zZXNzaW9uaWQiLCJkYXRhIiwiaGlzdG9yeVZhbHVlIiwiaGlzdG9yeSIsImNvbmZpZ3VyYXRpb24iLCJtYXRjaGVzIiwiYmluZCIsInRvU3RyaW5ncyIsInRyYW5zaXRpb25zIiwiY2hpbGRyZW4iLCJkb25lIiwidGFncyIsIkFycmF5IiwiaXNBcnJheSIsIlNldCIsIm1hY2hpbmUiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsImZyb20iLCJzdGF0ZVZhbHVlIiwiY3JlYXRlIiwiaW5lcnQiLCJwcm90b3R5cGUiLCJkZWxpbWl0ZXIiLCJ2YWx1ZUtleXMiLCJjb25jYXQiLCJhcHBseSIsIm1hcCIsInMiLCJ0b0pTT04iLCJqc29uVmFsdWVzIiwicGFyZW50U3RhdGVWYWx1ZSIsImhhc1RhZyIsInRhZyIsImhhcyIsImNhbiIsInRyYW5zaXRpb25EYXRhIiwiZ2V0VHJhbnNpdGlvbkRhdGEiLCJzb21lIiwidCIsInRhcmdldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/State.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/StateNode.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/StateNode.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateNode: () => (/* binding */ StateNode)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/xstate/es/constants.js\");\n/* harmony import */ var _stateUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stateUtils.js */ \"(ssr)/./node_modules/xstate/es/stateUtils.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./invokeUtils.js */ \"(ssr)/./node_modules/xstate/es/invokeUtils.js\");\n\n\n\n\n\n\n\n\n\n\nvar NULL_EVENT = \"\";\nvar STATE_IDENTIFIER = \"#\";\nvar WILDCARD = \"*\";\nvar EMPTY_OBJECT = {};\nvar isStateId = function(str) {\n    return str[0] === STATE_IDENTIFIER;\n};\nvar createDefaultOptions = function() {\n    return {\n        actions: {},\n        guards: {},\n        services: {},\n        activities: {},\n        delays: {}\n    };\n};\nvar validateArrayifiedTransitions = function(stateNode, event, transitions) {\n    var hasNonLastUnguardedTarget = transitions.slice(0, -1).some(function(transition) {\n        return !(\"cond\" in transition) && !(\"in\" in transition) && ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(transition.target) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(transition.target));\n    });\n    var eventText = event === NULL_EVENT ? \"the transient event\" : \"event '\".concat(event, \"'\");\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!hasNonLastUnguardedTarget, \"One or more transitions for \".concat(eventText, \" on state '\").concat(stateNode.id, \"' are unreachable. \") + \"Make sure that the default transition is the last one defined.\");\n};\nvar StateNode = /*#__PURE__*/ /** @class */ function() {\n    function StateNode(/**\r\n   * The raw config used to create the machine.\r\n   */ config, options, /**\r\n   * The initial extended state\r\n   */ _context, _stateInfo) {\n        if (_context === void 0) {\n            _context = \"context\" in config ? config.context : undefined;\n        }\n        var _this = this;\n        var _a;\n        this.config = config;\n        this._context = _context;\n        /**\r\n     * The order this state node appears. Corresponds to the implicit SCXML document order.\r\n     */ this.order = -1;\n        this.__xstatenode = true;\n        this.__cache = {\n            events: undefined,\n            relativeValue: new Map(),\n            initialStateValue: undefined,\n            initialState: undefined,\n            on: undefined,\n            transitions: undefined,\n            candidates: {},\n            delayedTransitions: undefined\n        };\n        this.idMap = {};\n        this.tags = [];\n        this.options = Object.assign(createDefaultOptions(), options);\n        this.parent = _stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.parent;\n        this.key = this.config.key || (_stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.key) || this.config.id || \"(machine)\";\n        this.machine = this.parent ? this.parent.machine : this;\n        this.path = this.parent ? this.parent.path.concat(this.key) : [];\n        this.delimiter = this.config.delimiter || (this.parent ? this.parent.delimiter : _constants_js__WEBPACK_IMPORTED_MODULE_1__.STATE_DELIMITER);\n        this.id = this.config.id || (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([\n            this.machine.key\n        ], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(this.path), false).join(this.delimiter);\n        this.version = this.parent ? this.parent.version : this.config.version;\n        this.type = this.config.type || (this.config.parallel ? \"parallel\" : this.config.states && Object.keys(this.config.states).length ? \"compound\" : this.config.history ? \"history\" : \"atomic\");\n        this.schema = this.parent ? this.machine.schema : (_a = this.config.schema) !== null && _a !== void 0 ? _a : {};\n        this.description = this.config.description;\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!(\"parallel\" in this.config), 'The \"parallel\" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel ? \"Replace with `type: 'parallel'`\" : \"Use `type: '\".concat(this.type, \"'`\"), \" in the config for state node '\").concat(this.id, \"' instead.\"));\n        }\n        this.initial = this.config.initial;\n        this.states = this.config.states ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(this.config.states, function(stateConfig, key) {\n            var _a;\n            var stateNode = new StateNode(stateConfig, {}, undefined, {\n                parent: _this,\n                key: key\n            });\n            Object.assign(_this.idMap, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_a = {}, _a[stateNode.id] = stateNode, _a), stateNode.idMap));\n            return stateNode;\n        }) : EMPTY_OBJECT; // Document order\n        var order = 0;\n        function dfs(stateNode) {\n            var e_1, _a;\n            stateNode.order = order++;\n            try {\n                for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getAllChildren)(stateNode)), _c = _b.next(); !_c.done; _c = _b.next()){\n                    var child = _c.value;\n                    dfs(child);\n                }\n            } catch (e_1_1) {\n                e_1 = {\n                    error: e_1_1\n                };\n            } finally{\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                } finally{\n                    if (e_1) throw e_1.error;\n                }\n            }\n        }\n        dfs(this); // History config\n        this.history = this.config.history === true ? \"shallow\" : this.config.history || false;\n        this._transient = !!this.config.always || (!this.config.on ? false : Array.isArray(this.config.on) ? this.config.on.some(function(_a) {\n            var event = _a.event;\n            return event === NULL_EVENT;\n        }) : NULL_EVENT in this.config.on);\n        this.strict = !!this.config.strict; // TODO: deprecate (entry)\n        this.onEntry = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.entry || this.config.onEntry).map(function(action) {\n            return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObject)(action);\n        }); // TODO: deprecate (exit)\n        this.onExit = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.exit || this.config.onExit).map(function(action) {\n            return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObject)(action);\n        });\n        this.meta = this.config.meta;\n        this.doneData = this.type === \"final\" ? this.config.data : undefined;\n        this.invoke = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.invoke).map(function(invokeConfig, i) {\n            var _a, _b;\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(invokeConfig)) {\n                var invokeId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i);\n                _this.machine.options.services = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_a = {}, _a[invokeId] = invokeConfig, _a), _this.machine.options.services);\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)({\n                    src: invokeId,\n                    id: invokeId\n                });\n            } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(invokeConfig.src)) {\n                var invokeId = invokeConfig.id || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i);\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, invokeConfig), {\n                    id: invokeId,\n                    src: invokeConfig.src\n                }));\n            } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(invokeConfig.src) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(invokeConfig.src)) {\n                var invokeId = invokeConfig.id || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i);\n                _this.machine.options.services = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_b = {}, _b[invokeId] = invokeConfig.src, _b), _this.machine.options.services);\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({\n                    id: invokeId\n                }, invokeConfig), {\n                    src: invokeId\n                }));\n            } else {\n                var invokeSource = invokeConfig.src;\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({\n                    id: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i)\n                }, invokeConfig), {\n                    src: invokeSource\n                }));\n            }\n        });\n        this.activities = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.activities).concat(this.invoke).map(function(activity) {\n            return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActivityDefinition)(activity);\n        });\n        this.transition = this.transition.bind(this);\n        this.tags = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.tags); // TODO: this is the real fix for initialization once\n    // state node getters are deprecated\n    // if (!this.parent) {\n    //   this._init();\n    // }\n    }\n    StateNode.prototype._init = function() {\n        if (this.__cache.transitions) {\n            return;\n        }\n        (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getAllStateNodes)(this).forEach(function(stateNode) {\n            return stateNode.on;\n        });\n    };\n    /**\r\n   * Clones this state machine with custom options and context.\r\n   *\r\n   * @param options Options (actions, guards, activities, services) to recursively merge with the existing options.\r\n   * @param context Custom context (will override predefined context)\r\n   */ StateNode.prototype.withConfig = function(options, context) {\n        var _a = this.options, actions = _a.actions, activities = _a.activities, guards = _a.guards, services = _a.services, delays = _a.delays;\n        return new StateNode(this.config, {\n            actions: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, actions), options.actions),\n            activities: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, activities), options.activities),\n            guards: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, guards), options.guards),\n            services: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, services), options.services),\n            delays: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, delays), options.delays)\n        }, context !== null && context !== void 0 ? context : this.context);\n    };\n    /**\r\n   * Clones this state machine with custom context.\r\n   *\r\n   * @param context Custom context (will override predefined context, not recursive)\r\n   */ StateNode.prototype.withContext = function(context) {\n        return new StateNode(this.config, this.options, context);\n    };\n    Object.defineProperty(StateNode.prototype, \"context\", {\n        get: function() {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(this._context) ? this._context() : this._context;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"definition\", {\n        /**\r\n     * The well-structured state node definition.\r\n     */ get: function() {\n            return {\n                id: this.id,\n                key: this.key,\n                version: this.version,\n                context: this.context,\n                type: this.type,\n                initial: this.initial,\n                history: this.history,\n                states: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(this.states, function(state) {\n                    return state.definition;\n                }),\n                on: this.on,\n                transitions: this.transitions,\n                entry: this.onEntry,\n                exit: this.onExit,\n                activities: this.activities || [],\n                meta: this.meta,\n                order: this.order || -1,\n                data: this.doneData,\n                invoke: this.invoke,\n                description: this.description,\n                tags: this.tags\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.toJSON = function() {\n        return this.definition;\n    };\n    Object.defineProperty(StateNode.prototype, \"on\", {\n        /**\r\n     * The mapping of events to transitions.\r\n     */ get: function() {\n            if (this.__cache.on) {\n                return this.__cache.on;\n            }\n            var transitions = this.transitions;\n            return this.__cache.on = transitions.reduce(function(map, transition) {\n                map[transition.eventType] = map[transition.eventType] || [];\n                map[transition.eventType].push(transition);\n                return map;\n            }, {});\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"after\", {\n        get: function() {\n            return this.__cache.delayedTransitions || (this.__cache.delayedTransitions = this.getDelayedTransitions(), this.__cache.delayedTransitions);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"transitions\", {\n        /**\r\n     * All the transitions that can be taken from this state node.\r\n     */ get: function() {\n            return this.__cache.transitions || (this.__cache.transitions = this.formatTransitions(), this.__cache.transitions);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.getCandidates = function(eventName) {\n        if (this.__cache.candidates[eventName]) {\n            return this.__cache.candidates[eventName];\n        }\n        var transient = eventName === NULL_EVENT;\n        var candidates = this.transitions.filter(function(transition) {\n            var sameEventType = transition.eventType === eventName; // null events should only match against eventless transitions\n            return transient ? sameEventType : sameEventType || transition.eventType === WILDCARD;\n        });\n        this.__cache.candidates[eventName] = candidates;\n        return candidates;\n    };\n    /**\r\n   * All delayed transitions from the config.\r\n   */ StateNode.prototype.getDelayedTransitions = function() {\n        var _this = this;\n        var afterConfig = this.config.after;\n        if (!afterConfig) {\n            return [];\n        }\n        var mutateEntryExit = function(delay, i) {\n            var delayRef = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(delay) ? \"\".concat(_this.id, \":delay[\").concat(i, \"]\") : delay;\n            var eventType = (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.after)(delayRef, _this.id);\n            _this.onEntry.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.send)(eventType, {\n                delay: delay\n            }));\n            _this.onExit.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.cancel)(eventType));\n            return eventType;\n        };\n        var delayedTransitions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(afterConfig) ? afterConfig.map(function(transition, i) {\n            var eventType = mutateEntryExit(transition.delay, i);\n            return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transition), {\n                event: eventType\n            });\n        }) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(afterConfig).map(function(delay, i) {\n            var configTransition = afterConfig[delay];\n            var resolvedTransition = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(configTransition) ? {\n                target: configTransition\n            } : configTransition;\n            var resolvedDelay = !isNaN(+delay) ? +delay : delay;\n            var eventType = mutateEntryExit(resolvedDelay, i);\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(resolvedTransition).map(function(transition) {\n                return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transition), {\n                    event: eventType,\n                    delay: resolvedDelay\n                });\n            });\n        }));\n        return delayedTransitions.map(function(delayedTransition) {\n            var delay = delayedTransition.delay;\n            return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, _this.formatTransition(delayedTransition)), {\n                delay: delay\n            });\n        });\n    };\n    /**\r\n   * Returns the state nodes represented by the current state value.\r\n   *\r\n   * @param state The state value or State instance\r\n   */ StateNode.prototype.getStateNodes = function(state) {\n        var _a;\n        var _this = this;\n        if (!state) {\n            return [];\n        }\n        var stateValue = state instanceof _State_js__WEBPACK_IMPORTED_MODULE_7__.State ? state.value : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStateValue)(state, this.delimiter);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n            var initialStateValue = this.getStateNode(stateValue).initial;\n            return initialStateValue !== undefined ? this.getStateNodes((_a = {}, _a[stateValue] = initialStateValue, _a)) : [\n                this,\n                this.states[stateValue]\n            ];\n        }\n        var subStateKeys = Object.keys(stateValue);\n        var subStateNodes = [\n            this\n        ];\n        subStateNodes.push.apply(subStateNodes, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(subStateKeys.map(function(subStateKey) {\n            return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);\n        }))), false));\n        return subStateNodes;\n    };\n    /**\r\n   * Returns `true` if this state node explicitly handles the given event.\r\n   *\r\n   * @param event The event in question\r\n   */ StateNode.prototype.handles = function(event) {\n        var eventType = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getEventType)(event);\n        return this.events.includes(eventType);\n    };\n    /**\r\n   * Resolves the given `state` to a new `State` instance relative to this machine.\r\n   *\r\n   * This ensures that `.events` and `.nextEvents` represent the correct values.\r\n   *\r\n   * @param state The state to resolve\r\n   */ StateNode.prototype.resolveState = function(state) {\n        var stateFromConfig = state instanceof _State_js__WEBPACK_IMPORTED_MODULE_7__.State ? state : _State_js__WEBPACK_IMPORTED_MODULE_7__.State.create(state);\n        var configuration = Array.from((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)([], this.getStateNodes(stateFromConfig.value)));\n        return new _State_js__WEBPACK_IMPORTED_MODULE_7__.State((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, stateFromConfig), {\n            value: this.resolve(stateFromConfig.value),\n            configuration: configuration,\n            done: (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isInFinalState)(configuration, this),\n            tags: (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTagsFromConfiguration)(configuration),\n            machine: this.machine\n        }));\n    };\n    StateNode.prototype.transitionLeafNode = function(stateValue, state, _event) {\n        var stateNode = this.getStateNode(stateValue);\n        var next = stateNode.next(state, _event);\n        if (!next || !next.transitions.length) {\n            return this.next(state, _event);\n        }\n        return next;\n    };\n    StateNode.prototype.transitionCompoundNode = function(stateValue, state, _event) {\n        var subStateKeys = Object.keys(stateValue);\n        var stateNode = this.getStateNode(subStateKeys[0]);\n        var next = stateNode._transition(stateValue[subStateKeys[0]], state, _event);\n        if (!next || !next.transitions.length) {\n            return this.next(state, _event);\n        }\n        return next;\n    };\n    StateNode.prototype.transitionParallelNode = function(stateValue, state, _event) {\n        var e_2, _a;\n        var transitionMap = {};\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(Object.keys(stateValue)), _c = _b.next(); !_c.done; _c = _b.next()){\n                var subStateKey = _c.value;\n                var subStateValue = stateValue[subStateKey];\n                if (!subStateValue) {\n                    continue;\n                }\n                var subStateNode = this.getStateNode(subStateKey);\n                var next = subStateNode._transition(subStateValue, state, _event);\n                if (next) {\n                    transitionMap[subStateKey] = next;\n                }\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        var stateTransitions = Object.keys(transitionMap).map(function(key) {\n            return transitionMap[key];\n        });\n        var enabledTransitions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(stateTransitions.map(function(st) {\n            return st.transitions;\n        }));\n        var willTransition = stateTransitions.some(function(st) {\n            return st.transitions.length > 0;\n        });\n        if (!willTransition) {\n            return this.next(state, _event);\n        }\n        var configuration = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(transitionMap).map(function(key) {\n            return transitionMap[key].configuration;\n        }));\n        return {\n            transitions: enabledTransitions,\n            exitSet: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(stateTransitions.map(function(t) {\n                return t.exitSet;\n            })),\n            configuration: configuration,\n            source: state,\n            actions: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(transitionMap).map(function(key) {\n                return transitionMap[key].actions;\n            }))\n        };\n    };\n    StateNode.prototype._transition = function(stateValue, state, _event) {\n        // leaf node\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n            return this.transitionLeafNode(stateValue, state, _event);\n        } // hierarchical node\n        if (Object.keys(stateValue).length === 1) {\n            return this.transitionCompoundNode(stateValue, state, _event);\n        } // orthogonal node\n        return this.transitionParallelNode(stateValue, state, _event);\n    };\n    StateNode.prototype.getTransitionData = function(state, event) {\n        return this._transition(state.value, state, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event));\n    };\n    StateNode.prototype.next = function(state, _event) {\n        var e_3, _a;\n        var _this = this;\n        var eventName = _event.name;\n        var actions = [];\n        var nextStateNodes = [];\n        var selectedTransition;\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(this.getCandidates(eventName)), _c = _b.next(); !_c.done; _c = _b.next()){\n                var candidate = _c.value;\n                var cond = candidate.cond, stateIn = candidate.in;\n                var resolvedContext = state.context;\n                var isInState = stateIn ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateIn) && isStateId(stateIn) ? state.matches((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStateValue)(this.getStateNodeById(stateIn).path, this.delimiter)) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.matchesState)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStateValue)(stateIn, this.delimiter), (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.path)(this.path.slice(0, -2))(state.value)) : true;\n                var guardPassed = false;\n                try {\n                    guardPassed = !cond || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.evaluateGuard)(this.machine, cond, resolvedContext, _event, state);\n                } catch (err) {\n                    throw new Error(\"Unable to evaluate guard '\".concat(cond.name || cond.type, \"' in transition for event '\").concat(eventName, \"' in state node '\").concat(this.id, \"':\\n\").concat(err.message));\n                }\n                if (guardPassed && isInState) {\n                    if (candidate.target !== undefined) {\n                        nextStateNodes = candidate.target;\n                    }\n                    actions.push.apply(actions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(candidate.actions), false));\n                    selectedTransition = candidate;\n                    break;\n                }\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        if (!selectedTransition) {\n            return undefined;\n        }\n        if (!nextStateNodes.length) {\n            return {\n                transitions: [\n                    selectedTransition\n                ],\n                exitSet: [],\n                configuration: state.value ? [\n                    this\n                ] : [],\n                source: state,\n                actions: actions\n            };\n        }\n        var allNextStateNodes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(nextStateNodes.map(function(stateNode) {\n            return _this.getRelativeStateNodes(stateNode, state.historyValue);\n        }));\n        var isInternal = !!selectedTransition.internal;\n        return {\n            transitions: [\n                selectedTransition\n            ],\n            exitSet: isInternal ? [] : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(nextStateNodes.map(function(targetNode) {\n                return _this.getPotentiallyReenteringNodes(targetNode);\n            })),\n            configuration: allNextStateNodes,\n            source: state,\n            actions: actions\n        };\n    }; // even though the name of this function mentions reentry nodes\n    // we are pushing its result into `exitSet`\n    // that's because what we exit might be reentered (it's an invariant of reentrancy)\n    StateNode.prototype.getPotentiallyReenteringNodes = function(targetNode) {\n        if (this.order < targetNode.order) {\n            return [\n                this\n            ];\n        }\n        var nodes = [];\n        var marker = this;\n        var possibleAncestor = targetNode;\n        while(marker && marker !== possibleAncestor){\n            nodes.push(marker);\n            marker = marker.parent;\n        }\n        if (marker !== possibleAncestor) {\n            // we never got to `possibleAncestor`, therefore the initial `marker` \"escapes\" it\n            // it's in a different part of the tree so no states will be reentered for such an external transition\n            return [];\n        }\n        nodes.push(possibleAncestor);\n        return nodes;\n    };\n    StateNode.prototype.getActions = function(resolvedConfig, isDone, transition, currentContext, _event, prevState, predictableExec) {\n        var e_4, _a, e_5, _b;\n        var _this = this;\n        var prevConfig = prevState ? (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)([], this.getStateNodes(prevState.value)) : [];\n        var entrySet = new Set();\n        try {\n            for(var _c = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(Array.from(resolvedConfig).sort(function(a, b) {\n                return a.order - b.order;\n            })), _d = _c.next(); !_d.done; _d = _c.next()){\n                var sn = _d.value;\n                if (!(0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(prevConfig, sn) || (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(transition.exitSet, sn) || sn.parent && entrySet.has(sn.parent)) {\n                    entrySet.add(sn);\n                }\n            }\n        } catch (e_4_1) {\n            e_4 = {\n                error: e_4_1\n            };\n        } finally{\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            } finally{\n                if (e_4) throw e_4.error;\n            }\n        }\n        try {\n            for(var prevConfig_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(prevConfig), prevConfig_1_1 = prevConfig_1.next(); !prevConfig_1_1.done; prevConfig_1_1 = prevConfig_1.next()){\n                var sn = prevConfig_1_1.value;\n                if (!(0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(resolvedConfig, sn) || (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(transition.exitSet, sn.parent)) {\n                    transition.exitSet.push(sn);\n                }\n            }\n        } catch (e_5_1) {\n            e_5 = {\n                error: e_5_1\n            };\n        } finally{\n            try {\n                if (prevConfig_1_1 && !prevConfig_1_1.done && (_b = prevConfig_1.return)) _b.call(prevConfig_1);\n            } finally{\n                if (e_5) throw e_5.error;\n            }\n        }\n        transition.exitSet.sort(function(a, b) {\n            return b.order - a.order;\n        });\n        var entryStates = Array.from(entrySet).sort(function(a, b) {\n            return a.order - b.order;\n        });\n        var exitStates = new Set(transition.exitSet);\n        var doneEvents = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(entryStates.map(function(sn) {\n            var events = [];\n            if (sn.type !== \"final\") {\n                return events;\n            }\n            var parent = sn.parent;\n            if (!parent.parent) {\n                return events;\n            }\n            events.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(sn.id, sn.doneData), (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(parent.id, sn.doneData ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(sn.doneData, currentContext, _event) : undefined));\n            var grandparent = parent.parent;\n            if (grandparent.type === \"parallel\") {\n                if ((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getChildren)(grandparent).every(function(parentNode) {\n                    return (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isInFinalState)(transition.configuration, parentNode);\n                })) {\n                    events.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(grandparent.id));\n                }\n            }\n            return events;\n        }));\n        var entryActions = entryStates.map(function(stateNode) {\n            var entryActions = stateNode.onEntry;\n            var invokeActions = stateNode.activities.map(function(activity) {\n                return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.start)(activity);\n            });\n            return {\n                type: \"entry\",\n                actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)(predictableExec ? (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(entryActions), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(invokeActions), false) : (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(invokeActions), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(entryActions), false), _this.machine.options.actions)\n            };\n        }).concat({\n            type: \"state_done\",\n            actions: doneEvents.map(function(event) {\n                return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.raise)(event);\n            })\n        });\n        var exitActions = Array.from(exitStates).map(function(stateNode) {\n            return {\n                type: \"exit\",\n                actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(stateNode.onExit), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(stateNode.activities.map(function(activity) {\n                    return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.stop)(activity);\n                })), false), _this.machine.options.actions)\n            };\n        });\n        var actions = exitActions.concat({\n            type: \"transition\",\n            actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)(transition.actions, this.machine.options.actions)\n        }).concat(entryActions);\n        if (isDone) {\n            var stopActions = (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolvedConfig), false).sort(function(a, b) {\n                return b.order - a.order;\n            }).map(function(stateNode) {\n                return stateNode.onExit;\n            })), this.machine.options.actions).filter(function(action) {\n                return !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isRaisableAction)(action);\n            });\n            return actions.concat({\n                type: \"stop\",\n                actions: stopActions\n            });\n        }\n        return actions;\n    };\n    /**\r\n   * Determines the next state given the current `state` and sent `event`.\r\n   *\r\n   * @param state The current State instance or state value\r\n   * @param event The event that was sent at the current state\r\n   * @param context The current context (extended state) of the current state\r\n   */ StateNode.prototype.transition = function(state, event, context, exec) {\n        if (state === void 0) {\n            state = this.initialState;\n        }\n        var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event);\n        var currentState;\n        if (state instanceof _State_js__WEBPACK_IMPORTED_MODULE_7__.State) {\n            currentState = context === undefined ? state : this.resolveState(_State_js__WEBPACK_IMPORTED_MODULE_7__.State.from(state, context));\n        } else {\n            var resolvedStateValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(state) ? this.resolve((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.pathToStateValue)(this.getResolvedPath(state))) : this.resolve(state);\n            var resolvedContext = context !== null && context !== void 0 ? context : this.machine.context;\n            currentState = this.resolveState(_State_js__WEBPACK_IMPORTED_MODULE_7__.State.from(resolvedStateValue, resolvedContext));\n        }\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION && _event.name === WILDCARD) {\n            throw new Error(\"An event cannot have the wildcard type ('\".concat(WILDCARD, \"')\"));\n        }\n        if (this.strict) {\n            if (!this.events.includes(_event.name) && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBuiltInEvent)(_event.name)) {\n                throw new Error(\"Machine '\".concat(this.id, \"' does not accept event '\").concat(_event.name, \"'\"));\n            }\n        }\n        var stateTransition = this._transition(currentState.value, currentState, _event) || {\n            transitions: [],\n            configuration: [],\n            exitSet: [],\n            source: currentState,\n            actions: []\n        };\n        var prevConfig = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)([], this.getStateNodes(currentState.value));\n        var resolvedConfig = stateTransition.configuration.length ? (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)(prevConfig, stateTransition.configuration) : prevConfig;\n        stateTransition.configuration = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolvedConfig), false);\n        return this.resolveTransition(stateTransition, currentState, currentState.context, exec, _event);\n    };\n    StateNode.prototype.resolveRaisedTransition = function(state, _event, originalEvent, predictableExec) {\n        var _a;\n        var currentActions = state.actions;\n        state = this.transition(state, _event, undefined, predictableExec); // Save original event to state\n        // TODO: this should be the raised event! Delete in V5 (breaking)\n        state._event = originalEvent;\n        state.event = originalEvent.data;\n        (_a = state.actions).unshift.apply(_a, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(currentActions), false));\n        return state;\n    };\n    StateNode.prototype.resolveTransition = function(stateTransition, currentState, context, predictableExec, _event) {\n        var e_6, _a, e_7, _b;\n        var _this = this;\n        if (_event === void 0) {\n            _event = _actions_js__WEBPACK_IMPORTED_MODULE_5__.initEvent;\n        }\n        var configuration = stateTransition.configuration; // Transition will \"apply\" if:\n        // - this is the initial state (there is no current state)\n        // - OR there are transitions\n        var willTransition = !currentState || stateTransition.transitions.length > 0;\n        var resolvedConfiguration = willTransition ? stateTransition.configuration : currentState ? currentState.configuration : [];\n        var isDone = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isInFinalState)(resolvedConfiguration, this);\n        var resolvedStateValue = willTransition ? (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getValue)(this.machine, configuration) : undefined;\n        var historyValue = currentState ? currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : undefined : undefined;\n        var actionBlocks = this.getActions(new Set(resolvedConfiguration), isDone, stateTransition, context, _event, currentState, predictableExec);\n        var activities = currentState ? (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, currentState.activities) : {};\n        try {\n            for(var actionBlocks_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()){\n                var block = actionBlocks_1_1.value;\n                try {\n                    for(var _c = (e_7 = void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(block.actions)), _d = _c.next(); !_d.done; _d = _c.next()){\n                        var action = _d.value;\n                        if (action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.start) {\n                            activities[action.activity.id || action.activity.type] = action;\n                        } else if (action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.stop) {\n                            activities[action.activity.id || action.activity.type] = false;\n                        }\n                    }\n                } catch (e_7_1) {\n                    e_7 = {\n                        error: e_7_1\n                    };\n                } finally{\n                    try {\n                        if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                    } finally{\n                        if (e_7) throw e_7.error;\n                    }\n                }\n            }\n        } catch (e_6_1) {\n            e_6 = {\n                error: e_6_1\n            };\n        } finally{\n            try {\n                if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n            } finally{\n                if (e_6) throw e_6.error;\n            }\n        }\n        var _e = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.resolveActions)(this, currentState, context, _event, actionBlocks, predictableExec, this.machine.config.predictableActionArguments || this.machine.config.preserveActionOrder), 2), resolvedActions = _e[0], updatedContext = _e[1];\n        var _f = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.partition)(resolvedActions, _utils_js__WEBPACK_IMPORTED_MODULE_0__.isRaisableAction), 2), raisedEvents = _f[0], nonRaisedActions = _f[1];\n        var invokeActions = resolvedActions.filter(function(action) {\n            var _a;\n            return action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.start && ((_a = action.activity) === null || _a === void 0 ? void 0 : _a.type) === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.invoke;\n        });\n        var children = invokeActions.reduce(function(acc, action) {\n            acc[action.activity.id] = (0,_Actor_js__WEBPACK_IMPORTED_MODULE_9__.createInvocableActor)(action.activity, _this.machine, updatedContext, _event);\n            return acc;\n        }, currentState ? (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, currentState.children) : {});\n        var nextState = new _State_js__WEBPACK_IMPORTED_MODULE_7__.State({\n            value: resolvedStateValue || currentState.value,\n            context: updatedContext,\n            _event: _event,\n            // Persist _sessionid between states\n            _sessionid: currentState ? currentState._sessionid : null,\n            historyValue: resolvedStateValue ? historyValue ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.updateHistoryValue)(historyValue, resolvedStateValue) : undefined : currentState ? currentState.historyValue : undefined,\n            history: !resolvedStateValue || stateTransition.source ? currentState : undefined,\n            actions: resolvedStateValue ? nonRaisedActions : [],\n            activities: resolvedStateValue ? activities : currentState ? currentState.activities : {},\n            events: [],\n            configuration: resolvedConfiguration,\n            transitions: stateTransition.transitions,\n            children: children,\n            done: isDone,\n            tags: (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTagsFromConfiguration)(resolvedConfiguration),\n            machine: this\n        });\n        var didUpdateContext = context !== updatedContext;\n        nextState.changed = _event.name === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.update || didUpdateContext; // Dispose of penultimate histories to prevent memory leaks\n        var history = nextState.history;\n        if (history) {\n            delete history.history;\n        } // There are transient transitions if the machine is not in a final state\n        // and if some of the state nodes have transient (\"always\") transitions.\n        var hasAlwaysTransitions = !isDone && (this._transient || configuration.some(function(stateNode) {\n            return stateNode._transient;\n        })); // If there are no enabled transitions, check if there are transient transitions.\n        // If there are transient transitions, continue checking for more transitions\n        // because an transient transition should be triggered even if there are no\n        // enabled transitions.\n        //\n        // If we're already working on an transient transition then stop to prevent an infinite loop.\n        //\n        // Otherwise, if there are no enabled nor transient transitions, we are done.\n        if (!willTransition && (!hasAlwaysTransitions || _event.name === NULL_EVENT)) {\n            return nextState;\n        }\n        var maybeNextState = nextState;\n        if (!isDone) {\n            if (hasAlwaysTransitions) {\n                maybeNextState = this.resolveRaisedTransition(maybeNextState, {\n                    type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.nullEvent\n                }, _event, predictableExec);\n            }\n            while(raisedEvents.length){\n                var raisedEvent = raisedEvents.shift();\n                maybeNextState = this.resolveRaisedTransition(maybeNextState, raisedEvent._event, _event, predictableExec);\n            }\n        } // Detect if state changed\n        var changed = maybeNextState.changed || (history ? !!maybeNextState.actions.length || didUpdateContext || typeof history.value !== typeof maybeNextState.value || !(0,_State_js__WEBPACK_IMPORTED_MODULE_7__.stateValuesEqual)(maybeNextState.value, history.value) : undefined);\n        maybeNextState.changed = changed; // Preserve original history after raised events\n        maybeNextState.history = history;\n        return maybeNextState;\n    };\n    /**\r\n   * Returns the child state node from its relative `stateKey`, or throws.\r\n   */ StateNode.prototype.getStateNode = function(stateKey) {\n        if (isStateId(stateKey)) {\n            return this.machine.getStateNodeById(stateKey);\n        }\n        if (!this.states) {\n            throw new Error(\"Unable to retrieve child state '\".concat(stateKey, \"' from '\").concat(this.id, \"'; no child states exist.\"));\n        }\n        var result = this.states[stateKey];\n        if (!result) {\n            throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n        }\n        return result;\n    };\n    /**\r\n   * Returns the state node with the given `stateId`, or throws.\r\n   *\r\n   * @param stateId The state ID. The prefix \"#\" is removed.\r\n   */ StateNode.prototype.getStateNodeById = function(stateId) {\n        var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;\n        if (resolvedStateId === this.id) {\n            return this;\n        }\n        var stateNode = this.machine.idMap[resolvedStateId];\n        if (!stateNode) {\n            throw new Error(\"Child state node '#\".concat(resolvedStateId, \"' does not exist on machine '\").concat(this.id, \"'\"));\n        }\n        return stateNode;\n    };\n    /**\r\n   * Returns the relative state node from the given `statePath`, or throws.\r\n   *\r\n   * @param statePath The string or string array relative path to the state node.\r\n   */ StateNode.prototype.getStateNodeByPath = function(statePath) {\n        if (typeof statePath === \"string\" && isStateId(statePath)) {\n            try {\n                return this.getStateNodeById(statePath.slice(1));\n            } catch (e) {\n            // throw e;\n            }\n        }\n        var arrayStatePath = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePath)(statePath, this.delimiter).slice();\n        var currentStateNode = this;\n        while(arrayStatePath.length){\n            var key = arrayStatePath.shift();\n            if (!key.length) {\n                break;\n            }\n            currentStateNode = currentStateNode.getStateNode(key);\n        }\n        return currentStateNode;\n    };\n    /**\r\n   * Resolves a partial state value with its full representation in this machine.\r\n   *\r\n   * @param stateValue The partial state value to resolve.\r\n   */ StateNode.prototype.resolve = function(stateValue) {\n        var _a;\n        var _this = this;\n        if (!stateValue) {\n            return this.initialStateValue || EMPTY_OBJECT; // TODO: type-specific properties\n        }\n        switch(this.type){\n            case \"parallel\":\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(this.initialStateValue, function(subStateValue, subStateKey) {\n                    return subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;\n                });\n            case \"compound\":\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n                    var subStateNode = this.getStateNode(stateValue);\n                    if (subStateNode.type === \"parallel\" || subStateNode.type === \"compound\") {\n                        return _a = {}, _a[stateValue] = subStateNode.initialStateValue, _a;\n                    }\n                    return stateValue;\n                }\n                if (!Object.keys(stateValue).length) {\n                    return this.initialStateValue || {};\n                }\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(stateValue, function(subStateValue, subStateKey) {\n                    return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;\n                });\n            default:\n                return stateValue || EMPTY_OBJECT;\n        }\n    };\n    StateNode.prototype.getResolvedPath = function(stateIdentifier) {\n        if (isStateId(stateIdentifier)) {\n            var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];\n            if (!stateNode) {\n                throw new Error(\"Unable to find state node '\".concat(stateIdentifier, \"'\"));\n            }\n            return stateNode.path;\n        }\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePath)(stateIdentifier, this.delimiter);\n    };\n    Object.defineProperty(StateNode.prototype, \"initialStateValue\", {\n        get: function() {\n            var _a;\n            if (this.__cache.initialStateValue) {\n                return this.__cache.initialStateValue;\n            }\n            var initialStateValue;\n            if (this.type === \"parallel\") {\n                initialStateValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapFilterValues)(this.states, function(state) {\n                    return state.initialStateValue || EMPTY_OBJECT;\n                }, function(stateNode) {\n                    return !(stateNode.type === \"history\");\n                });\n            } else if (this.initial !== undefined) {\n                if (!this.states[this.initial]) {\n                    throw new Error(\"Initial state '\".concat(this.initial, \"' not found on '\").concat(this.key, \"'\"));\n                }\n                initialStateValue = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isLeafNode)(this.states[this.initial]) ? this.initial : (_a = {}, _a[this.initial] = this.states[this.initial].initialStateValue, _a);\n            } else {\n                // The finite state value of a machine without child states is just an empty object\n                initialStateValue = {};\n            }\n            this.__cache.initialStateValue = initialStateValue;\n            return this.__cache.initialStateValue;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.getInitialState = function(stateValue, context) {\n        this._init(); // TODO: this should be in the constructor (see note in constructor)\n        var configuration = this.getStateNodes(stateValue);\n        return this.resolveTransition({\n            configuration: configuration,\n            exitSet: [],\n            transitions: [],\n            source: undefined,\n            actions: []\n        }, undefined, context !== null && context !== void 0 ? context : this.machine.context, undefined);\n    };\n    Object.defineProperty(StateNode.prototype, \"initialState\", {\n        /**\r\n     * The initial State instance, which includes all actions to be executed from\r\n     * entering the initial state.\r\n     */ get: function() {\n            var initialStateValue = this.initialStateValue;\n            if (!initialStateValue) {\n                throw new Error(\"Cannot retrieve initial state from simple state '\".concat(this.id, \"'.\"));\n            }\n            return this.getInitialState(initialStateValue);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"target\", {\n        /**\r\n     * The target state value of the history state node, if it exists. This represents the\r\n     * default state value to transition to if no history value exists yet.\r\n     */ get: function() {\n            var target;\n            if (this.type === \"history\") {\n                var historyConfig = this.config;\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(historyConfig.target)) {\n                    target = isStateId(historyConfig.target) ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.pathToStateValue)(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;\n                } else {\n                    target = historyConfig.target;\n                }\n            }\n            return target;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\r\n   * Returns the leaf nodes from a state path relative to this state node.\r\n   *\r\n   * @param relativeStateId The relative state path to retrieve the state nodes\r\n   * @param history The previous state to retrieve history\r\n   * @param resolve Whether state nodes should resolve to initial child state nodes\r\n   */ StateNode.prototype.getRelativeStateNodes = function(relativeStateId, historyValue, resolve) {\n        if (resolve === void 0) {\n            resolve = true;\n        }\n        return resolve ? relativeStateId.type === \"history\" ? relativeStateId.resolveHistory(historyValue) : relativeStateId.initialStateNodes : [\n            relativeStateId\n        ];\n    };\n    Object.defineProperty(StateNode.prototype, \"initialStateNodes\", {\n        get: function() {\n            var _this = this;\n            if ((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isLeafNode)(this)) {\n                return [\n                    this\n                ];\n            } // Case when state node is compound but no initial state is defined\n            if (this.type === \"compound\" && !this.initial) {\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"Compound state node '\".concat(this.id, \"' has no initial state.\"));\n                }\n                return [\n                    this\n                ];\n            }\n            var initialStateNodePaths = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePaths)(this.initialStateValue);\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(initialStateNodePaths.map(function(initialPath) {\n                return _this.getFromRelativePath(initialPath);\n            }));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\r\n   * Retrieves state nodes from a relative path to this state node.\r\n   *\r\n   * @param relativePath The relative path from this state node\r\n   * @param historyValue\r\n   */ StateNode.prototype.getFromRelativePath = function(relativePath) {\n        if (!relativePath.length) {\n            return [\n                this\n            ];\n        }\n        var _a = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(relativePath), stateKey = _a[0], childStatePath = _a.slice(1);\n        if (!this.states) {\n            throw new Error(\"Cannot retrieve subPath '\".concat(stateKey, \"' from node with no states\"));\n        }\n        var childStateNode = this.getStateNode(stateKey);\n        if (childStateNode.type === \"history\") {\n            return childStateNode.resolveHistory();\n        }\n        if (!this.states[stateKey]) {\n            throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n        }\n        return this.states[stateKey].getFromRelativePath(childStatePath);\n    };\n    StateNode.prototype.historyValue = function(relativeStateValue) {\n        if (!Object.keys(this.states).length) {\n            return undefined;\n        }\n        return {\n            current: relativeStateValue || this.initialStateValue,\n            states: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapFilterValues)(this.states, function(stateNode, key) {\n                if (!relativeStateValue) {\n                    return stateNode.historyValue();\n                }\n                var subStateValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(relativeStateValue) ? undefined : relativeStateValue[key];\n                return stateNode.historyValue(subStateValue || stateNode.initialStateValue);\n            }, function(stateNode) {\n                return !stateNode.history;\n            })\n        };\n    };\n    /**\r\n   * Resolves to the historical value(s) of the parent state node,\r\n   * represented by state nodes.\r\n   *\r\n   * @param historyValue\r\n   */ StateNode.prototype.resolveHistory = function(historyValue) {\n        var _this = this;\n        if (this.type !== \"history\") {\n            return [\n                this\n            ];\n        }\n        var parent = this.parent;\n        if (!historyValue) {\n            var historyTarget = this.target;\n            return historyTarget ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePaths)(historyTarget).map(function(relativeChildPath) {\n                return parent.getFromRelativePath(relativeChildPath);\n            })) : parent.initialStateNodes;\n        }\n        var subHistoryValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.nestedPath)(parent.path, \"states\")(historyValue).current;\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(subHistoryValue)) {\n            return [\n                parent.getStateNode(subHistoryValue)\n            ];\n        }\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePaths)(subHistoryValue).map(function(subStatePath) {\n            return _this.history === \"deep\" ? parent.getFromRelativePath(subStatePath) : [\n                parent.states[subStatePath[0]]\n            ];\n        }));\n    };\n    Object.defineProperty(StateNode.prototype, \"stateIds\", {\n        /**\r\n     * All the state node IDs of this state node and its descendant state nodes.\r\n     */ get: function() {\n            var _this = this;\n            var childStateIds = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(this.states).map(function(stateKey) {\n                return _this.states[stateKey].stateIds;\n            }));\n            return [\n                this.id\n            ].concat(childStateIds);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"events\", {\n        /**\r\n     * All the event types accepted by this state node and its descendants.\r\n     */ get: function() {\n            var e_8, _a, e_9, _b;\n            if (this.__cache.events) {\n                return this.__cache.events;\n            }\n            var states = this.states;\n            var events = new Set(this.ownEvents);\n            if (states) {\n                try {\n                    for(var _c = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(Object.keys(states)), _d = _c.next(); !_d.done; _d = _c.next()){\n                        var stateId = _d.value;\n                        var state = states[stateId];\n                        if (state.states) {\n                            try {\n                                for(var _e = (e_9 = void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(state.events)), _f = _e.next(); !_f.done; _f = _e.next()){\n                                    var event_1 = _f.value;\n                                    events.add(\"\".concat(event_1));\n                                }\n                            } catch (e_9_1) {\n                                e_9 = {\n                                    error: e_9_1\n                                };\n                            } finally{\n                                try {\n                                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                                } finally{\n                                    if (e_9) throw e_9.error;\n                                }\n                            }\n                        }\n                    }\n                } catch (e_8_1) {\n                    e_8 = {\n                        error: e_8_1\n                    };\n                } finally{\n                    try {\n                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                    } finally{\n                        if (e_8) throw e_8.error;\n                    }\n                }\n            }\n            return this.__cache.events = Array.from(events);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"ownEvents\", {\n        /**\r\n     * All the events that have transitions directly from this state node.\r\n     *\r\n     * Excludes any inert events.\r\n     */ get: function() {\n            var events = new Set(this.transitions.filter(function(transition) {\n                return !(!transition.target && !transition.actions.length && transition.internal);\n            }).map(function(transition) {\n                return transition.eventType;\n            }));\n            return Array.from(events);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.resolveTarget = function(_target) {\n        var _this = this;\n        if (_target === undefined) {\n            // an undefined target signals that the state node should not transition from that state when receiving that event\n            return undefined;\n        }\n        return _target.map(function(target) {\n            if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(target)) {\n                return target;\n            }\n            var isInternalTarget = target[0] === _this.delimiter; // If internal target is defined on machine,\n            // do not include machine key on target\n            if (isInternalTarget && !_this.parent) {\n                return _this.getStateNodeByPath(target.slice(1));\n            }\n            var resolvedTarget = isInternalTarget ? _this.key + target : target;\n            if (_this.parent) {\n                try {\n                    var targetStateNode = _this.parent.getStateNodeByPath(resolvedTarget);\n                    return targetStateNode;\n                } catch (err) {\n                    throw new Error(\"Invalid transition definition for state node '\".concat(_this.id, \"':\\n\").concat(err.message));\n                }\n            } else {\n                return _this.getStateNodeByPath(resolvedTarget);\n            }\n        });\n    };\n    StateNode.prototype.formatTransition = function(transitionConfig) {\n        var _this = this;\n        var normalizedTarget = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.normalizeTarget)(transitionConfig.target);\n        var internal = \"internal\" in transitionConfig ? transitionConfig.internal : normalizedTarget ? normalizedTarget.some(function(_target) {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(_target) && _target[0] === _this.delimiter;\n        }) : true;\n        var guards = this.machine.options.guards;\n        var target = this.resolveTarget(normalizedTarget);\n        var transition = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transitionConfig), {\n            actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(transitionConfig.actions)),\n            cond: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toGuard)(transitionConfig.cond, guards),\n            target: target,\n            source: this,\n            internal: internal,\n            eventType: transitionConfig.event,\n            toJSON: function() {\n                return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transition), {\n                    target: transition.target ? transition.target.map(function(t) {\n                        return \"#\".concat(t.id);\n                    }) : undefined,\n                    source: \"#\".concat(_this.id)\n                });\n            }\n        });\n        return transition;\n    };\n    StateNode.prototype.formatTransitions = function() {\n        var e_10, _a;\n        var _this = this;\n        var onConfig;\n        if (!this.config.on) {\n            onConfig = [];\n        } else if (Array.isArray(this.config.on)) {\n            onConfig = this.config.on;\n        } else {\n            var _b = this.config.on, _c = WILDCARD, _d = _b[_c], wildcardConfigs = _d === void 0 ? [] : _d, strictTransitionConfigs_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__rest)(_b, [\n                typeof _c === \"symbol\" ? _c : _c + \"\"\n            ]);\n            onConfig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(strictTransitionConfigs_1).map(function(key) {\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION && key === NULL_EVENT) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. \" + 'Please check the `on` configuration for \"#'.concat(_this.id, '\".'));\n                }\n                var transitionConfigArray = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(key, strictTransitionConfigs_1[key]);\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n                    validateArrayifiedTransitions(_this, key, transitionConfigArray);\n                }\n                return transitionConfigArray;\n            }).concat((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(WILDCARD, wildcardConfigs)));\n        }\n        var eventlessConfig = this.config.always ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(\"\", this.config.always) : [];\n        var doneConfig = this.config.onDone ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(String((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(this.id)), this.config.onDone) : [];\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!(this.config.onDone && !this.parent), 'Root nodes cannot have an \".onDone\" transition. Please check the config of \"'.concat(this.id, '\".'));\n        }\n        var invokeConfig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(this.invoke.map(function(invokeDef) {\n            var settleTransitions = [];\n            if (invokeDef.onDone) {\n                settleTransitions.push.apply(settleTransitions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(String((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.doneInvoke)(invokeDef.id)), invokeDef.onDone)), false));\n            }\n            if (invokeDef.onError) {\n                settleTransitions.push.apply(settleTransitions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(String((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.error)(invokeDef.id)), invokeDef.onError)), false));\n            }\n            return settleTransitions;\n        }));\n        var delayedTransitions = this.after;\n        var formattedTransitions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(doneConfig), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(invokeConfig), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(onConfig), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(eventlessConfig), false).map(function(transitionConfig) {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(transitionConfig).map(function(transition) {\n                return _this.formatTransition(transition);\n            });\n        }));\n        try {\n            for(var delayedTransitions_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(delayedTransitions), delayedTransitions_1_1 = delayedTransitions_1.next(); !delayedTransitions_1_1.done; delayedTransitions_1_1 = delayedTransitions_1.next()){\n                var delayedTransition = delayedTransitions_1_1.value;\n                formattedTransitions.push(delayedTransition);\n            }\n        } catch (e_10_1) {\n            e_10 = {\n                error: e_10_1\n            };\n        } finally{\n            try {\n                if (delayedTransitions_1_1 && !delayedTransitions_1_1.done && (_a = delayedTransitions_1.return)) _a.call(delayedTransitions_1);\n            } finally{\n                if (e_10) throw e_10.error;\n            }\n        }\n        return formattedTransitions;\n    };\n    return StateNode;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL1N0YXRlTm9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF5RjtBQUN1VDtBQUMzVjtBQUMwQztBQUNtRjtBQUNqSTtBQUNBO0FBQ3NIO0FBQ3JIO0FBQ0k7QUFFdEQsSUFBSW1FLGFBQWE7QUFDakIsSUFBSUMsbUJBQW1CO0FBQ3ZCLElBQUlDLFdBQVc7QUFDZixJQUFJQyxlQUFlLENBQUM7QUFFcEIsSUFBSUMsWUFBWSxTQUFVQyxHQUFHO0lBQzNCLE9BQU9BLEdBQUcsQ0FBQyxFQUFFLEtBQUtKO0FBQ3BCO0FBRUEsSUFBSUssdUJBQXVCO0lBQ3pCLE9BQU87UUFDTEMsU0FBUyxDQUFDO1FBQ1ZDLFFBQVEsQ0FBQztRQUNUQyxVQUFVLENBQUM7UUFDWEMsWUFBWSxDQUFDO1FBQ2JDLFFBQVEsQ0FBQztJQUNYO0FBQ0Y7QUFFQSxJQUFJQyxnQ0FBZ0MsU0FBVUMsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLFdBQVc7SUFDekUsSUFBSUMsNEJBQTRCRCxZQUFZRSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUdDLElBQUksQ0FBQyxTQUFVQyxVQUFVO1FBQ2hGLE9BQU8sQ0FBRSxXQUFVQSxVQUFTLEtBQU0sQ0FBRSxTQUFRQSxVQUFTLEtBQU8zRSxDQUFBQSxtREFBUUEsQ0FBQzJFLFdBQVdDLE1BQU0sS0FBS3hELG9EQUFTQSxDQUFDdUQsV0FBV0MsTUFBTTtJQUN4SDtJQUNBLElBQUlDLFlBQVlQLFVBQVVkLGFBQWEsd0JBQXdCLFVBQVVzQixNQUFNLENBQUNSLE9BQU87SUFDdkZ4RCwrQ0FBSUEsQ0FBQyxDQUFDMEQsMkJBQTJCLCtCQUErQk0sTUFBTSxDQUFDRCxXQUFXLGVBQWVDLE1BQU0sQ0FBQ1QsVUFBVVUsRUFBRSxFQUFFLHlCQUF5QjtBQUNqSjtBQUVBLElBQUlDLFlBQ0osV0FBVyxHQUVYLFdBQVcsR0FDWDtJQUNFLFNBQVNBLFVBQ1Q7O0dBRUMsR0FDREMsTUFBTSxFQUFFQyxPQUFP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QnROLEdBQUcsQ0FBQyxTQUFVN0QsVUFBVTtnQkFDdkQsT0FBT1ksTUFBTThGLGdCQUFnQixDQUFDMUc7WUFDaEM7UUFDRjtRQUVBLElBQUk7WUFDRixJQUFLLElBQUlrUyx1QkFBdUJyWCwyREFBUUEsQ0FBQzJHLHFCQUFxQjJRLHlCQUF5QkQscUJBQXFCalAsSUFBSSxJQUFJLENBQUNrUCx1QkFBdUIvVSxJQUFJLEVBQUUrVSx5QkFBeUJELHFCQUFxQmpQLElBQUksR0FBSTtnQkFDdE0sSUFBSXdELG9CQUFvQjBMLHVCQUF1QmhQLEtBQUs7Z0JBQ3BEOE8scUJBQXFCeE0sSUFBSSxDQUFDZ0I7WUFDNUI7UUFDRixFQUFFLE9BQU8yTCxRQUFRO1lBQ2ZmLE9BQU87Z0JBQ0w1VCxPQUFPMlU7WUFDVDtRQUNGLFNBQVU7WUFDUixJQUFJO2dCQUNGLElBQUlELDBCQUEwQixDQUFDQSx1QkFBdUIvVSxJQUFJLElBQUt5RCxDQUFBQSxLQUFLcVIscUJBQXFCN08sTUFBTSxHQUFHeEMsR0FBR3lDLElBQUksQ0FBQzRPO1lBQzVHLFNBQVU7Z0JBQ1IsSUFBSWIsTUFBTSxNQUFNQSxLQUFLNVQsS0FBSztZQUM1QjtRQUNGO1FBRUEsT0FBT3dVO0lBQ1Q7SUFFQSxPQUFPNVI7QUFDVDtBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9TdGF0ZU5vZGUuanM/NDJiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2Fzc2lnbiwgX19zcHJlYWRBcnJheSwgX19yZWFkLCBfX3ZhbHVlcywgX19yZXN0IH0gZnJvbSAnLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgbWFwVmFsdWVzLCBpc0FycmF5LCBmbGF0dGVuLCB0b0FycmF5LCB0b1N0YXRlVmFsdWUsIGlzU3RyaW5nLCBnZXRFdmVudFR5cGUsIHRvU0NYTUxFdmVudCwgbWF0Y2hlc1N0YXRlLCBwYXRoLCBldmFsdWF0ZUd1YXJkLCBtYXBDb250ZXh0LCBpc1JhaXNhYmxlQWN0aW9uLCBwYXRoVG9TdGF0ZVZhbHVlLCBpc0J1aWx0SW5FdmVudCwgcGFydGl0aW9uLCB1cGRhdGVIaXN0b3J5VmFsdWUsIHRvU3RhdGVQYXRoLCBtYXBGaWx0ZXJWYWx1ZXMsIHdhcm4sIHRvU3RhdGVQYXRocywgbmVzdGVkUGF0aCwgbm9ybWFsaXplVGFyZ2V0LCB0b0d1YXJkLCB0b1RyYW5zaXRpb25Db25maWdBcnJheSwgaXNNYWNoaW5lLCBjcmVhdGVJbnZva2VJZCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgU3RhdGUsIHN0YXRlVmFsdWVzRXF1YWwgfSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCB7IHN0YXJ0IGFzIHN0YXJ0JDEsIHN0b3AgYXMgc3RvcCQxLCBpbnZva2UsIHVwZGF0ZSwgbnVsbEV2ZW50IH0gZnJvbSAnLi9hY3Rpb25UeXBlcy5qcyc7XG5pbXBvcnQgeyBkb25lLCBzdGFydCwgdG9BY3Rpb25PYmplY3RzLCByYWlzZSwgc3RvcCwgcmVzb2x2ZUFjdGlvbnMsIGRvbmVJbnZva2UsIGVycm9yLCB0b0FjdGlvbk9iamVjdCwgdG9BY3Rpdml0eURlZmluaXRpb24sIGFmdGVyLCBzZW5kLCBjYW5jZWwsIGluaXRFdmVudCB9IGZyb20gJy4vYWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBJU19QUk9EVUNUSU9OIH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyBTVEFURV9ERUxJTUlURVIgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBnZXRBbGxTdGF0ZU5vZGVzLCBnZXRDb25maWd1cmF0aW9uLCBpc0luRmluYWxTdGF0ZSwgZ2V0VGFnc0Zyb21Db25maWd1cmF0aW9uLCBoYXMsIGdldENoaWxkcmVuLCBnZXRWYWx1ZSwgaXNMZWFmTm9kZSwgZ2V0QWxsQ2hpbGRyZW4gfSBmcm9tICcuL3N0YXRlVXRpbHMuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW52b2NhYmxlQWN0b3IgfSBmcm9tICcuL0FjdG9yLmpzJztcbmltcG9ydCB7IHRvSW52b2tlRGVmaW5pdGlvbiB9IGZyb20gJy4vaW52b2tlVXRpbHMuanMnO1xuXG52YXIgTlVMTF9FVkVOVCA9ICcnO1xudmFyIFNUQVRFX0lERU5USUZJRVIgPSAnIyc7XG52YXIgV0lMRENBUkQgPSAnKic7XG52YXIgRU1QVFlfT0JKRUNUID0ge307XG5cbnZhciBpc1N0YXRlSWQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHJbMF0gPT09IFNUQVRFX0lERU5USUZJRVI7XG59O1xuXG52YXIgY3JlYXRlRGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uczoge30sXG4gICAgZ3VhcmRzOiB7fSxcbiAgICBzZXJ2aWNlczoge30sXG4gICAgYWN0aXZpdGllczoge30sXG4gICAgZGVsYXlzOiB7fVxuICB9O1xufTtcblxudmFyIHZhbGlkYXRlQXJyYXlpZmllZFRyYW5zaXRpb25zID0gZnVuY3Rpb24gKHN0YXRlTm9kZSwgZXZlbnQsIHRyYW5zaXRpb25zKSB7XG4gIHZhciBoYXNOb25MYXN0VW5ndWFyZGVkVGFyZ2V0ID0gdHJhbnNpdGlvbnMuc2xpY2UoMCwgLTEpLnNvbWUoZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gISgnY29uZCcgaW4gdHJhbnNpdGlvbikgJiYgISgnaW4nIGluIHRyYW5zaXRpb24pICYmIChpc1N0cmluZyh0cmFuc2l0aW9uLnRhcmdldCkgfHwgaXNNYWNoaW5lKHRyYW5zaXRpb24udGFyZ2V0KSk7XG4gIH0pO1xuICB2YXIgZXZlbnRUZXh0ID0gZXZlbnQgPT09IE5VTExfRVZFTlQgPyAndGhlIHRyYW5zaWVudCBldmVudCcgOiBcImV2ZW50ICdcIi5jb25jYXQoZXZlbnQsIFwiJ1wiKTtcbiAgd2FybighaGFzTm9uTGFzdFVuZ3VhcmRlZFRhcmdldCwgXCJPbmUgb3IgbW9yZSB0cmFuc2l0aW9ucyBmb3IgXCIuY29uY2F0KGV2ZW50VGV4dCwgXCIgb24gc3RhdGUgJ1wiKS5jb25jYXQoc3RhdGVOb2RlLmlkLCBcIicgYXJlIHVucmVhY2hhYmxlLiBcIikgKyBcIk1ha2Ugc3VyZSB0aGF0IHRoZSBkZWZhdWx0IHRyYW5zaXRpb24gaXMgdGhlIGxhc3Qgb25lIGRlZmluZWQuXCIpO1xufTtcblxudmFyIFN0YXRlTm9kZSA9XG4vKiNfX1BVUkVfXyovXG5cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RhdGVOb2RlKFxuICAvKipcclxuICAgKiBUaGUgcmF3IGNvbmZpZyB1c2VkIHRvIGNyZWF0ZSB0aGUgbWFjaGluZS5cclxuICAgKi9cbiAgY29uZmlnLCBvcHRpb25zLFxuICAvKipcclxuICAgKiBUaGUgaW5pdGlhbCBleHRlbmRlZCBzdGF0ZVxyXG4gICAqL1xuICBfY29udGV4dCwgLy8gVE9ETzogdGhpcyBpcyB1bnNhZmUsIGJ1dCB3ZSdyZSByZW1vdmluZyBpdCBpbiB2NSBhbnl3YXlcbiAgX3N0YXRlSW5mbykge1xuICAgIGlmIChfY29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICBfY29udGV4dCA9ICdjb250ZXh0JyBpbiBjb25maWcgPyBjb25maWcuY29udGV4dCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hO1xuXG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fY29udGV4dCA9IF9jb250ZXh0O1xuICAgIC8qKlxyXG4gICAgICogVGhlIG9yZGVyIHRoaXMgc3RhdGUgbm9kZSBhcHBlYXJzLiBDb3JyZXNwb25kcyB0byB0aGUgaW1wbGljaXQgU0NYTUwgZG9jdW1lbnQgb3JkZXIuXHJcbiAgICAgKi9cblxuICAgIHRoaXMub3JkZXIgPSAtMTtcbiAgICB0aGlzLl9feHN0YXRlbm9kZSA9IHRydWU7XG4gICAgdGhpcy5fX2NhY2hlID0ge1xuICAgICAgZXZlbnRzOiB1bmRlZmluZWQsXG4gICAgICByZWxhdGl2ZVZhbHVlOiBuZXcgTWFwKCksXG4gICAgICBpbml0aWFsU3RhdGVWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgaW5pdGlhbFN0YXRlOiB1bmRlZmluZWQsXG4gICAgICBvbjogdW5kZWZpbmVkLFxuICAgICAgdHJhbnNpdGlvbnM6IHVuZGVmaW5lZCxcbiAgICAgIGNhbmRpZGF0ZXM6IHt9LFxuICAgICAgZGVsYXllZFRyYW5zaXRpb25zOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIHRoaXMuaWRNYXAgPSB7fTtcbiAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGNyZWF0ZURlZmF1bHRPcHRpb25zKCksIG9wdGlvbnMpO1xuICAgIHRoaXMucGFyZW50ID0gX3N0YXRlSW5mbyA9PT0gbnVsbCB8fCBfc3RhdGVJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGVJbmZvLnBhcmVudDtcbiAgICB0aGlzLmtleSA9IHRoaXMuY29uZmlnLmtleSB8fCAoX3N0YXRlSW5mbyA9PT0gbnVsbCB8fCBfc3RhdGVJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGVJbmZvLmtleSkgfHwgdGhpcy5jb25maWcuaWQgfHwgJyhtYWNoaW5lKSc7XG4gICAgdGhpcy5tYWNoaW5lID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5tYWNoaW5lIDogdGhpcztcbiAgICB0aGlzLnBhdGggPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnBhdGguY29uY2F0KHRoaXMua2V5KSA6IFtdO1xuICAgIHRoaXMuZGVsaW1pdGVyID0gdGhpcy5jb25maWcuZGVsaW1pdGVyIHx8ICh0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmRlbGltaXRlciA6IFNUQVRFX0RFTElNSVRFUik7XG4gICAgdGhpcy5pZCA9IHRoaXMuY29uZmlnLmlkIHx8IF9fc3ByZWFkQXJyYXkoW3RoaXMubWFjaGluZS5rZXldLCBfX3JlYWQodGhpcy5wYXRoKSwgZmFsc2UpLmpvaW4odGhpcy5kZWxpbWl0ZXIpO1xuICAgIHRoaXMudmVyc2lvbiA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQudmVyc2lvbiA6IHRoaXMuY29uZmlnLnZlcnNpb247XG4gICAgdGhpcy50eXBlID0gdGhpcy5jb25maWcudHlwZSB8fCAodGhpcy5jb25maWcucGFyYWxsZWwgPyAncGFyYWxsZWwnIDogdGhpcy5jb25maWcuc3RhdGVzICYmIE9iamVjdC5rZXlzKHRoaXMuY29uZmlnLnN0YXRlcykubGVuZ3RoID8gJ2NvbXBvdW5kJyA6IHRoaXMuY29uZmlnLmhpc3RvcnkgPyAnaGlzdG9yeScgOiAnYXRvbWljJyk7XG4gICAgdGhpcy5zY2hlbWEgPSB0aGlzLnBhcmVudCA/IHRoaXMubWFjaGluZS5zY2hlbWEgOiAoX2EgPSB0aGlzLmNvbmZpZy5zY2hlbWEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSB0aGlzLmNvbmZpZy5kZXNjcmlwdGlvbjtcblxuICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgd2FybighKCdwYXJhbGxlbCcgaW4gdGhpcy5jb25maWcpLCBcIlRoZSBcXFwicGFyYWxsZWxcXFwiIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uIDQuMS4gXCIuY29uY2F0KHRoaXMuY29uZmlnLnBhcmFsbGVsID8gXCJSZXBsYWNlIHdpdGggYHR5cGU6ICdwYXJhbGxlbCdgXCIgOiBcIlVzZSBgdHlwZTogJ1wiLmNvbmNhdCh0aGlzLnR5cGUsIFwiJ2BcIiksIFwiIGluIHRoZSBjb25maWcgZm9yIHN0YXRlIG5vZGUgJ1wiKS5jb25jYXQodGhpcy5pZCwgXCInIGluc3RlYWQuXCIpKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRpYWwgPSB0aGlzLmNvbmZpZy5pbml0aWFsO1xuICAgIHRoaXMuc3RhdGVzID0gdGhpcy5jb25maWcuc3RhdGVzID8gbWFwVmFsdWVzKHRoaXMuY29uZmlnLnN0YXRlcywgZnVuY3Rpb24gKHN0YXRlQ29uZmlnLCBrZXkpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgdmFyIHN0YXRlTm9kZSA9IG5ldyBTdGF0ZU5vZGUoc3RhdGVDb25maWcsIHt9LCB1bmRlZmluZWQsIHtcbiAgICAgICAgcGFyZW50OiBfdGhpcyxcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5pZE1hcCwgX19hc3NpZ24oKF9hID0ge30sIF9hW3N0YXRlTm9kZS5pZF0gPSBzdGF0ZU5vZGUsIF9hKSwgc3RhdGVOb2RlLmlkTWFwKSk7XG4gICAgICByZXR1cm4gc3RhdGVOb2RlO1xuICAgIH0pIDogRU1QVFlfT0JKRUNUOyAvLyBEb2N1bWVudCBvcmRlclxuXG4gICAgdmFyIG9yZGVyID0gMDtcblxuICAgIGZ1bmN0aW9uIGRmcyhzdGF0ZU5vZGUpIHtcbiAgICAgIHZhciBlXzEsIF9hO1xuXG4gICAgICBzdGF0ZU5vZGUub3JkZXIgPSBvcmRlcisrO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGdldEFsbENoaWxkcmVuKHN0YXRlTm9kZSkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGNoaWxkID0gX2MudmFsdWU7XG4gICAgICAgICAgZGZzKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgICAgZV8xID0ge1xuICAgICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGZzKHRoaXMpOyAvLyBIaXN0b3J5IGNvbmZpZ1xuXG4gICAgdGhpcy5oaXN0b3J5ID0gdGhpcy5jb25maWcuaGlzdG9yeSA9PT0gdHJ1ZSA/ICdzaGFsbG93JyA6IHRoaXMuY29uZmlnLmhpc3RvcnkgfHwgZmFsc2U7XG4gICAgdGhpcy5fdHJhbnNpZW50ID0gISF0aGlzLmNvbmZpZy5hbHdheXMgfHwgKCF0aGlzLmNvbmZpZy5vbiA/IGZhbHNlIDogQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy5vbikgPyB0aGlzLmNvbmZpZy5vbi5zb21lKGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIGV2ZW50ID0gX2EuZXZlbnQ7XG4gICAgICByZXR1cm4gZXZlbnQgPT09IE5VTExfRVZFTlQ7XG4gICAgfSkgOiBOVUxMX0VWRU5UIGluIHRoaXMuY29uZmlnLm9uKTtcbiAgICB0aGlzLnN0cmljdCA9ICEhdGhpcy5jb25maWcuc3RyaWN0OyAvLyBUT0RPOiBkZXByZWNhdGUgKGVudHJ5KVxuXG4gICAgdGhpcy5vbkVudHJ5ID0gdG9BcnJheSh0aGlzLmNvbmZpZy5lbnRyeSB8fCB0aGlzLmNvbmZpZy5vbkVudHJ5KS5tYXAoZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgcmV0dXJuIHRvQWN0aW9uT2JqZWN0KGFjdGlvbik7XG4gICAgfSk7IC8vIFRPRE86IGRlcHJlY2F0ZSAoZXhpdClcblxuICAgIHRoaXMub25FeGl0ID0gdG9BcnJheSh0aGlzLmNvbmZpZy5leGl0IHx8IHRoaXMuY29uZmlnLm9uRXhpdCkubWFwKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIHJldHVybiB0b0FjdGlvbk9iamVjdChhY3Rpb24pO1xuICAgIH0pO1xuICAgIHRoaXMubWV0YSA9IHRoaXMuY29uZmlnLm1ldGE7XG4gICAgdGhpcy5kb25lRGF0YSA9IHRoaXMudHlwZSA9PT0gJ2ZpbmFsJyA/IHRoaXMuY29uZmlnLmRhdGEgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbnZva2UgPSB0b0FycmF5KHRoaXMuY29uZmlnLmludm9rZSkubWFwKGZ1bmN0aW9uIChpbnZva2VDb25maWcsIGkpIHtcbiAgICAgIHZhciBfYSwgX2I7XG5cbiAgICAgIGlmIChpc01hY2hpbmUoaW52b2tlQ29uZmlnKSkge1xuICAgICAgICB2YXIgaW52b2tlSWQgPSBjcmVhdGVJbnZva2VJZChfdGhpcy5pZCwgaSk7XG4gICAgICAgIF90aGlzLm1hY2hpbmUub3B0aW9ucy5zZXJ2aWNlcyA9IF9fYXNzaWduKChfYSA9IHt9LCBfYVtpbnZva2VJZF0gPSBpbnZva2VDb25maWcsIF9hKSwgX3RoaXMubWFjaGluZS5vcHRpb25zLnNlcnZpY2VzKTtcbiAgICAgICAgcmV0dXJuIHRvSW52b2tlRGVmaW5pdGlvbih7XG4gICAgICAgICAgc3JjOiBpbnZva2VJZCxcbiAgICAgICAgICBpZDogaW52b2tlSWRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGludm9rZUNvbmZpZy5zcmMpKSB7XG4gICAgICAgIHZhciBpbnZva2VJZCA9IGludm9rZUNvbmZpZy5pZCB8fCBjcmVhdGVJbnZva2VJZChfdGhpcy5pZCwgaSk7XG4gICAgICAgIHJldHVybiB0b0ludm9rZURlZmluaXRpb24oX19hc3NpZ24oX19hc3NpZ24oe30sIGludm9rZUNvbmZpZyksIHtcbiAgICAgICAgICBpZDogaW52b2tlSWQsXG4gICAgICAgICAgc3JjOiBpbnZva2VDb25maWcuc3JjXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYWNoaW5lKGludm9rZUNvbmZpZy5zcmMpIHx8IGlzRnVuY3Rpb24oaW52b2tlQ29uZmlnLnNyYykpIHtcbiAgICAgICAgdmFyIGludm9rZUlkID0gaW52b2tlQ29uZmlnLmlkIHx8IGNyZWF0ZUludm9rZUlkKF90aGlzLmlkLCBpKTtcbiAgICAgICAgX3RoaXMubWFjaGluZS5vcHRpb25zLnNlcnZpY2VzID0gX19hc3NpZ24oKF9iID0ge30sIF9iW2ludm9rZUlkXSA9IGludm9rZUNvbmZpZy5zcmMsIF9iKSwgX3RoaXMubWFjaGluZS5vcHRpb25zLnNlcnZpY2VzKTtcbiAgICAgICAgcmV0dXJuIHRvSW52b2tlRGVmaW5pdGlvbihfX2Fzc2lnbihfX2Fzc2lnbih7XG4gICAgICAgICAgaWQ6IGludm9rZUlkXG4gICAgICAgIH0sIGludm9rZUNvbmZpZyksIHtcbiAgICAgICAgICBzcmM6IGludm9rZUlkXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpbnZva2VTb3VyY2UgPSBpbnZva2VDb25maWcuc3JjO1xuICAgICAgICByZXR1cm4gdG9JbnZva2VEZWZpbml0aW9uKF9fYXNzaWduKF9fYXNzaWduKHtcbiAgICAgICAgICBpZDogY3JlYXRlSW52b2tlSWQoX3RoaXMuaWQsIGkpXG4gICAgICAgIH0sIGludm9rZUNvbmZpZyksIHtcbiAgICAgICAgICBzcmM6IGludm9rZVNvdXJjZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5hY3Rpdml0aWVzID0gdG9BcnJheSh0aGlzLmNvbmZpZy5hY3Rpdml0aWVzKS5jb25jYXQodGhpcy5pbnZva2UpLm1hcChmdW5jdGlvbiAoYWN0aXZpdHkpIHtcbiAgICAgIHJldHVybiB0b0FjdGl2aXR5RGVmaW5pdGlvbihhY3Rpdml0eSk7XG4gICAgfSk7XG4gICAgdGhpcy50cmFuc2l0aW9uID0gdGhpcy50cmFuc2l0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy50YWdzID0gdG9BcnJheSh0aGlzLmNvbmZpZy50YWdzKTsgLy8gVE9ETzogdGhpcyBpcyB0aGUgcmVhbCBmaXggZm9yIGluaXRpYWxpemF0aW9uIG9uY2VcbiAgICAvLyBzdGF0ZSBub2RlIGdldHRlcnMgYXJlIGRlcHJlY2F0ZWRcbiAgICAvLyBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgLy8gICB0aGlzLl9pbml0KCk7XG4gICAgLy8gfVxuICB9XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fX2NhY2hlLnRyYW5zaXRpb25zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZ2V0QWxsU3RhdGVOb2Rlcyh0aGlzKS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZU5vZGUub247XG4gICAgfSk7XG4gIH07XG4gIC8qKlxyXG4gICAqIENsb25lcyB0aGlzIHN0YXRlIG1hY2hpbmUgd2l0aCBjdXN0b20gb3B0aW9ucyBhbmQgY29udGV4dC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgKGFjdGlvbnMsIGd1YXJkcywgYWN0aXZpdGllcywgc2VydmljZXMpIHRvIHJlY3Vyc2l2ZWx5IG1lcmdlIHdpdGggdGhlIGV4aXN0aW5nIG9wdGlvbnMuXHJcbiAgICogQHBhcmFtIGNvbnRleHQgQ3VzdG9tIGNvbnRleHQgKHdpbGwgb3ZlcnJpZGUgcHJlZGVmaW5lZCBjb250ZXh0KVxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS53aXRoQ29uZmlnID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICB2YXIgX2EgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGFjdGlvbnMgPSBfYS5hY3Rpb25zLFxuICAgICAgICBhY3Rpdml0aWVzID0gX2EuYWN0aXZpdGllcyxcbiAgICAgICAgZ3VhcmRzID0gX2EuZ3VhcmRzLFxuICAgICAgICBzZXJ2aWNlcyA9IF9hLnNlcnZpY2VzLFxuICAgICAgICBkZWxheXMgPSBfYS5kZWxheXM7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZU5vZGUodGhpcy5jb25maWcsIHtcbiAgICAgIGFjdGlvbnM6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY3Rpb25zKSwgb3B0aW9ucy5hY3Rpb25zKSxcbiAgICAgIGFjdGl2aXRpZXM6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY3Rpdml0aWVzKSwgb3B0aW9ucy5hY3Rpdml0aWVzKSxcbiAgICAgIGd1YXJkczogX19hc3NpZ24oX19hc3NpZ24oe30sIGd1YXJkcyksIG9wdGlvbnMuZ3VhcmRzKSxcbiAgICAgIHNlcnZpY2VzOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2VydmljZXMpLCBvcHRpb25zLnNlcnZpY2VzKSxcbiAgICAgIGRlbGF5czogX19hc3NpZ24oX19hc3NpZ24oe30sIGRlbGF5cyksIG9wdGlvbnMuZGVsYXlzKVxuICAgIH0sIGNvbnRleHQgIT09IG51bGwgJiYgY29udGV4dCAhPT0gdm9pZCAwID8gY29udGV4dCA6IHRoaXMuY29udGV4dCk7XG4gIH07XG4gIC8qKlxyXG4gICAqIENsb25lcyB0aGlzIHN0YXRlIG1hY2hpbmUgd2l0aCBjdXN0b20gY29udGV4dC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBjb250ZXh0IEN1c3RvbSBjb250ZXh0ICh3aWxsIG92ZXJyaWRlIHByZWRlZmluZWQgY29udGV4dCwgbm90IHJlY3Vyc2l2ZSlcclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUud2l0aENvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHJldHVybiBuZXcgU3RhdGVOb2RlKHRoaXMuY29uZmlnLCB0aGlzLm9wdGlvbnMsIGNvbnRleHQpO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odGhpcy5fY29udGV4dCkgPyB0aGlzLl9jb250ZXh0KCkgOiB0aGlzLl9jb250ZXh0O1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJkZWZpbml0aW9uXCIsIHtcbiAgICAvKipcclxuICAgICAqIFRoZSB3ZWxsLXN0cnVjdHVyZWQgc3RhdGUgbm9kZSBkZWZpbml0aW9uLlxyXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAga2V5OiB0aGlzLmtleSxcbiAgICAgICAgdmVyc2lvbjogdGhpcy52ZXJzaW9uLFxuICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgaW5pdGlhbDogdGhpcy5pbml0aWFsLFxuICAgICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICAgIHN0YXRlczogbWFwVmFsdWVzKHRoaXMuc3RhdGVzLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUuZGVmaW5pdGlvbjtcbiAgICAgICAgfSksXG4gICAgICAgIG9uOiB0aGlzLm9uLFxuICAgICAgICB0cmFuc2l0aW9uczogdGhpcy50cmFuc2l0aW9ucyxcbiAgICAgICAgZW50cnk6IHRoaXMub25FbnRyeSxcbiAgICAgICAgZXhpdDogdGhpcy5vbkV4aXQsXG4gICAgICAgIGFjdGl2aXRpZXM6IHRoaXMuYWN0aXZpdGllcyB8fCBbXSxcbiAgICAgICAgbWV0YTogdGhpcy5tZXRhLFxuICAgICAgICBvcmRlcjogdGhpcy5vcmRlciB8fCAtMSxcbiAgICAgICAgZGF0YTogdGhpcy5kb25lRGF0YSxcbiAgICAgICAgaW52b2tlOiB0aGlzLmludm9rZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgIHRhZ3M6IHRoaXMudGFnc1xuICAgICAgfTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcIm9uXCIsIHtcbiAgICAvKipcclxuICAgICAqIFRoZSBtYXBwaW5nIG9mIGV2ZW50cyB0byB0cmFuc2l0aW9ucy5cclxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX19jYWNoZS5vbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2NhY2hlLm9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhbnNpdGlvbnMgPSB0aGlzLnRyYW5zaXRpb25zO1xuICAgICAgcmV0dXJuIHRoaXMuX19jYWNoZS5vbiA9IHRyYW5zaXRpb25zLnJlZHVjZShmdW5jdGlvbiAobWFwLCB0cmFuc2l0aW9uKSB7XG4gICAgICAgIG1hcFt0cmFuc2l0aW9uLmV2ZW50VHlwZV0gPSBtYXBbdHJhbnNpdGlvbi5ldmVudFR5cGVdIHx8IFtdO1xuICAgICAgICBtYXBbdHJhbnNpdGlvbi5ldmVudFR5cGVdLnB1c2godHJhbnNpdGlvbik7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9LCB7fSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcImFmdGVyXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUuZGVsYXllZFRyYW5zaXRpb25zIHx8ICh0aGlzLl9fY2FjaGUuZGVsYXllZFRyYW5zaXRpb25zID0gdGhpcy5nZXREZWxheWVkVHJhbnNpdGlvbnMoKSwgdGhpcy5fX2NhY2hlLmRlbGF5ZWRUcmFuc2l0aW9ucyk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcInRyYW5zaXRpb25zXCIsIHtcbiAgICAvKipcclxuICAgICAqIEFsbCB0aGUgdHJhbnNpdGlvbnMgdGhhdCBjYW4gYmUgdGFrZW4gZnJvbSB0aGlzIHN0YXRlIG5vZGUuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUudHJhbnNpdGlvbnMgfHwgKHRoaXMuX19jYWNoZS50cmFuc2l0aW9ucyA9IHRoaXMuZm9ybWF0VHJhbnNpdGlvbnMoKSwgdGhpcy5fX2NhY2hlLnRyYW5zaXRpb25zKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldENhbmRpZGF0ZXMgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgaWYgKHRoaXMuX19jYWNoZS5jYW5kaWRhdGVzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUuY2FuZGlkYXRlc1tldmVudE5hbWVdO1xuICAgIH1cblxuICAgIHZhciB0cmFuc2llbnQgPSBldmVudE5hbWUgPT09IE5VTExfRVZFTlQ7XG4gICAgdmFyIGNhbmRpZGF0ZXMgPSB0aGlzLnRyYW5zaXRpb25zLmZpbHRlcihmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgICAgdmFyIHNhbWVFdmVudFR5cGUgPSB0cmFuc2l0aW9uLmV2ZW50VHlwZSA9PT0gZXZlbnROYW1lOyAvLyBudWxsIGV2ZW50cyBzaG91bGQgb25seSBtYXRjaCBhZ2FpbnN0IGV2ZW50bGVzcyB0cmFuc2l0aW9uc1xuXG4gICAgICByZXR1cm4gdHJhbnNpZW50ID8gc2FtZUV2ZW50VHlwZSA6IHNhbWVFdmVudFR5cGUgfHwgdHJhbnNpdGlvbi5ldmVudFR5cGUgPT09IFdJTERDQVJEO1xuICAgIH0pO1xuICAgIHRoaXMuX19jYWNoZS5jYW5kaWRhdGVzW2V2ZW50TmFtZV0gPSBjYW5kaWRhdGVzO1xuICAgIHJldHVybiBjYW5kaWRhdGVzO1xuICB9O1xuICAvKipcclxuICAgKiBBbGwgZGVsYXllZCB0cmFuc2l0aW9ucyBmcm9tIHRoZSBjb25maWcuXHJcbiAgICovXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldERlbGF5ZWRUcmFuc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGFmdGVyQ29uZmlnID0gdGhpcy5jb25maWcuYWZ0ZXI7XG5cbiAgICBpZiAoIWFmdGVyQ29uZmlnKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIG11dGF0ZUVudHJ5RXhpdCA9IGZ1bmN0aW9uIChkZWxheSwgaSkge1xuICAgICAgdmFyIGRlbGF5UmVmID0gaXNGdW5jdGlvbihkZWxheSkgPyBcIlwiLmNvbmNhdChfdGhpcy5pZCwgXCI6ZGVsYXlbXCIpLmNvbmNhdChpLCBcIl1cIikgOiBkZWxheTtcbiAgICAgIHZhciBldmVudFR5cGUgPSBhZnRlcihkZWxheVJlZiwgX3RoaXMuaWQpO1xuXG4gICAgICBfdGhpcy5vbkVudHJ5LnB1c2goc2VuZChldmVudFR5cGUsIHtcbiAgICAgICAgZGVsYXk6IGRlbGF5XG4gICAgICB9KSk7XG5cbiAgICAgIF90aGlzLm9uRXhpdC5wdXNoKGNhbmNlbChldmVudFR5cGUpKTtcblxuICAgICAgcmV0dXJuIGV2ZW50VHlwZTtcbiAgICB9O1xuXG4gICAgdmFyIGRlbGF5ZWRUcmFuc2l0aW9ucyA9IGlzQXJyYXkoYWZ0ZXJDb25maWcpID8gYWZ0ZXJDb25maWcubWFwKGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBpKSB7XG4gICAgICB2YXIgZXZlbnRUeXBlID0gbXV0YXRlRW50cnlFeGl0KHRyYW5zaXRpb24uZGVsYXksIGkpO1xuICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0cmFuc2l0aW9uKSwge1xuICAgICAgICBldmVudDogZXZlbnRUeXBlXG4gICAgICB9KTtcbiAgICB9KSA6IGZsYXR0ZW4oT2JqZWN0LmtleXMoYWZ0ZXJDb25maWcpLm1hcChmdW5jdGlvbiAoZGVsYXksIGkpIHtcbiAgICAgIHZhciBjb25maWdUcmFuc2l0aW9uID0gYWZ0ZXJDb25maWdbZGVsYXldO1xuICAgICAgdmFyIHJlc29sdmVkVHJhbnNpdGlvbiA9IGlzU3RyaW5nKGNvbmZpZ1RyYW5zaXRpb24pID8ge1xuICAgICAgICB0YXJnZXQ6IGNvbmZpZ1RyYW5zaXRpb25cbiAgICAgIH0gOiBjb25maWdUcmFuc2l0aW9uO1xuICAgICAgdmFyIHJlc29sdmVkRGVsYXkgPSAhaXNOYU4oK2RlbGF5KSA/ICtkZWxheSA6IGRlbGF5O1xuICAgICAgdmFyIGV2ZW50VHlwZSA9IG11dGF0ZUVudHJ5RXhpdChyZXNvbHZlZERlbGF5LCBpKTtcbiAgICAgIHJldHVybiB0b0FycmF5KHJlc29sdmVkVHJhbnNpdGlvbikubWFwKGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdHJhbnNpdGlvbiksIHtcbiAgICAgICAgICBldmVudDogZXZlbnRUeXBlLFxuICAgICAgICAgIGRlbGF5OiByZXNvbHZlZERlbGF5XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSkpO1xuICAgIHJldHVybiBkZWxheWVkVHJhbnNpdGlvbnMubWFwKGZ1bmN0aW9uIChkZWxheWVkVHJhbnNpdGlvbikge1xuICAgICAgdmFyIGRlbGF5ID0gZGVsYXllZFRyYW5zaXRpb24uZGVsYXk7XG4gICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIF90aGlzLmZvcm1hdFRyYW5zaXRpb24oZGVsYXllZFRyYW5zaXRpb24pKSwge1xuICAgICAgICBkZWxheTogZGVsYXlcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSBub2RlcyByZXByZXNlbnRlZCBieSB0aGUgY3VycmVudCBzdGF0ZSB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzdGF0ZSBUaGUgc3RhdGUgdmFsdWUgb3IgU3RhdGUgaW5zdGFuY2VcclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0U3RhdGVOb2RlcyA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIXN0YXRlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIHN0YXRlVmFsdWUgPSBzdGF0ZSBpbnN0YW5jZW9mIFN0YXRlID8gc3RhdGUudmFsdWUgOiB0b1N0YXRlVmFsdWUoc3RhdGUsIHRoaXMuZGVsaW1pdGVyKTtcblxuICAgIGlmIChpc1N0cmluZyhzdGF0ZVZhbHVlKSkge1xuICAgICAgdmFyIGluaXRpYWxTdGF0ZVZhbHVlID0gdGhpcy5nZXRTdGF0ZU5vZGUoc3RhdGVWYWx1ZSkuaW5pdGlhbDtcbiAgICAgIHJldHVybiBpbml0aWFsU3RhdGVWYWx1ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5nZXRTdGF0ZU5vZGVzKChfYSA9IHt9LCBfYVtzdGF0ZVZhbHVlXSA9IGluaXRpYWxTdGF0ZVZhbHVlLCBfYSkpIDogW3RoaXMsIHRoaXMuc3RhdGVzW3N0YXRlVmFsdWVdXTtcbiAgICB9XG5cbiAgICB2YXIgc3ViU3RhdGVLZXlzID0gT2JqZWN0LmtleXMoc3RhdGVWYWx1ZSk7XG4gICAgdmFyIHN1YlN0YXRlTm9kZXMgPSBbdGhpc107XG4gICAgc3ViU3RhdGVOb2Rlcy5wdXNoLmFwcGx5KHN1YlN0YXRlTm9kZXMsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChmbGF0dGVuKHN1YlN0YXRlS2V5cy5tYXAoZnVuY3Rpb24gKHN1YlN0YXRlS2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMuZ2V0U3RhdGVOb2RlKHN1YlN0YXRlS2V5KS5nZXRTdGF0ZU5vZGVzKHN0YXRlVmFsdWVbc3ViU3RhdGVLZXldKTtcbiAgICB9KSkpLCBmYWxzZSkpO1xuICAgIHJldHVybiBzdWJTdGF0ZU5vZGVzO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIHN0YXRlIG5vZGUgZXhwbGljaXRseSBoYW5kbGVzIHRoZSBnaXZlbiBldmVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgaW4gcXVlc3Rpb25cclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuaGFuZGxlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBldmVudFR5cGUgPSBnZXRFdmVudFR5cGUoZXZlbnQpO1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5pbmNsdWRlcyhldmVudFR5cGUpO1xuICB9O1xuICAvKipcclxuICAgKiBSZXNvbHZlcyB0aGUgZ2l2ZW4gYHN0YXRlYCB0byBhIG5ldyBgU3RhdGVgIGluc3RhbmNlIHJlbGF0aXZlIHRvIHRoaXMgbWFjaGluZS5cclxuICAgKlxyXG4gICAqIFRoaXMgZW5zdXJlcyB0aGF0IGAuZXZlbnRzYCBhbmQgYC5uZXh0RXZlbnRzYCByZXByZXNlbnQgdGhlIGNvcnJlY3QgdmFsdWVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB0byByZXNvbHZlXHJcbiAgICovXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnJlc29sdmVTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBzdGF0ZUZyb21Db25maWcgPSBzdGF0ZSBpbnN0YW5jZW9mIFN0YXRlID8gc3RhdGUgOiBTdGF0ZS5jcmVhdGUoc3RhdGUpO1xuICAgIHZhciBjb25maWd1cmF0aW9uID0gQXJyYXkuZnJvbShnZXRDb25maWd1cmF0aW9uKFtdLCB0aGlzLmdldFN0YXRlTm9kZXMoc3RhdGVGcm9tQ29uZmlnLnZhbHVlKSkpO1xuICAgIHJldHVybiBuZXcgU3RhdGUoX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlRnJvbUNvbmZpZyksIHtcbiAgICAgIHZhbHVlOiB0aGlzLnJlc29sdmUoc3RhdGVGcm9tQ29uZmlnLnZhbHVlKSxcbiAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb24sXG4gICAgICBkb25lOiBpc0luRmluYWxTdGF0ZShjb25maWd1cmF0aW9uLCB0aGlzKSxcbiAgICAgIHRhZ3M6IGdldFRhZ3NGcm9tQ29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSxcbiAgICAgIG1hY2hpbmU6IHRoaXMubWFjaGluZVxuICAgIH0pKTtcbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnRyYW5zaXRpb25MZWFmTm9kZSA9IGZ1bmN0aW9uIChzdGF0ZVZhbHVlLCBzdGF0ZSwgX2V2ZW50KSB7XG4gICAgdmFyIHN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlVmFsdWUpO1xuICAgIHZhciBuZXh0ID0gc3RhdGVOb2RlLm5leHQoc3RhdGUsIF9ldmVudCk7XG5cbiAgICBpZiAoIW5leHQgfHwgIW5leHQudHJhbnNpdGlvbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXh0KHN0YXRlLCBfZXZlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0O1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUudHJhbnNpdGlvbkNvbXBvdW5kTm9kZSA9IGZ1bmN0aW9uIChzdGF0ZVZhbHVlLCBzdGF0ZSwgX2V2ZW50KSB7XG4gICAgdmFyIHN1YlN0YXRlS2V5cyA9IE9iamVjdC5rZXlzKHN0YXRlVmFsdWUpO1xuICAgIHZhciBzdGF0ZU5vZGUgPSB0aGlzLmdldFN0YXRlTm9kZShzdWJTdGF0ZUtleXNbMF0pO1xuXG4gICAgdmFyIG5leHQgPSBzdGF0ZU5vZGUuX3RyYW5zaXRpb24oc3RhdGVWYWx1ZVtzdWJTdGF0ZUtleXNbMF1dLCBzdGF0ZSwgX2V2ZW50KTtcblxuICAgIGlmICghbmV4dCB8fCAhbmV4dC50cmFuc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHQoc3RhdGUsIF9ldmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQ7XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS50cmFuc2l0aW9uUGFyYWxsZWxOb2RlID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpIHtcbiAgICB2YXIgZV8yLCBfYTtcblxuICAgIHZhciB0cmFuc2l0aW9uTWFwID0ge307XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhzdGF0ZVZhbHVlKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIHN1YlN0YXRlS2V5ID0gX2MudmFsdWU7XG4gICAgICAgIHZhciBzdWJTdGF0ZVZhbHVlID0gc3RhdGVWYWx1ZVtzdWJTdGF0ZUtleV07XG5cbiAgICAgICAgaWYgKCFzdWJTdGF0ZVZhbHVlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ViU3RhdGVOb2RlID0gdGhpcy5nZXRTdGF0ZU5vZGUoc3ViU3RhdGVLZXkpO1xuXG4gICAgICAgIHZhciBuZXh0ID0gc3ViU3RhdGVOb2RlLl90cmFuc2l0aW9uKHN1YlN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpO1xuXG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgdHJhbnNpdGlvbk1hcFtzdWJTdGF0ZUtleV0gPSBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8yXzEpIHtcbiAgICAgIGVfMiA9IHtcbiAgICAgICAgZXJyb3I6IGVfMl8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHN0YXRlVHJhbnNpdGlvbnMgPSBPYmplY3Qua2V5cyh0cmFuc2l0aW9uTWFwKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRyYW5zaXRpb25NYXBba2V5XTtcbiAgICB9KTtcbiAgICB2YXIgZW5hYmxlZFRyYW5zaXRpb25zID0gZmxhdHRlbihzdGF0ZVRyYW5zaXRpb25zLm1hcChmdW5jdGlvbiAoc3QpIHtcbiAgICAgIHJldHVybiBzdC50cmFuc2l0aW9ucztcbiAgICB9KSk7XG4gICAgdmFyIHdpbGxUcmFuc2l0aW9uID0gc3RhdGVUcmFuc2l0aW9ucy5zb21lKGZ1bmN0aW9uIChzdCkge1xuICAgICAgcmV0dXJuIHN0LnRyYW5zaXRpb25zLmxlbmd0aCA+IDA7XG4gICAgfSk7XG5cbiAgICBpZiAoIXdpbGxUcmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXh0KHN0YXRlLCBfZXZlbnQpO1xuICAgIH1cblxuICAgIHZhciBjb25maWd1cmF0aW9uID0gZmxhdHRlbihPYmplY3Qua2V5cyh0cmFuc2l0aW9uTWFwKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRyYW5zaXRpb25NYXBba2V5XS5jb25maWd1cmF0aW9uO1xuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNpdGlvbnM6IGVuYWJsZWRUcmFuc2l0aW9ucyxcbiAgICAgIGV4aXRTZXQ6IGZsYXR0ZW4oc3RhdGVUcmFuc2l0aW9ucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuZXhpdFNldDtcbiAgICAgIH0pKSxcbiAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb24sXG4gICAgICBzb3VyY2U6IHN0YXRlLFxuICAgICAgYWN0aW9uczogZmxhdHRlbihPYmplY3Qua2V5cyh0cmFuc2l0aW9uTWFwKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbk1hcFtrZXldLmFjdGlvbnM7XG4gICAgICB9KSlcbiAgICB9O1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuX3RyYW5zaXRpb24gPSBmdW5jdGlvbiAoc3RhdGVWYWx1ZSwgc3RhdGUsIF9ldmVudCkge1xuICAgIC8vIGxlYWYgbm9kZVxuICAgIGlmIChpc1N0cmluZyhzdGF0ZVZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbkxlYWZOb2RlKHN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpO1xuICAgIH0gLy8gaGllcmFyY2hpY2FsIG5vZGVcblxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHN0YXRlVmFsdWUpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbkNvbXBvdW5kTm9kZShzdGF0ZVZhbHVlLCBzdGF0ZSwgX2V2ZW50KTtcbiAgICB9IC8vIG9ydGhvZ29uYWwgbm9kZVxuXG5cbiAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uUGFyYWxsZWxOb2RlKHN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0VHJhbnNpdGlvbkRhdGEgPSBmdW5jdGlvbiAoc3RhdGUsIGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb24oc3RhdGUudmFsdWUsIHN0YXRlLCB0b1NDWE1MRXZlbnQoZXZlbnQpKTtcbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoc3RhdGUsIF9ldmVudCkge1xuICAgIHZhciBlXzMsIF9hO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBldmVudE5hbWUgPSBfZXZlbnQubmFtZTtcbiAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgIHZhciBuZXh0U3RhdGVOb2RlcyA9IFtdO1xuICAgIHZhciBzZWxlY3RlZFRyYW5zaXRpb247XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLmdldENhbmRpZGF0ZXMoZXZlbnROYW1lKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IF9jLnZhbHVlO1xuICAgICAgICB2YXIgY29uZCA9IGNhbmRpZGF0ZS5jb25kLFxuICAgICAgICAgICAgc3RhdGVJbiA9IGNhbmRpZGF0ZS5pbjtcbiAgICAgICAgdmFyIHJlc29sdmVkQ29udGV4dCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgICAgIHZhciBpc0luU3RhdGUgPSBzdGF0ZUluID8gaXNTdHJpbmcoc3RhdGVJbikgJiYgaXNTdGF0ZUlkKHN0YXRlSW4pID8gLy8gQ2hlY2sgaWYgaW4gc3RhdGUgYnkgSURcbiAgICAgICAgc3RhdGUubWF0Y2hlcyh0b1N0YXRlVmFsdWUodGhpcy5nZXRTdGF0ZU5vZGVCeUlkKHN0YXRlSW4pLnBhdGgsIHRoaXMuZGVsaW1pdGVyKSkgOiAvLyBDaGVjayBpZiBpbiBzdGF0ZSBieSByZWxhdGl2ZSBncmFuZHBhcmVudFxuICAgICAgICBtYXRjaGVzU3RhdGUodG9TdGF0ZVZhbHVlKHN0YXRlSW4sIHRoaXMuZGVsaW1pdGVyKSwgcGF0aCh0aGlzLnBhdGguc2xpY2UoMCwgLTIpKShzdGF0ZS52YWx1ZSkpIDogdHJ1ZTtcbiAgICAgICAgdmFyIGd1YXJkUGFzc2VkID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBndWFyZFBhc3NlZCA9ICFjb25kIHx8IGV2YWx1YXRlR3VhcmQodGhpcy5tYWNoaW5lLCBjb25kLCByZXNvbHZlZENvbnRleHQsIF9ldmVudCwgc3RhdGUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZXZhbHVhdGUgZ3VhcmQgJ1wiLmNvbmNhdChjb25kLm5hbWUgfHwgY29uZC50eXBlLCBcIicgaW4gdHJhbnNpdGlvbiBmb3IgZXZlbnQgJ1wiKS5jb25jYXQoZXZlbnROYW1lLCBcIicgaW4gc3RhdGUgbm9kZSAnXCIpLmNvbmNhdCh0aGlzLmlkLCBcIic6XFxuXCIpLmNvbmNhdChlcnIubWVzc2FnZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGd1YXJkUGFzc2VkICYmIGlzSW5TdGF0ZSkge1xuICAgICAgICAgIGlmIChjYW5kaWRhdGUudGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5leHRTdGF0ZU5vZGVzID0gY2FuZGlkYXRlLnRhcmdldDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhY3Rpb25zLnB1c2guYXBwbHkoYWN0aW9ucywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGNhbmRpZGF0ZS5hY3Rpb25zKSwgZmFsc2UpKTtcbiAgICAgICAgICBzZWxlY3RlZFRyYW5zaXRpb24gPSBjYW5kaWRhdGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzNfMSkge1xuICAgICAgZV8zID0ge1xuICAgICAgICBlcnJvcjogZV8zXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXNlbGVjdGVkVHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoIW5leHRTdGF0ZU5vZGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNpdGlvbnM6IFtzZWxlY3RlZFRyYW5zaXRpb25dLFxuICAgICAgICBleGl0U2V0OiBbXSxcbiAgICAgICAgY29uZmlndXJhdGlvbjogc3RhdGUudmFsdWUgPyBbdGhpc10gOiBbXSxcbiAgICAgICAgc291cmNlOiBzdGF0ZSxcbiAgICAgICAgYWN0aW9uczogYWN0aW9uc1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYWxsTmV4dFN0YXRlTm9kZXMgPSBmbGF0dGVuKG5leHRTdGF0ZU5vZGVzLm1hcChmdW5jdGlvbiAoc3RhdGVOb2RlKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZ2V0UmVsYXRpdmVTdGF0ZU5vZGVzKHN0YXRlTm9kZSwgc3RhdGUuaGlzdG9yeVZhbHVlKTtcbiAgICB9KSk7XG4gICAgdmFyIGlzSW50ZXJuYWwgPSAhIXNlbGVjdGVkVHJhbnNpdGlvbi5pbnRlcm5hbDtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNpdGlvbnM6IFtzZWxlY3RlZFRyYW5zaXRpb25dLFxuICAgICAgZXhpdFNldDogaXNJbnRlcm5hbCA/IFtdIDogZmxhdHRlbihuZXh0U3RhdGVOb2Rlcy5tYXAoZnVuY3Rpb24gKHRhcmdldE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldFBvdGVudGlhbGx5UmVlbnRlcmluZ05vZGVzKHRhcmdldE5vZGUpO1xuICAgICAgfSkpLFxuICAgICAgY29uZmlndXJhdGlvbjogYWxsTmV4dFN0YXRlTm9kZXMsXG4gICAgICBzb3VyY2U6IHN0YXRlLFxuICAgICAgYWN0aW9uczogYWN0aW9uc1xuICAgIH07XG4gIH07IC8vIGV2ZW4gdGhvdWdoIHRoZSBuYW1lIG9mIHRoaXMgZnVuY3Rpb24gbWVudGlvbnMgcmVlbnRyeSBub2Rlc1xuICAvLyB3ZSBhcmUgcHVzaGluZyBpdHMgcmVzdWx0IGludG8gYGV4aXRTZXRgXG4gIC8vIHRoYXQncyBiZWNhdXNlIHdoYXQgd2UgZXhpdCBtaWdodCBiZSByZWVudGVyZWQgKGl0J3MgYW4gaW52YXJpYW50IG9mIHJlZW50cmFuY3kpXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldFBvdGVudGlhbGx5UmVlbnRlcmluZ05vZGVzID0gZnVuY3Rpb24gKHRhcmdldE5vZGUpIHtcbiAgICBpZiAodGhpcy5vcmRlciA8IHRhcmdldE5vZGUub3JkZXIpIHtcbiAgICAgIHJldHVybiBbdGhpc107XG4gICAgfVxuXG4gICAgdmFyIG5vZGVzID0gW107XG4gICAgdmFyIG1hcmtlciA9IHRoaXM7XG4gICAgdmFyIHBvc3NpYmxlQW5jZXN0b3IgPSB0YXJnZXROb2RlO1xuXG4gICAgd2hpbGUgKG1hcmtlciAmJiBtYXJrZXIgIT09IHBvc3NpYmxlQW5jZXN0b3IpIHtcbiAgICAgIG5vZGVzLnB1c2gobWFya2VyKTtcbiAgICAgIG1hcmtlciA9IG1hcmtlci5wYXJlbnQ7XG4gICAgfVxuXG4gICAgaWYgKG1hcmtlciAhPT0gcG9zc2libGVBbmNlc3Rvcikge1xuICAgICAgLy8gd2UgbmV2ZXIgZ290IHRvIGBwb3NzaWJsZUFuY2VzdG9yYCwgdGhlcmVmb3JlIHRoZSBpbml0aWFsIGBtYXJrZXJgIFwiZXNjYXBlc1wiIGl0XG4gICAgICAvLyBpdCdzIGluIGEgZGlmZmVyZW50IHBhcnQgb2YgdGhlIHRyZWUgc28gbm8gc3RhdGVzIHdpbGwgYmUgcmVlbnRlcmVkIGZvciBzdWNoIGFuIGV4dGVybmFsIHRyYW5zaXRpb25cbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBub2Rlcy5wdXNoKHBvc3NpYmxlQW5jZXN0b3IpO1xuICAgIHJldHVybiBub2RlcztcbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldEFjdGlvbnMgPSBmdW5jdGlvbiAocmVzb2x2ZWRDb25maWcsIGlzRG9uZSwgdHJhbnNpdGlvbiwgY3VycmVudENvbnRleHQsIF9ldmVudCwgcHJldlN0YXRlLCBwcmVkaWN0YWJsZUV4ZWMpIHtcbiAgICB2YXIgZV80LCBfYSwgZV81LCBfYjtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgcHJldkNvbmZpZyA9IHByZXZTdGF0ZSA/IGdldENvbmZpZ3VyYXRpb24oW10sIHRoaXMuZ2V0U3RhdGVOb2RlcyhwcmV2U3RhdGUudmFsdWUpKSA6IFtdO1xuICAgIHZhciBlbnRyeVNldCA9IG5ldyBTZXQoKTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKEFycmF5LmZyb20ocmVzb2x2ZWRDb25maWcpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgICAgfSkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgIHZhciBzbiA9IF9kLnZhbHVlO1xuXG4gICAgICAgIGlmICghaGFzKHByZXZDb25maWcsIHNuKSB8fCBoYXModHJhbnNpdGlvbi5leGl0U2V0LCBzbikgfHwgc24ucGFyZW50ICYmIGVudHJ5U2V0Lmhhcyhzbi5wYXJlbnQpKSB7XG4gICAgICAgICAgZW50cnlTZXQuYWRkKHNuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfNF8xKSB7XG4gICAgICBlXzQgPSB7XG4gICAgICAgIGVycm9yOiBlXzRfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBwcmV2Q29uZmlnXzEgPSBfX3ZhbHVlcyhwcmV2Q29uZmlnKSwgcHJldkNvbmZpZ18xXzEgPSBwcmV2Q29uZmlnXzEubmV4dCgpOyAhcHJldkNvbmZpZ18xXzEuZG9uZTsgcHJldkNvbmZpZ18xXzEgPSBwcmV2Q29uZmlnXzEubmV4dCgpKSB7XG4gICAgICAgIHZhciBzbiA9IHByZXZDb25maWdfMV8xLnZhbHVlO1xuXG4gICAgICAgIGlmICghaGFzKHJlc29sdmVkQ29uZmlnLCBzbikgfHwgaGFzKHRyYW5zaXRpb24uZXhpdFNldCwgc24ucGFyZW50KSkge1xuICAgICAgICAgIHRyYW5zaXRpb24uZXhpdFNldC5wdXNoKHNuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfNV8xKSB7XG4gICAgICBlXzUgPSB7XG4gICAgICAgIGVycm9yOiBlXzVfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHByZXZDb25maWdfMV8xICYmICFwcmV2Q29uZmlnXzFfMS5kb25lICYmIChfYiA9IHByZXZDb25maWdfMS5yZXR1cm4pKSBfYi5jYWxsKHByZXZDb25maWdfMSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNpdGlvbi5leGl0U2V0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBiLm9yZGVyIC0gYS5vcmRlcjtcbiAgICB9KTtcbiAgICB2YXIgZW50cnlTdGF0ZXMgPSBBcnJheS5mcm9tKGVudHJ5U2V0KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XG4gICAgfSk7XG4gICAgdmFyIGV4aXRTdGF0ZXMgPSBuZXcgU2V0KHRyYW5zaXRpb24uZXhpdFNldCk7XG4gICAgdmFyIGRvbmVFdmVudHMgPSBmbGF0dGVuKGVudHJ5U3RhdGVzLm1hcChmdW5jdGlvbiAoc24pIHtcbiAgICAgIHZhciBldmVudHMgPSBbXTtcblxuICAgICAgaWYgKHNuLnR5cGUgIT09ICdmaW5hbCcpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IHNuLnBhcmVudDtcblxuICAgICAgaWYgKCFwYXJlbnQucGFyZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgICB9XG5cbiAgICAgIGV2ZW50cy5wdXNoKGRvbmUoc24uaWQsIHNuLmRvbmVEYXRhKSwgLy8gVE9ETzogZGVwcmVjYXRlIC0gZmluYWwgc3RhdGVzIHNob3VsZCBub3QgZW1pdCBkb25lIGV2ZW50cyBmb3IgdGhlaXIgb3duIHN0YXRlLlxuICAgICAgZG9uZShwYXJlbnQuaWQsIHNuLmRvbmVEYXRhID8gbWFwQ29udGV4dChzbi5kb25lRGF0YSwgY3VycmVudENvbnRleHQsIF9ldmVudCkgOiB1bmRlZmluZWQpKTtcbiAgICAgIHZhciBncmFuZHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG5cbiAgICAgIGlmIChncmFuZHBhcmVudC50eXBlID09PSAncGFyYWxsZWwnKSB7XG4gICAgICAgIGlmIChnZXRDaGlsZHJlbihncmFuZHBhcmVudCkuZXZlcnkoZnVuY3Rpb24gKHBhcmVudE5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gaXNJbkZpbmFsU3RhdGUodHJhbnNpdGlvbi5jb25maWd1cmF0aW9uLCBwYXJlbnROb2RlKTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBldmVudHMucHVzaChkb25lKGdyYW5kcGFyZW50LmlkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICB9KSk7XG4gICAgdmFyIGVudHJ5QWN0aW9ucyA9IGVudHJ5U3RhdGVzLm1hcChmdW5jdGlvbiAoc3RhdGVOb2RlKSB7XG4gICAgICB2YXIgZW50cnlBY3Rpb25zID0gc3RhdGVOb2RlLm9uRW50cnk7XG4gICAgICB2YXIgaW52b2tlQWN0aW9ucyA9IHN0YXRlTm9kZS5hY3Rpdml0aWVzLm1hcChmdW5jdGlvbiAoYWN0aXZpdHkpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0KGFjdGl2aXR5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2VudHJ5JyxcbiAgICAgICAgYWN0aW9uczogdG9BY3Rpb25PYmplY3RzKHByZWRpY3RhYmxlRXhlYyA/IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGVudHJ5QWN0aW9ucyksIGZhbHNlKSwgX19yZWFkKGludm9rZUFjdGlvbnMpLCBmYWxzZSkgOiBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChpbnZva2VBY3Rpb25zKSwgZmFsc2UpLCBfX3JlYWQoZW50cnlBY3Rpb25zKSwgZmFsc2UpLCBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aW9ucylcbiAgICAgIH07XG4gICAgfSkuY29uY2F0KHtcbiAgICAgIHR5cGU6ICdzdGF0ZV9kb25lJyxcbiAgICAgIGFjdGlvbnM6IGRvbmVFdmVudHMubWFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gcmFpc2UoZXZlbnQpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgICB2YXIgZXhpdEFjdGlvbnMgPSBBcnJheS5mcm9tKGV4aXRTdGF0ZXMpLm1hcChmdW5jdGlvbiAoc3RhdGVOb2RlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZXhpdCcsXG4gICAgICAgIGFjdGlvbnM6IHRvQWN0aW9uT2JqZWN0cyhfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChzdGF0ZU5vZGUub25FeGl0KSwgZmFsc2UpLCBfX3JlYWQoc3RhdGVOb2RlLmFjdGl2aXRpZXMubWFwKGZ1bmN0aW9uIChhY3Rpdml0eSkge1xuICAgICAgICAgIHJldHVybiBzdG9wKGFjdGl2aXR5KTtcbiAgICAgICAgfSkpLCBmYWxzZSksIF90aGlzLm1hY2hpbmUub3B0aW9ucy5hY3Rpb25zKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB2YXIgYWN0aW9ucyA9IGV4aXRBY3Rpb25zLmNvbmNhdCh7XG4gICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICBhY3Rpb25zOiB0b0FjdGlvbk9iamVjdHModHJhbnNpdGlvbi5hY3Rpb25zLCB0aGlzLm1hY2hpbmUub3B0aW9ucy5hY3Rpb25zKVxuICAgIH0pLmNvbmNhdChlbnRyeUFjdGlvbnMpO1xuXG4gICAgaWYgKGlzRG9uZSkge1xuICAgICAgdmFyIHN0b3BBY3Rpb25zID0gdG9BY3Rpb25PYmplY3RzKGZsYXR0ZW4oX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHJlc29sdmVkQ29uZmlnKSwgZmFsc2UpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIub3JkZXIgLSBhLm9yZGVyO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlTm9kZS5vbkV4aXQ7XG4gICAgICB9KSksIHRoaXMubWFjaGluZS5vcHRpb25zLmFjdGlvbnMpLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAhaXNSYWlzYWJsZUFjdGlvbihhY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWN0aW9ucy5jb25jYXQoe1xuICAgICAgICB0eXBlOiAnc3RvcCcsXG4gICAgICAgIGFjdGlvbnM6IHN0b3BBY3Rpb25zXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9ucztcbiAgfTtcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyB0aGUgbmV4dCBzdGF0ZSBnaXZlbiB0aGUgY3VycmVudCBgc3RhdGVgIGFuZCBzZW50IGBldmVudGAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RhdGUgVGhlIGN1cnJlbnQgU3RhdGUgaW5zdGFuY2Ugb3Igc3RhdGUgdmFsdWVcclxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRoYXQgd2FzIHNlbnQgYXQgdGhlIGN1cnJlbnQgc3RhdGVcclxuICAgKiBAcGFyYW0gY29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IChleHRlbmRlZCBzdGF0ZSkgb2YgdGhlIGN1cnJlbnQgc3RhdGVcclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUudHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChzdGF0ZSwgZXZlbnQsIGNvbnRleHQsIGV4ZWMpIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgc3RhdGUgPSB0aGlzLmluaXRpYWxTdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgX2V2ZW50ID0gdG9TQ1hNTEV2ZW50KGV2ZW50KTtcblxuICAgIHZhciBjdXJyZW50U3RhdGU7XG5cbiAgICBpZiAoc3RhdGUgaW5zdGFuY2VvZiBTdGF0ZSkge1xuICAgICAgY3VycmVudFN0YXRlID0gY29udGV4dCA9PT0gdW5kZWZpbmVkID8gc3RhdGUgOiB0aGlzLnJlc29sdmVTdGF0ZShTdGF0ZS5mcm9tKHN0YXRlLCBjb250ZXh0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXNvbHZlZFN0YXRlVmFsdWUgPSBpc1N0cmluZyhzdGF0ZSkgPyB0aGlzLnJlc29sdmUocGF0aFRvU3RhdGVWYWx1ZSh0aGlzLmdldFJlc29sdmVkUGF0aChzdGF0ZSkpKSA6IHRoaXMucmVzb2x2ZShzdGF0ZSk7XG4gICAgICB2YXIgcmVzb2x2ZWRDb250ZXh0ID0gY29udGV4dCAhPT0gbnVsbCAmJiBjb250ZXh0ICE9PSB2b2lkIDAgPyBjb250ZXh0IDogdGhpcy5tYWNoaW5lLmNvbnRleHQ7XG4gICAgICBjdXJyZW50U3RhdGUgPSB0aGlzLnJlc29sdmVTdGF0ZShTdGF0ZS5mcm9tKHJlc29sdmVkU3RhdGVWYWx1ZSwgcmVzb2x2ZWRDb250ZXh0KSk7XG4gICAgfVxuXG4gICAgaWYgKCFJU19QUk9EVUNUSU9OICYmIF9ldmVudC5uYW1lID09PSBXSUxEQ0FSRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gZXZlbnQgY2Fubm90IGhhdmUgdGhlIHdpbGRjYXJkIHR5cGUgKCdcIi5jb25jYXQoV0lMRENBUkQsIFwiJylcIikpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmljdCkge1xuICAgICAgaWYgKCF0aGlzLmV2ZW50cy5pbmNsdWRlcyhfZXZlbnQubmFtZSkgJiYgIWlzQnVpbHRJbkV2ZW50KF9ldmVudC5uYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWNoaW5lICdcIi5jb25jYXQodGhpcy5pZCwgXCInIGRvZXMgbm90IGFjY2VwdCBldmVudCAnXCIpLmNvbmNhdChfZXZlbnQubmFtZSwgXCInXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc3RhdGVUcmFuc2l0aW9uID0gdGhpcy5fdHJhbnNpdGlvbihjdXJyZW50U3RhdGUudmFsdWUsIGN1cnJlbnRTdGF0ZSwgX2V2ZW50KSB8fCB7XG4gICAgICB0cmFuc2l0aW9uczogW10sXG4gICAgICBjb25maWd1cmF0aW9uOiBbXSxcbiAgICAgIGV4aXRTZXQ6IFtdLFxuICAgICAgc291cmNlOiBjdXJyZW50U3RhdGUsXG4gICAgICBhY3Rpb25zOiBbXVxuICAgIH07XG4gICAgdmFyIHByZXZDb25maWcgPSBnZXRDb25maWd1cmF0aW9uKFtdLCB0aGlzLmdldFN0YXRlTm9kZXMoY3VycmVudFN0YXRlLnZhbHVlKSk7XG4gICAgdmFyIHJlc29sdmVkQ29uZmlnID0gc3RhdGVUcmFuc2l0aW9uLmNvbmZpZ3VyYXRpb24ubGVuZ3RoID8gZ2V0Q29uZmlndXJhdGlvbihwcmV2Q29uZmlnLCBzdGF0ZVRyYW5zaXRpb24uY29uZmlndXJhdGlvbikgOiBwcmV2Q29uZmlnO1xuICAgIHN0YXRlVHJhbnNpdGlvbi5jb25maWd1cmF0aW9uID0gX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHJlc29sdmVkQ29uZmlnKSwgZmFsc2UpO1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVUcmFuc2l0aW9uKHN0YXRlVHJhbnNpdGlvbiwgY3VycmVudFN0YXRlLCBjdXJyZW50U3RhdGUuY29udGV4dCwgZXhlYywgX2V2ZW50KTtcbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnJlc29sdmVSYWlzZWRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKHN0YXRlLCBfZXZlbnQsIG9yaWdpbmFsRXZlbnQsIHByZWRpY3RhYmxlRXhlYykge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBjdXJyZW50QWN0aW9ucyA9IHN0YXRlLmFjdGlvbnM7XG4gICAgc3RhdGUgPSB0aGlzLnRyYW5zaXRpb24oc3RhdGUsIF9ldmVudCwgdW5kZWZpbmVkLCBwcmVkaWN0YWJsZUV4ZWMpOyAvLyBTYXZlIG9yaWdpbmFsIGV2ZW50IHRvIHN0YXRlXG4gICAgLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgdGhlIHJhaXNlZCBldmVudCEgRGVsZXRlIGluIFY1IChicmVha2luZylcblxuICAgIHN0YXRlLl9ldmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgc3RhdGUuZXZlbnQgPSBvcmlnaW5hbEV2ZW50LmRhdGE7XG5cbiAgICAoX2EgPSBzdGF0ZS5hY3Rpb25zKS51bnNoaWZ0LmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoY3VycmVudEFjdGlvbnMpLCBmYWxzZSkpO1xuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUucmVzb2x2ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc3RhdGVUcmFuc2l0aW9uLCBjdXJyZW50U3RhdGUsIGNvbnRleHQsIHByZWRpY3RhYmxlRXhlYywgX2V2ZW50KSB7XG4gICAgdmFyIGVfNiwgX2EsIGVfNywgX2I7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF9ldmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICBfZXZlbnQgPSBpbml0RXZlbnQ7XG4gICAgfVxuXG4gICAgdmFyIGNvbmZpZ3VyYXRpb24gPSBzdGF0ZVRyYW5zaXRpb24uY29uZmlndXJhdGlvbjsgLy8gVHJhbnNpdGlvbiB3aWxsIFwiYXBwbHlcIiBpZjpcbiAgICAvLyAtIHRoaXMgaXMgdGhlIGluaXRpYWwgc3RhdGUgKHRoZXJlIGlzIG5vIGN1cnJlbnQgc3RhdGUpXG4gICAgLy8gLSBPUiB0aGVyZSBhcmUgdHJhbnNpdGlvbnNcblxuICAgIHZhciB3aWxsVHJhbnNpdGlvbiA9ICFjdXJyZW50U3RhdGUgfHwgc3RhdGVUcmFuc2l0aW9uLnRyYW5zaXRpb25zLmxlbmd0aCA+IDA7XG4gICAgdmFyIHJlc29sdmVkQ29uZmlndXJhdGlvbiA9IHdpbGxUcmFuc2l0aW9uID8gc3RhdGVUcmFuc2l0aW9uLmNvbmZpZ3VyYXRpb24gOiBjdXJyZW50U3RhdGUgPyBjdXJyZW50U3RhdGUuY29uZmlndXJhdGlvbiA6IFtdO1xuICAgIHZhciBpc0RvbmUgPSBpc0luRmluYWxTdGF0ZShyZXNvbHZlZENvbmZpZ3VyYXRpb24sIHRoaXMpO1xuICAgIHZhciByZXNvbHZlZFN0YXRlVmFsdWUgPSB3aWxsVHJhbnNpdGlvbiA/IGdldFZhbHVlKHRoaXMubWFjaGluZSwgY29uZmlndXJhdGlvbikgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGhpc3RvcnlWYWx1ZSA9IGN1cnJlbnRTdGF0ZSA/IGN1cnJlbnRTdGF0ZS5oaXN0b3J5VmFsdWUgPyBjdXJyZW50U3RhdGUuaGlzdG9yeVZhbHVlIDogc3RhdGVUcmFuc2l0aW9uLnNvdXJjZSA/IHRoaXMubWFjaGluZS5oaXN0b3J5VmFsdWUoY3VycmVudFN0YXRlLnZhbHVlKSA6IHVuZGVmaW5lZCA6IHVuZGVmaW5lZDtcbiAgICB2YXIgYWN0aW9uQmxvY2tzID0gdGhpcy5nZXRBY3Rpb25zKG5ldyBTZXQocmVzb2x2ZWRDb25maWd1cmF0aW9uKSwgaXNEb25lLCBzdGF0ZVRyYW5zaXRpb24sIGNvbnRleHQsIF9ldmVudCwgY3VycmVudFN0YXRlLCBwcmVkaWN0YWJsZUV4ZWMpO1xuICAgIHZhciBhY3Rpdml0aWVzID0gY3VycmVudFN0YXRlID8gX19hc3NpZ24oe30sIGN1cnJlbnRTdGF0ZS5hY3Rpdml0aWVzKSA6IHt9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIGFjdGlvbkJsb2Nrc18xID0gX192YWx1ZXMoYWN0aW9uQmxvY2tzKSwgYWN0aW9uQmxvY2tzXzFfMSA9IGFjdGlvbkJsb2Nrc18xLm5leHQoKTsgIWFjdGlvbkJsb2Nrc18xXzEuZG9uZTsgYWN0aW9uQmxvY2tzXzFfMSA9IGFjdGlvbkJsb2Nrc18xLm5leHQoKSkge1xuICAgICAgICB2YXIgYmxvY2sgPSBhY3Rpb25CbG9ja3NfMV8xLnZhbHVlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2MgPSAoZV83ID0gdm9pZCAwLCBfX3ZhbHVlcyhibG9jay5hY3Rpb25zKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBfZC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBzdGFydCQxKSB7XG4gICAgICAgICAgICAgIGFjdGl2aXRpZXNbYWN0aW9uLmFjdGl2aXR5LmlkIHx8IGFjdGlvbi5hY3Rpdml0eS50eXBlXSA9IGFjdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IHN0b3AkMSkge1xuICAgICAgICAgICAgICBhY3Rpdml0aWVzW2FjdGlvbi5hY3Rpdml0eS5pZCB8fCBhY3Rpb24uYWN0aXZpdHkudHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVfN18xKSB7XG4gICAgICAgICAgZV83ID0ge1xuICAgICAgICAgICAgZXJyb3I6IGVfN18xXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoZV83KSB0aHJvdyBlXzcuZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV82XzEpIHtcbiAgICAgIGVfNiA9IHtcbiAgICAgICAgZXJyb3I6IGVfNl8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoYWN0aW9uQmxvY2tzXzFfMSAmJiAhYWN0aW9uQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGFjdGlvbkJsb2Nrc18xLnJldHVybikpIF9hLmNhbGwoYWN0aW9uQmxvY2tzXzEpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfNikgdGhyb3cgZV82LmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfZSA9IF9fcmVhZChyZXNvbHZlQWN0aW9ucyh0aGlzLCBjdXJyZW50U3RhdGUsIGNvbnRleHQsIF9ldmVudCwgYWN0aW9uQmxvY2tzLCBwcmVkaWN0YWJsZUV4ZWMsIHRoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMgfHwgdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVzZXJ2ZUFjdGlvbk9yZGVyKSwgMiksXG4gICAgICAgIHJlc29sdmVkQWN0aW9ucyA9IF9lWzBdLFxuICAgICAgICB1cGRhdGVkQ29udGV4dCA9IF9lWzFdO1xuXG4gICAgdmFyIF9mID0gX19yZWFkKHBhcnRpdGlvbihyZXNvbHZlZEFjdGlvbnMsIGlzUmFpc2FibGVBY3Rpb24pLCAyKSxcbiAgICAgICAgcmFpc2VkRXZlbnRzID0gX2ZbMF0sXG4gICAgICAgIG5vblJhaXNlZEFjdGlvbnMgPSBfZlsxXTtcblxuICAgIHZhciBpbnZva2VBY3Rpb25zID0gcmVzb2x2ZWRBY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHJldHVybiBhY3Rpb24udHlwZSA9PT0gc3RhcnQkMSAmJiAoKF9hID0gYWN0aW9uLmFjdGl2aXR5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZSkgPT09IGludm9rZTtcbiAgICB9KTtcbiAgICB2YXIgY2hpbGRyZW4gPSBpbnZva2VBY3Rpb25zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhY3Rpb24pIHtcbiAgICAgIGFjY1thY3Rpb24uYWN0aXZpdHkuaWRdID0gY3JlYXRlSW52b2NhYmxlQWN0b3IoYWN0aW9uLmFjdGl2aXR5LCBfdGhpcy5tYWNoaW5lLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50KTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgY3VycmVudFN0YXRlID8gX19hc3NpZ24oe30sIGN1cnJlbnRTdGF0ZS5jaGlsZHJlbikgOiB7fSk7XG4gICAgdmFyIG5leHRTdGF0ZSA9IG5ldyBTdGF0ZSh7XG4gICAgICB2YWx1ZTogcmVzb2x2ZWRTdGF0ZVZhbHVlIHx8IGN1cnJlbnRTdGF0ZS52YWx1ZSxcbiAgICAgIGNvbnRleHQ6IHVwZGF0ZWRDb250ZXh0LFxuICAgICAgX2V2ZW50OiBfZXZlbnQsXG4gICAgICAvLyBQZXJzaXN0IF9zZXNzaW9uaWQgYmV0d2VlbiBzdGF0ZXNcbiAgICAgIF9zZXNzaW9uaWQ6IGN1cnJlbnRTdGF0ZSA/IGN1cnJlbnRTdGF0ZS5fc2Vzc2lvbmlkIDogbnVsbCxcbiAgICAgIGhpc3RvcnlWYWx1ZTogcmVzb2x2ZWRTdGF0ZVZhbHVlID8gaGlzdG9yeVZhbHVlID8gdXBkYXRlSGlzdG9yeVZhbHVlKGhpc3RvcnlWYWx1ZSwgcmVzb2x2ZWRTdGF0ZVZhbHVlKSA6IHVuZGVmaW5lZCA6IGN1cnJlbnRTdGF0ZSA/IGN1cnJlbnRTdGF0ZS5oaXN0b3J5VmFsdWUgOiB1bmRlZmluZWQsXG4gICAgICBoaXN0b3J5OiAhcmVzb2x2ZWRTdGF0ZVZhbHVlIHx8IHN0YXRlVHJhbnNpdGlvbi5zb3VyY2UgPyBjdXJyZW50U3RhdGUgOiB1bmRlZmluZWQsXG4gICAgICBhY3Rpb25zOiByZXNvbHZlZFN0YXRlVmFsdWUgPyBub25SYWlzZWRBY3Rpb25zIDogW10sXG4gICAgICBhY3Rpdml0aWVzOiByZXNvbHZlZFN0YXRlVmFsdWUgPyBhY3Rpdml0aWVzIDogY3VycmVudFN0YXRlID8gY3VycmVudFN0YXRlLmFjdGl2aXRpZXMgOiB7fSxcbiAgICAgIGV2ZW50czogW10sXG4gICAgICBjb25maWd1cmF0aW9uOiByZXNvbHZlZENvbmZpZ3VyYXRpb24sXG4gICAgICB0cmFuc2l0aW9uczogc3RhdGVUcmFuc2l0aW9uLnRyYW5zaXRpb25zLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgZG9uZTogaXNEb25lLFxuICAgICAgdGFnczogZ2V0VGFnc0Zyb21Db25maWd1cmF0aW9uKHJlc29sdmVkQ29uZmlndXJhdGlvbiksXG4gICAgICBtYWNoaW5lOiB0aGlzXG4gICAgfSk7XG4gICAgdmFyIGRpZFVwZGF0ZUNvbnRleHQgPSBjb250ZXh0ICE9PSB1cGRhdGVkQ29udGV4dDtcbiAgICBuZXh0U3RhdGUuY2hhbmdlZCA9IF9ldmVudC5uYW1lID09PSB1cGRhdGUgfHwgZGlkVXBkYXRlQ29udGV4dDsgLy8gRGlzcG9zZSBvZiBwZW51bHRpbWF0ZSBoaXN0b3JpZXMgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcblxuICAgIHZhciBoaXN0b3J5ID0gbmV4dFN0YXRlLmhpc3Rvcnk7XG5cbiAgICBpZiAoaGlzdG9yeSkge1xuICAgICAgZGVsZXRlIGhpc3RvcnkuaGlzdG9yeTtcbiAgICB9IC8vIFRoZXJlIGFyZSB0cmFuc2llbnQgdHJhbnNpdGlvbnMgaWYgdGhlIG1hY2hpbmUgaXMgbm90IGluIGEgZmluYWwgc3RhdGVcbiAgICAvLyBhbmQgaWYgc29tZSBvZiB0aGUgc3RhdGUgbm9kZXMgaGF2ZSB0cmFuc2llbnQgKFwiYWx3YXlzXCIpIHRyYW5zaXRpb25zLlxuXG5cbiAgICB2YXIgaGFzQWx3YXlzVHJhbnNpdGlvbnMgPSAhaXNEb25lICYmICh0aGlzLl90cmFuc2llbnQgfHwgY29uZmlndXJhdGlvbi5zb21lKGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZU5vZGUuX3RyYW5zaWVudDtcbiAgICB9KSk7IC8vIElmIHRoZXJlIGFyZSBubyBlbmFibGVkIHRyYW5zaXRpb25zLCBjaGVjayBpZiB0aGVyZSBhcmUgdHJhbnNpZW50IHRyYW5zaXRpb25zLlxuICAgIC8vIElmIHRoZXJlIGFyZSB0cmFuc2llbnQgdHJhbnNpdGlvbnMsIGNvbnRpbnVlIGNoZWNraW5nIGZvciBtb3JlIHRyYW5zaXRpb25zXG4gICAgLy8gYmVjYXVzZSBhbiB0cmFuc2llbnQgdHJhbnNpdGlvbiBzaG91bGQgYmUgdHJpZ2dlcmVkIGV2ZW4gaWYgdGhlcmUgYXJlIG5vXG4gICAgLy8gZW5hYmxlZCB0cmFuc2l0aW9ucy5cbiAgICAvL1xuICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgd29ya2luZyBvbiBhbiB0cmFuc2llbnQgdHJhbnNpdGlvbiB0aGVuIHN0b3AgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLlxuICAgIC8vXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGVyZSBhcmUgbm8gZW5hYmxlZCBub3IgdHJhbnNpZW50IHRyYW5zaXRpb25zLCB3ZSBhcmUgZG9uZS5cblxuICAgIGlmICghd2lsbFRyYW5zaXRpb24gJiYgKCFoYXNBbHdheXNUcmFuc2l0aW9ucyB8fCBfZXZlbnQubmFtZSA9PT0gTlVMTF9FVkVOVCkpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIG1heWJlTmV4dFN0YXRlID0gbmV4dFN0YXRlO1xuXG4gICAgaWYgKCFpc0RvbmUpIHtcbiAgICAgIGlmIChoYXNBbHdheXNUcmFuc2l0aW9ucykge1xuICAgICAgICBtYXliZU5leHRTdGF0ZSA9IHRoaXMucmVzb2x2ZVJhaXNlZFRyYW5zaXRpb24obWF5YmVOZXh0U3RhdGUsIHtcbiAgICAgICAgICB0eXBlOiBudWxsRXZlbnRcbiAgICAgICAgfSwgX2V2ZW50LCBwcmVkaWN0YWJsZUV4ZWMpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAocmFpc2VkRXZlbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgcmFpc2VkRXZlbnQgPSByYWlzZWRFdmVudHMuc2hpZnQoKTtcbiAgICAgICAgbWF5YmVOZXh0U3RhdGUgPSB0aGlzLnJlc29sdmVSYWlzZWRUcmFuc2l0aW9uKG1heWJlTmV4dFN0YXRlLCByYWlzZWRFdmVudC5fZXZlbnQsIF9ldmVudCwgcHJlZGljdGFibGVFeGVjKTtcbiAgICAgIH1cbiAgICB9IC8vIERldGVjdCBpZiBzdGF0ZSBjaGFuZ2VkXG5cblxuICAgIHZhciBjaGFuZ2VkID0gbWF5YmVOZXh0U3RhdGUuY2hhbmdlZCB8fCAoaGlzdG9yeSA/ICEhbWF5YmVOZXh0U3RhdGUuYWN0aW9ucy5sZW5ndGggfHwgZGlkVXBkYXRlQ29udGV4dCB8fCB0eXBlb2YgaGlzdG9yeS52YWx1ZSAhPT0gdHlwZW9mIG1heWJlTmV4dFN0YXRlLnZhbHVlIHx8ICFzdGF0ZVZhbHVlc0VxdWFsKG1heWJlTmV4dFN0YXRlLnZhbHVlLCBoaXN0b3J5LnZhbHVlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWF5YmVOZXh0U3RhdGUuY2hhbmdlZCA9IGNoYW5nZWQ7IC8vIFByZXNlcnZlIG9yaWdpbmFsIGhpc3RvcnkgYWZ0ZXIgcmFpc2VkIGV2ZW50c1xuXG4gICAgbWF5YmVOZXh0U3RhdGUuaGlzdG9yeSA9IGhpc3Rvcnk7XG4gICAgcmV0dXJuIG1heWJlTmV4dFN0YXRlO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBzdGF0ZSBub2RlIGZyb20gaXRzIHJlbGF0aXZlIGBzdGF0ZUtleWAsIG9yIHRocm93cy5cclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0U3RhdGVOb2RlID0gZnVuY3Rpb24gKHN0YXRlS2V5KSB7XG4gICAgaWYgKGlzU3RhdGVJZChzdGF0ZUtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hY2hpbmUuZ2V0U3RhdGVOb2RlQnlJZChzdGF0ZUtleSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJldHJpZXZlIGNoaWxkIHN0YXRlICdcIi5jb25jYXQoc3RhdGVLZXksIFwiJyBmcm9tICdcIikuY29uY2F0KHRoaXMuaWQsIFwiJzsgbm8gY2hpbGQgc3RhdGVzIGV4aXN0LlwiKSk7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuc3RhdGVzW3N0YXRlS2V5XTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGlsZCBzdGF0ZSAnXCIuY29uY2F0KHN0YXRlS2V5LCBcIicgZG9lcyBub3QgZXhpc3Qgb24gJ1wiKS5jb25jYXQodGhpcy5pZCwgXCInXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSBub2RlIHdpdGggdGhlIGdpdmVuIGBzdGF0ZUlkYCwgb3IgdGhyb3dzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN0YXRlSWQgVGhlIHN0YXRlIElELiBUaGUgcHJlZml4IFwiI1wiIGlzIHJlbW92ZWQuXHJcbiAgICovXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldFN0YXRlTm9kZUJ5SWQgPSBmdW5jdGlvbiAoc3RhdGVJZCkge1xuICAgIHZhciByZXNvbHZlZFN0YXRlSWQgPSBpc1N0YXRlSWQoc3RhdGVJZCkgPyBzdGF0ZUlkLnNsaWNlKFNUQVRFX0lERU5USUZJRVIubGVuZ3RoKSA6IHN0YXRlSWQ7XG5cbiAgICBpZiAocmVzb2x2ZWRTdGF0ZUlkID09PSB0aGlzLmlkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgc3RhdGVOb2RlID0gdGhpcy5tYWNoaW5lLmlkTWFwW3Jlc29sdmVkU3RhdGVJZF07XG5cbiAgICBpZiAoIXN0YXRlTm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2hpbGQgc3RhdGUgbm9kZSAnI1wiLmNvbmNhdChyZXNvbHZlZFN0YXRlSWQsIFwiJyBkb2VzIG5vdCBleGlzdCBvbiBtYWNoaW5lICdcIikuY29uY2F0KHRoaXMuaWQsIFwiJ1wiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlTm9kZTtcbiAgfTtcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgcmVsYXRpdmUgc3RhdGUgbm9kZSBmcm9tIHRoZSBnaXZlbiBgc3RhdGVQYXRoYCwgb3IgdGhyb3dzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN0YXRlUGF0aCBUaGUgc3RyaW5nIG9yIHN0cmluZyBhcnJheSByZWxhdGl2ZSBwYXRoIHRvIHRoZSBzdGF0ZSBub2RlLlxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRTdGF0ZU5vZGVCeVBhdGggPSBmdW5jdGlvbiAoc3RhdGVQYXRoKSB7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZVBhdGggPT09ICdzdHJpbmcnICYmIGlzU3RhdGVJZChzdGF0ZVBhdGgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZU5vZGVCeUlkKHN0YXRlUGF0aC5zbGljZSgxKSk7XG4gICAgICB9IGNhdGNoIChlKSB7Ly8gdHJ5IGluZGl2aWR1YWwgcGF0aHNcbiAgICAgICAgLy8gdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYXJyYXlTdGF0ZVBhdGggPSB0b1N0YXRlUGF0aChzdGF0ZVBhdGgsIHRoaXMuZGVsaW1pdGVyKS5zbGljZSgpO1xuICAgIHZhciBjdXJyZW50U3RhdGVOb2RlID0gdGhpcztcblxuICAgIHdoaWxlIChhcnJheVN0YXRlUGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBrZXkgPSBhcnJheVN0YXRlUGF0aC5zaGlmdCgpO1xuXG4gICAgICBpZiAoIWtleS5sZW5ndGgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRTdGF0ZU5vZGUgPSBjdXJyZW50U3RhdGVOb2RlLmdldFN0YXRlTm9kZShrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RhdGVOb2RlO1xuICB9O1xuICAvKipcclxuICAgKiBSZXNvbHZlcyBhIHBhcnRpYWwgc3RhdGUgdmFsdWUgd2l0aCBpdHMgZnVsbCByZXByZXNlbnRhdGlvbiBpbiB0aGlzIG1hY2hpbmUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RhdGVWYWx1ZSBUaGUgcGFydGlhbCBzdGF0ZSB2YWx1ZSB0byByZXNvbHZlLlxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCFzdGF0ZVZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbml0aWFsU3RhdGVWYWx1ZSB8fCBFTVBUWV9PQkpFQ1Q7IC8vIFRPRE86IHR5cGUtc3BlY2lmaWMgcHJvcGVydGllc1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICBjYXNlICdwYXJhbGxlbCc6XG4gICAgICAgIHJldHVybiBtYXBWYWx1ZXModGhpcy5pbml0aWFsU3RhdGVWYWx1ZSwgZnVuY3Rpb24gKHN1YlN0YXRlVmFsdWUsIHN1YlN0YXRlS2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHN1YlN0YXRlVmFsdWUgPyBfdGhpcy5nZXRTdGF0ZU5vZGUoc3ViU3RhdGVLZXkpLnJlc29sdmUoc3RhdGVWYWx1ZVtzdWJTdGF0ZUtleV0gfHwgc3ViU3RhdGVWYWx1ZSkgOiBFTVBUWV9PQkpFQ1Q7XG4gICAgICAgIH0pO1xuXG4gICAgICBjYXNlICdjb21wb3VuZCc6XG4gICAgICAgIGlmIChpc1N0cmluZyhzdGF0ZVZhbHVlKSkge1xuICAgICAgICAgIHZhciBzdWJTdGF0ZU5vZGUgPSB0aGlzLmdldFN0YXRlTm9kZShzdGF0ZVZhbHVlKTtcblxuICAgICAgICAgIGlmIChzdWJTdGF0ZU5vZGUudHlwZSA9PT0gJ3BhcmFsbGVsJyB8fCBzdWJTdGF0ZU5vZGUudHlwZSA9PT0gJ2NvbXBvdW5kJykge1xuICAgICAgICAgICAgcmV0dXJuIF9hID0ge30sIF9hW3N0YXRlVmFsdWVdID0gc3ViU3RhdGVOb2RlLmluaXRpYWxTdGF0ZVZhbHVlLCBfYTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3RhdGVWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghT2JqZWN0LmtleXMoc3RhdGVWYWx1ZSkubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbFN0YXRlVmFsdWUgfHwge307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwVmFsdWVzKHN0YXRlVmFsdWUsIGZ1bmN0aW9uIChzdWJTdGF0ZVZhbHVlLCBzdWJTdGF0ZUtleSkge1xuICAgICAgICAgIHJldHVybiBzdWJTdGF0ZVZhbHVlID8gX3RoaXMuZ2V0U3RhdGVOb2RlKHN1YlN0YXRlS2V5KS5yZXNvbHZlKHN1YlN0YXRlVmFsdWUpIDogRU1QVFlfT0JKRUNUO1xuICAgICAgICB9KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlVmFsdWUgfHwgRU1QVFlfT0JKRUNUO1xuICAgIH1cbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldFJlc29sdmVkUGF0aCA9IGZ1bmN0aW9uIChzdGF0ZUlkZW50aWZpZXIpIHtcbiAgICBpZiAoaXNTdGF0ZUlkKHN0YXRlSWRlbnRpZmllcikpIHtcbiAgICAgIHZhciBzdGF0ZU5vZGUgPSB0aGlzLm1hY2hpbmUuaWRNYXBbc3RhdGVJZGVudGlmaWVyLnNsaWNlKFNUQVRFX0lERU5USUZJRVIubGVuZ3RoKV07XG5cbiAgICAgIGlmICghc3RhdGVOb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIHN0YXRlIG5vZGUgJ1wiLmNvbmNhdChzdGF0ZUlkZW50aWZpZXIsIFwiJ1wiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGF0ZU5vZGUucGF0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9TdGF0ZVBhdGgoc3RhdGVJZGVudGlmaWVyLCB0aGlzLmRlbGltaXRlcik7XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwiaW5pdGlhbFN0YXRlVmFsdWVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAodGhpcy5fX2NhY2hlLmluaXRpYWxTdGF0ZVZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUuaW5pdGlhbFN0YXRlVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbml0aWFsU3RhdGVWYWx1ZTtcblxuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3BhcmFsbGVsJykge1xuICAgICAgICBpbml0aWFsU3RhdGVWYWx1ZSA9IG1hcEZpbHRlclZhbHVlcyh0aGlzLnN0YXRlcywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLmluaXRpYWxTdGF0ZVZhbHVlIHx8IEVNUFRZX09CSkVDVDtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHN0YXRlTm9kZSkge1xuICAgICAgICAgIHJldHVybiAhKHN0YXRlTm9kZS50eXBlID09PSAnaGlzdG9yeScpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbml0aWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlc1t0aGlzLmluaXRpYWxdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5pdGlhbCBzdGF0ZSAnXCIuY29uY2F0KHRoaXMuaW5pdGlhbCwgXCInIG5vdCBmb3VuZCBvbiAnXCIpLmNvbmNhdCh0aGlzLmtleSwgXCInXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRpYWxTdGF0ZVZhbHVlID0gaXNMZWFmTm9kZSh0aGlzLnN0YXRlc1t0aGlzLmluaXRpYWxdKSA/IHRoaXMuaW5pdGlhbCA6IChfYSA9IHt9LCBfYVt0aGlzLmluaXRpYWxdID0gdGhpcy5zdGF0ZXNbdGhpcy5pbml0aWFsXS5pbml0aWFsU3RhdGVWYWx1ZSwgX2EpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIGZpbml0ZSBzdGF0ZSB2YWx1ZSBvZiBhIG1hY2hpbmUgd2l0aG91dCBjaGlsZCBzdGF0ZXMgaXMganVzdCBhbiBlbXB0eSBvYmplY3RcbiAgICAgICAgaW5pdGlhbFN0YXRlVmFsdWUgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX2NhY2hlLmluaXRpYWxTdGF0ZVZhbHVlID0gaW5pdGlhbFN0YXRlVmFsdWU7XG4gICAgICByZXR1cm4gdGhpcy5fX2NhY2hlLmluaXRpYWxTdGF0ZVZhbHVlO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUsIGNvbnRleHQpIHtcbiAgICB0aGlzLl9pbml0KCk7IC8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIGluIHRoZSBjb25zdHJ1Y3RvciAoc2VlIG5vdGUgaW4gY29uc3RydWN0b3IpXG5cblxuICAgIHZhciBjb25maWd1cmF0aW9uID0gdGhpcy5nZXRTdGF0ZU5vZGVzKHN0YXRlVmFsdWUpO1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVUcmFuc2l0aW9uKHtcbiAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb24sXG4gICAgICBleGl0U2V0OiBbXSxcbiAgICAgIHRyYW5zaXRpb25zOiBbXSxcbiAgICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgICAgYWN0aW9uczogW11cbiAgICB9LCB1bmRlZmluZWQsIGNvbnRleHQgIT09IG51bGwgJiYgY29udGV4dCAhPT0gdm9pZCAwID8gY29udGV4dCA6IHRoaXMubWFjaGluZS5jb250ZXh0LCB1bmRlZmluZWQpO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcImluaXRpYWxTdGF0ZVwiLCB7XG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaW5pdGlhbCBTdGF0ZSBpbnN0YW5jZSwgd2hpY2ggaW5jbHVkZXMgYWxsIGFjdGlvbnMgdG8gYmUgZXhlY3V0ZWQgZnJvbVxyXG4gICAgICogZW50ZXJpbmcgdGhlIGluaXRpYWwgc3RhdGUuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbml0aWFsU3RhdGVWYWx1ZSA9IHRoaXMuaW5pdGlhbFN0YXRlVmFsdWU7XG5cbiAgICAgIGlmICghaW5pdGlhbFN0YXRlVmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJldHJpZXZlIGluaXRpYWwgc3RhdGUgZnJvbSBzaW1wbGUgc3RhdGUgJ1wiLmNvbmNhdCh0aGlzLmlkLCBcIicuXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5pdGlhbFN0YXRlKGluaXRpYWxTdGF0ZVZhbHVlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAvKipcclxuICAgICAqIFRoZSB0YXJnZXQgc3RhdGUgdmFsdWUgb2YgdGhlIGhpc3Rvcnkgc3RhdGUgbm9kZSwgaWYgaXQgZXhpc3RzLiBUaGlzIHJlcHJlc2VudHMgdGhlXHJcbiAgICAgKiBkZWZhdWx0IHN0YXRlIHZhbHVlIHRvIHRyYW5zaXRpb24gdG8gaWYgbm8gaGlzdG9yeSB2YWx1ZSBleGlzdHMgeWV0LlxyXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGFyZ2V0O1xuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAnaGlzdG9yeScpIHtcbiAgICAgICAgdmFyIGhpc3RvcnlDb25maWcgPSB0aGlzLmNvbmZpZztcblxuICAgICAgICBpZiAoaXNTdHJpbmcoaGlzdG9yeUNvbmZpZy50YXJnZXQpKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gaXNTdGF0ZUlkKGhpc3RvcnlDb25maWcudGFyZ2V0KSA/IHBhdGhUb1N0YXRlVmFsdWUodGhpcy5tYWNoaW5lLmdldFN0YXRlTm9kZUJ5SWQoaGlzdG9yeUNvbmZpZy50YXJnZXQpLnBhdGguc2xpY2UodGhpcy5wYXRoLmxlbmd0aCAtIDEpKSA6IGhpc3RvcnlDb25maWcudGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldCA9IGhpc3RvcnlDb25maWcudGFyZ2V0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGxlYWYgbm9kZXMgZnJvbSBhIHN0YXRlIHBhdGggcmVsYXRpdmUgdG8gdGhpcyBzdGF0ZSBub2RlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHJlbGF0aXZlU3RhdGVJZCBUaGUgcmVsYXRpdmUgc3RhdGUgcGF0aCB0byByZXRyaWV2ZSB0aGUgc3RhdGUgbm9kZXNcclxuICAgKiBAcGFyYW0gaGlzdG9yeSBUaGUgcHJldmlvdXMgc3RhdGUgdG8gcmV0cmlldmUgaGlzdG9yeVxyXG4gICAqIEBwYXJhbSByZXNvbHZlIFdoZXRoZXIgc3RhdGUgbm9kZXMgc2hvdWxkIHJlc29sdmUgdG8gaW5pdGlhbCBjaGlsZCBzdGF0ZSBub2Rlc1xyXG4gICAqL1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0UmVsYXRpdmVTdGF0ZU5vZGVzID0gZnVuY3Rpb24gKHJlbGF0aXZlU3RhdGVJZCwgaGlzdG9yeVZhbHVlLCByZXNvbHZlKSB7XG4gICAgaWYgKHJlc29sdmUgPT09IHZvaWQgMCkge1xuICAgICAgcmVzb2x2ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdmUgPyByZWxhdGl2ZVN0YXRlSWQudHlwZSA9PT0gJ2hpc3RvcnknID8gcmVsYXRpdmVTdGF0ZUlkLnJlc29sdmVIaXN0b3J5KGhpc3RvcnlWYWx1ZSkgOiByZWxhdGl2ZVN0YXRlSWQuaW5pdGlhbFN0YXRlTm9kZXMgOiBbcmVsYXRpdmVTdGF0ZUlkXTtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJpbml0aWFsU3RhdGVOb2Rlc1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoaXNMZWFmTm9kZSh0aGlzKSkge1xuICAgICAgICByZXR1cm4gW3RoaXNdO1xuICAgICAgfSAvLyBDYXNlIHdoZW4gc3RhdGUgbm9kZSBpcyBjb21wb3VuZCBidXQgbm8gaW5pdGlhbCBzdGF0ZSBpcyBkZWZpbmVkXG5cblxuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2NvbXBvdW5kJyAmJiAhdGhpcy5pbml0aWFsKSB7XG4gICAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICAgIHdhcm4oZmFsc2UsIFwiQ29tcG91bmQgc3RhdGUgbm9kZSAnXCIuY29uY2F0KHRoaXMuaWQsIFwiJyBoYXMgbm8gaW5pdGlhbCBzdGF0ZS5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt0aGlzXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluaXRpYWxTdGF0ZU5vZGVQYXRocyA9IHRvU3RhdGVQYXRocyh0aGlzLmluaXRpYWxTdGF0ZVZhbHVlKTtcbiAgICAgIHJldHVybiBmbGF0dGVuKGluaXRpYWxTdGF0ZU5vZGVQYXRocy5tYXAoZnVuY3Rpb24gKGluaXRpYWxQYXRoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5nZXRGcm9tUmVsYXRpdmVQYXRoKGluaXRpYWxQYXRoKTtcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXHJcbiAgICogUmV0cmlldmVzIHN0YXRlIG5vZGVzIGZyb20gYSByZWxhdGl2ZSBwYXRoIHRvIHRoaXMgc3RhdGUgbm9kZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSByZWxhdGl2ZVBhdGggVGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGlzIHN0YXRlIG5vZGVcclxuICAgKiBAcGFyYW0gaGlzdG9yeVZhbHVlXHJcbiAgICovXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRGcm9tUmVsYXRpdmVQYXRoID0gZnVuY3Rpb24gKHJlbGF0aXZlUGF0aCkge1xuICAgIGlmICghcmVsYXRpdmVQYXRoLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFt0aGlzXTtcbiAgICB9XG5cbiAgICB2YXIgX2EgPSBfX3JlYWQocmVsYXRpdmVQYXRoKSxcbiAgICAgICAgc3RhdGVLZXkgPSBfYVswXSxcbiAgICAgICAgY2hpbGRTdGF0ZVBhdGggPSBfYS5zbGljZSgxKTtcblxuICAgIGlmICghdGhpcy5zdGF0ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXRyaWV2ZSBzdWJQYXRoICdcIi5jb25jYXQoc3RhdGVLZXksIFwiJyBmcm9tIG5vZGUgd2l0aCBubyBzdGF0ZXNcIikpO1xuICAgIH1cblxuICAgIHZhciBjaGlsZFN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlS2V5KTtcblxuICAgIGlmIChjaGlsZFN0YXRlTm9kZS50eXBlID09PSAnaGlzdG9yeScpIHtcbiAgICAgIHJldHVybiBjaGlsZFN0YXRlTm9kZS5yZXNvbHZlSGlzdG9yeSgpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZXNbc3RhdGVLZXldKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGlsZCBzdGF0ZSAnXCIuY29uY2F0KHN0YXRlS2V5LCBcIicgZG9lcyBub3QgZXhpc3Qgb24gJ1wiKS5jb25jYXQodGhpcy5pZCwgXCInXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZXNbc3RhdGVLZXldLmdldEZyb21SZWxhdGl2ZVBhdGgoY2hpbGRTdGF0ZVBhdGgpO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuaGlzdG9yeVZhbHVlID0gZnVuY3Rpb24gKHJlbGF0aXZlU3RhdGVWYWx1ZSkge1xuICAgIGlmICghT2JqZWN0LmtleXModGhpcy5zdGF0ZXMpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudDogcmVsYXRpdmVTdGF0ZVZhbHVlIHx8IHRoaXMuaW5pdGlhbFN0YXRlVmFsdWUsXG4gICAgICBzdGF0ZXM6IG1hcEZpbHRlclZhbHVlcyh0aGlzLnN0YXRlcywgZnVuY3Rpb24gKHN0YXRlTm9kZSwga2V5KSB7XG4gICAgICAgIGlmICghcmVsYXRpdmVTdGF0ZVZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlTm9kZS5oaXN0b3J5VmFsdWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdWJTdGF0ZVZhbHVlID0gaXNTdHJpbmcocmVsYXRpdmVTdGF0ZVZhbHVlKSA/IHVuZGVmaW5lZCA6IHJlbGF0aXZlU3RhdGVWYWx1ZVtrZXldO1xuICAgICAgICByZXR1cm4gc3RhdGVOb2RlLmhpc3RvcnlWYWx1ZShzdWJTdGF0ZVZhbHVlIHx8IHN0YXRlTm9kZS5pbml0aWFsU3RhdGVWYWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbiAoc3RhdGVOb2RlKSB7XG4gICAgICAgIHJldHVybiAhc3RhdGVOb2RlLmhpc3Rvcnk7XG4gICAgICB9KVxuICAgIH07XG4gIH07XG4gIC8qKlxyXG4gICAqIFJlc29sdmVzIHRvIHRoZSBoaXN0b3JpY2FsIHZhbHVlKHMpIG9mIHRoZSBwYXJlbnQgc3RhdGUgbm9kZSxcclxuICAgKiByZXByZXNlbnRlZCBieSBzdGF0ZSBub2Rlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBoaXN0b3J5VmFsdWVcclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUucmVzb2x2ZUhpc3RvcnkgPSBmdW5jdGlvbiAoaGlzdG9yeVZhbHVlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICh0aGlzLnR5cGUgIT09ICdoaXN0b3J5Jykge1xuICAgICAgcmV0dXJuIFt0aGlzXTtcbiAgICB9XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG5cbiAgICBpZiAoIWhpc3RvcnlWYWx1ZSkge1xuICAgICAgdmFyIGhpc3RvcnlUYXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICAgIHJldHVybiBoaXN0b3J5VGFyZ2V0ID8gZmxhdHRlbih0b1N0YXRlUGF0aHMoaGlzdG9yeVRhcmdldCkubWFwKGZ1bmN0aW9uIChyZWxhdGl2ZUNoaWxkUGF0aCkge1xuICAgICAgICByZXR1cm4gcGFyZW50LmdldEZyb21SZWxhdGl2ZVBhdGgocmVsYXRpdmVDaGlsZFBhdGgpO1xuICAgICAgfSkpIDogcGFyZW50LmluaXRpYWxTdGF0ZU5vZGVzO1xuICAgIH1cblxuICAgIHZhciBzdWJIaXN0b3J5VmFsdWUgPSBuZXN0ZWRQYXRoKHBhcmVudC5wYXRoLCAnc3RhdGVzJykoaGlzdG9yeVZhbHVlKS5jdXJyZW50O1xuXG4gICAgaWYgKGlzU3RyaW5nKHN1Ykhpc3RvcnlWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBbcGFyZW50LmdldFN0YXRlTm9kZShzdWJIaXN0b3J5VmFsdWUpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmxhdHRlbih0b1N0YXRlUGF0aHMoc3ViSGlzdG9yeVZhbHVlKS5tYXAoZnVuY3Rpb24gKHN1YlN0YXRlUGF0aCkge1xuICAgICAgcmV0dXJuIF90aGlzLmhpc3RvcnkgPT09ICdkZWVwJyA/IHBhcmVudC5nZXRGcm9tUmVsYXRpdmVQYXRoKHN1YlN0YXRlUGF0aCkgOiBbcGFyZW50LnN0YXRlc1tzdWJTdGF0ZVBhdGhbMF1dXTtcbiAgICB9KSk7XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwic3RhdGVJZHNcIiwge1xuICAgIC8qKlxyXG4gICAgICogQWxsIHRoZSBzdGF0ZSBub2RlIElEcyBvZiB0aGlzIHN0YXRlIG5vZGUgYW5kIGl0cyBkZXNjZW5kYW50IHN0YXRlIG5vZGVzLlxyXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hpbGRTdGF0ZUlkcyA9IGZsYXR0ZW4oT2JqZWN0LmtleXModGhpcy5zdGF0ZXMpLm1hcChmdW5jdGlvbiAoc3RhdGVLZXkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlc1tzdGF0ZUtleV0uc3RhdGVJZHM7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gW3RoaXMuaWRdLmNvbmNhdChjaGlsZFN0YXRlSWRzKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwiZXZlbnRzXCIsIHtcbiAgICAvKipcclxuICAgICAqIEFsbCB0aGUgZXZlbnQgdHlwZXMgYWNjZXB0ZWQgYnkgdGhpcyBzdGF0ZSBub2RlIGFuZCBpdHMgZGVzY2VuZGFudHMuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlXzgsIF9hLCBlXzksIF9iO1xuXG4gICAgICBpZiAodGhpcy5fX2NhY2hlLmV2ZW50cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2NhY2hlLmV2ZW50cztcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXRlcyA9IHRoaXMuc3RhdGVzO1xuICAgICAgdmFyIGV2ZW50cyA9IG5ldyBTZXQodGhpcy5vd25FdmVudHMpO1xuXG4gICAgICBpZiAoc3RhdGVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhzdGF0ZXMpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIHN0YXRlSWQgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHN0YXRlc1tzdGF0ZUlkXTtcblxuICAgICAgICAgICAgaWYgKHN0YXRlLnN0YXRlcykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9lID0gKGVfOSA9IHZvaWQgMCwgX192YWx1ZXMoc3RhdGUuZXZlbnRzKSksIF9mID0gX2UubmV4dCgpOyAhX2YuZG9uZTsgX2YgPSBfZS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudF8xID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgICBldmVudHMuYWRkKFwiXCIuY29uY2F0KGV2ZW50XzEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVfOV8xKSB7XG4gICAgICAgICAgICAgICAgZV85ID0ge1xuICAgICAgICAgICAgICAgICAgZXJyb3I6IGVfOV8xXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYiA9IF9lLnJldHVybikpIF9iLmNhbGwoX2UpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZV85KSB0aHJvdyBlXzkuZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlXzhfMSkge1xuICAgICAgICAgIGVfOCA9IHtcbiAgICAgICAgICAgIGVycm9yOiBlXzhfMVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGVfOCkgdGhyb3cgZV84LmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fX2NhY2hlLmV2ZW50cyA9IEFycmF5LmZyb20oZXZlbnRzKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwib3duRXZlbnRzXCIsIHtcbiAgICAvKipcclxuICAgICAqIEFsbCB0aGUgZXZlbnRzIHRoYXQgaGF2ZSB0cmFuc2l0aW9ucyBkaXJlY3RseSBmcm9tIHRoaXMgc3RhdGUgbm9kZS5cclxuICAgICAqXHJcbiAgICAgKiBFeGNsdWRlcyBhbnkgaW5lcnQgZXZlbnRzLlxyXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZXZlbnRzID0gbmV3IFNldCh0aGlzLnRyYW5zaXRpb25zLmZpbHRlcihmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gISghdHJhbnNpdGlvbi50YXJnZXQgJiYgIXRyYW5zaXRpb24uYWN0aW9ucy5sZW5ndGggJiYgdHJhbnNpdGlvbi5pbnRlcm5hbCk7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb24uZXZlbnRUeXBlO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZXZlbnRzKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnJlc29sdmVUYXJnZXQgPSBmdW5jdGlvbiAoX3RhcmdldCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBhbiB1bmRlZmluZWQgdGFyZ2V0IHNpZ25hbHMgdGhhdCB0aGUgc3RhdGUgbm9kZSBzaG91bGQgbm90IHRyYW5zaXRpb24gZnJvbSB0aGF0IHN0YXRlIHdoZW4gcmVjZWl2aW5nIHRoYXQgZXZlbnRcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90YXJnZXQubWFwKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICghaXNTdHJpbmcodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNJbnRlcm5hbFRhcmdldCA9IHRhcmdldFswXSA9PT0gX3RoaXMuZGVsaW1pdGVyOyAvLyBJZiBpbnRlcm5hbCB0YXJnZXQgaXMgZGVmaW5lZCBvbiBtYWNoaW5lLFxuICAgICAgLy8gZG8gbm90IGluY2x1ZGUgbWFjaGluZSBrZXkgb24gdGFyZ2V0XG5cbiAgICAgIGlmIChpc0ludGVybmFsVGFyZ2V0ICYmICFfdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldFN0YXRlTm9kZUJ5UGF0aCh0YXJnZXQuc2xpY2UoMSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzb2x2ZWRUYXJnZXQgPSBpc0ludGVybmFsVGFyZ2V0ID8gX3RoaXMua2V5ICsgdGFyZ2V0IDogdGFyZ2V0O1xuXG4gICAgICBpZiAoX3RoaXMucGFyZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHRhcmdldFN0YXRlTm9kZSA9IF90aGlzLnBhcmVudC5nZXRTdGF0ZU5vZGVCeVBhdGgocmVzb2x2ZWRUYXJnZXQpO1xuXG4gICAgICAgICAgcmV0dXJuIHRhcmdldFN0YXRlTm9kZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0cmFuc2l0aW9uIGRlZmluaXRpb24gZm9yIHN0YXRlIG5vZGUgJ1wiLmNvbmNhdChfdGhpcy5pZCwgXCInOlxcblwiKS5jb25jYXQoZXJyLm1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldFN0YXRlTm9kZUJ5UGF0aChyZXNvbHZlZFRhcmdldCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5mb3JtYXRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKHRyYW5zaXRpb25Db25maWcpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG5vcm1hbGl6ZWRUYXJnZXQgPSBub3JtYWxpemVUYXJnZXQodHJhbnNpdGlvbkNvbmZpZy50YXJnZXQpO1xuICAgIHZhciBpbnRlcm5hbCA9ICdpbnRlcm5hbCcgaW4gdHJhbnNpdGlvbkNvbmZpZyA/IHRyYW5zaXRpb25Db25maWcuaW50ZXJuYWwgOiBub3JtYWxpemVkVGFyZ2V0ID8gbm9ybWFsaXplZFRhcmdldC5zb21lKGZ1bmN0aW9uIChfdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gaXNTdHJpbmcoX3RhcmdldCkgJiYgX3RhcmdldFswXSA9PT0gX3RoaXMuZGVsaW1pdGVyO1xuICAgIH0pIDogdHJ1ZTtcbiAgICB2YXIgZ3VhcmRzID0gdGhpcy5tYWNoaW5lLm9wdGlvbnMuZ3VhcmRzO1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLnJlc29sdmVUYXJnZXQobm9ybWFsaXplZFRhcmdldCk7XG5cbiAgICB2YXIgdHJhbnNpdGlvbiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0cmFuc2l0aW9uQ29uZmlnKSwge1xuICAgICAgYWN0aW9uczogdG9BY3Rpb25PYmplY3RzKHRvQXJyYXkodHJhbnNpdGlvbkNvbmZpZy5hY3Rpb25zKSksXG4gICAgICBjb25kOiB0b0d1YXJkKHRyYW5zaXRpb25Db25maWcuY29uZCwgZ3VhcmRzKSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgc291cmNlOiB0aGlzLFxuICAgICAgaW50ZXJuYWw6IGludGVybmFsLFxuICAgICAgZXZlbnRUeXBlOiB0cmFuc2l0aW9uQ29uZmlnLmV2ZW50LFxuICAgICAgdG9KU09OOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdHJhbnNpdGlvbiksIHtcbiAgICAgICAgICB0YXJnZXQ6IHRyYW5zaXRpb24udGFyZ2V0ID8gdHJhbnNpdGlvbi50YXJnZXQubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gXCIjXCIuY29uY2F0KHQuaWQpO1xuICAgICAgICAgIH0pIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHNvdXJjZTogXCIjXCIuY29uY2F0KF90aGlzLmlkKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0cmFuc2l0aW9uO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZm9ybWF0VHJhbnNpdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVfMTAsIF9hO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvbkNvbmZpZztcblxuICAgIGlmICghdGhpcy5jb25maWcub24pIHtcbiAgICAgIG9uQ29uZmlnID0gW107XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMuY29uZmlnLm9uKSkge1xuICAgICAgb25Db25maWcgPSB0aGlzLmNvbmZpZy5vbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9iID0gdGhpcy5jb25maWcub24sXG4gICAgICAgICAgX2MgPSBXSUxEQ0FSRCxcbiAgICAgICAgICBfZCA9IF9iW19jXSxcbiAgICAgICAgICB3aWxkY2FyZENvbmZpZ3MgPSBfZCA9PT0gdm9pZCAwID8gW10gOiBfZCxcbiAgICAgICAgICBzdHJpY3RUcmFuc2l0aW9uQ29uZmlnc18xID0gX19yZXN0KF9iLCBbdHlwZW9mIF9jID09PSBcInN5bWJvbFwiID8gX2MgOiBfYyArIFwiXCJdKTtcblxuICAgICAgb25Db25maWcgPSBmbGF0dGVuKE9iamVjdC5rZXlzKHN0cmljdFRyYW5zaXRpb25Db25maWdzXzEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghSVNfUFJPRFVDVElPTiAmJiBrZXkgPT09IE5VTExfRVZFTlQpIHtcbiAgICAgICAgICB3YXJuKGZhbHNlLCBcIkVtcHR5IHN0cmluZyB0cmFuc2l0aW9uIGNvbmZpZ3MgKGUuZy4sIGB7IG9uOiB7ICcnOiAuLi4gfX1gKSBmb3IgdHJhbnNpZW50IHRyYW5zaXRpb25zIGFyZSBkZXByZWNhdGVkLiBTcGVjaWZ5IHRoZSB0cmFuc2l0aW9uIGluIHRoZSBgeyBhbHdheXM6IC4uLiB9YCBwcm9wZXJ0eSBpbnN0ZWFkLiBcIiArIFwiUGxlYXNlIGNoZWNrIHRoZSBgb25gIGNvbmZpZ3VyYXRpb24gZm9yIFxcXCIjXCIuY29uY2F0KF90aGlzLmlkLCBcIlxcXCIuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uQ29uZmlnQXJyYXkgPSB0b1RyYW5zaXRpb25Db25maWdBcnJheShrZXksIHN0cmljdFRyYW5zaXRpb25Db25maWdzXzFba2V5XSk7XG5cbiAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgdmFsaWRhdGVBcnJheWlmaWVkVHJhbnNpdGlvbnMoX3RoaXMsIGtleSwgdHJhbnNpdGlvbkNvbmZpZ0FycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uQ29uZmlnQXJyYXk7XG4gICAgICB9KS5jb25jYXQodG9UcmFuc2l0aW9uQ29uZmlnQXJyYXkoV0lMRENBUkQsIHdpbGRjYXJkQ29uZmlncykpKTtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnRsZXNzQ29uZmlnID0gdGhpcy5jb25maWcuYWx3YXlzID8gdG9UcmFuc2l0aW9uQ29uZmlnQXJyYXkoJycsIHRoaXMuY29uZmlnLmFsd2F5cykgOiBbXTtcbiAgICB2YXIgZG9uZUNvbmZpZyA9IHRoaXMuY29uZmlnLm9uRG9uZSA/IHRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5KFN0cmluZyhkb25lKHRoaXMuaWQpKSwgdGhpcy5jb25maWcub25Eb25lKSA6IFtdO1xuXG4gICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICB3YXJuKCEodGhpcy5jb25maWcub25Eb25lICYmICF0aGlzLnBhcmVudCksIFwiUm9vdCBub2RlcyBjYW5ub3QgaGF2ZSBhbiBcXFwiLm9uRG9uZVxcXCIgdHJhbnNpdGlvbi4gUGxlYXNlIGNoZWNrIHRoZSBjb25maWcgb2YgXFxcIlwiLmNvbmNhdCh0aGlzLmlkLCBcIlxcXCIuXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgaW52b2tlQ29uZmlnID0gZmxhdHRlbih0aGlzLmludm9rZS5tYXAoZnVuY3Rpb24gKGludm9rZURlZikge1xuICAgICAgdmFyIHNldHRsZVRyYW5zaXRpb25zID0gW107XG5cbiAgICAgIGlmIChpbnZva2VEZWYub25Eb25lKSB7XG4gICAgICAgIHNldHRsZVRyYW5zaXRpb25zLnB1c2guYXBwbHkoc2V0dGxlVHJhbnNpdGlvbnMsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZCh0b1RyYW5zaXRpb25Db25maWdBcnJheShTdHJpbmcoZG9uZUludm9rZShpbnZva2VEZWYuaWQpKSwgaW52b2tlRGVmLm9uRG9uZSkpLCBmYWxzZSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW52b2tlRGVmLm9uRXJyb3IpIHtcbiAgICAgICAgc2V0dGxlVHJhbnNpdGlvbnMucHVzaC5hcHBseShzZXR0bGVUcmFuc2l0aW9ucywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5KFN0cmluZyhlcnJvcihpbnZva2VEZWYuaWQpKSwgaW52b2tlRGVmLm9uRXJyb3IpKSwgZmFsc2UpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldHRsZVRyYW5zaXRpb25zO1xuICAgIH0pKTtcbiAgICB2YXIgZGVsYXllZFRyYW5zaXRpb25zID0gdGhpcy5hZnRlcjtcbiAgICB2YXIgZm9ybWF0dGVkVHJhbnNpdGlvbnMgPSBmbGF0dGVuKF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChkb25lQ29uZmlnKSwgZmFsc2UpLCBfX3JlYWQoaW52b2tlQ29uZmlnKSwgZmFsc2UpLCBfX3JlYWQob25Db25maWcpLCBmYWxzZSksIF9fcmVhZChldmVudGxlc3NDb25maWcpLCBmYWxzZSkubWFwKGZ1bmN0aW9uICh0cmFuc2l0aW9uQ29uZmlnKSB7XG4gICAgICByZXR1cm4gdG9BcnJheSh0cmFuc2l0aW9uQ29uZmlnKS5tYXAoZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdFRyYW5zaXRpb24odHJhbnNpdGlvbik7XG4gICAgICB9KTtcbiAgICB9KSk7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgZGVsYXllZFRyYW5zaXRpb25zXzEgPSBfX3ZhbHVlcyhkZWxheWVkVHJhbnNpdGlvbnMpLCBkZWxheWVkVHJhbnNpdGlvbnNfMV8xID0gZGVsYXllZFRyYW5zaXRpb25zXzEubmV4dCgpOyAhZGVsYXllZFRyYW5zaXRpb25zXzFfMS5kb25lOyBkZWxheWVkVHJhbnNpdGlvbnNfMV8xID0gZGVsYXllZFRyYW5zaXRpb25zXzEubmV4dCgpKSB7XG4gICAgICAgIHZhciBkZWxheWVkVHJhbnNpdGlvbiA9IGRlbGF5ZWRUcmFuc2l0aW9uc18xXzEudmFsdWU7XG4gICAgICAgIGZvcm1hdHRlZFRyYW5zaXRpb25zLnB1c2goZGVsYXllZFRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfMTBfMSkge1xuICAgICAgZV8xMCA9IHtcbiAgICAgICAgZXJyb3I6IGVfMTBfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRlbGF5ZWRUcmFuc2l0aW9uc18xXzEgJiYgIWRlbGF5ZWRUcmFuc2l0aW9uc18xXzEuZG9uZSAmJiAoX2EgPSBkZWxheWVkVHJhbnNpdGlvbnNfMS5yZXR1cm4pKSBfYS5jYWxsKGRlbGF5ZWRUcmFuc2l0aW9uc18xKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzEwKSB0aHJvdyBlXzEwLmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXR0ZWRUcmFuc2l0aW9ucztcbiAgfTtcblxuICByZXR1cm4gU3RhdGVOb2RlO1xufSgpO1xuXG5leHBvcnQgeyBTdGF0ZU5vZGUgfTtcbiJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJfX3ZhbHVlcyIsIl9fcmVzdCIsImlzRnVuY3Rpb24iLCJtYXBWYWx1ZXMiLCJpc0FycmF5IiwiZmxhdHRlbiIsInRvQXJyYXkiLCJ0b1N0YXRlVmFsdWUiLCJpc1N0cmluZyIsImdldEV2ZW50VHlwZSIsInRvU0NYTUxFdmVudCIsIm1hdGNoZXNTdGF0ZSIsInBhdGgiLCJldmFsdWF0ZUd1YXJkIiwibWFwQ29udGV4dCIsImlzUmFpc2FibGVBY3Rpb24iLCJwYXRoVG9TdGF0ZVZhbHVlIiwiaXNCdWlsdEluRXZlbnQiLCJwYXJ0aXRpb24iLCJ1cGRhdGVIaXN0b3J5VmFsdWUiLCJ0b1N0YXRlUGF0aCIsIm1hcEZpbHRlclZhbHVlcyIsIndhcm4iLCJ0b1N0YXRlUGF0aHMiLCJuZXN0ZWRQYXRoIiwibm9ybWFsaXplVGFyZ2V0IiwidG9HdWFyZCIsInRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5IiwiaXNNYWNoaW5lIiwiY3JlYXRlSW52b2tlSWQiLCJTdGF0ZSIsInN0YXRlVmFsdWVzRXF1YWwiLCJzdGFydCIsInN0YXJ0JDEiLCJzdG9wIiwic3RvcCQxIiwiaW52b2tlIiwidXBkYXRlIiwibnVsbEV2ZW50IiwiZG9uZSIsInRvQWN0aW9uT2JqZWN0cyIsInJhaXNlIiwicmVzb2x2ZUFjdGlvbnMiLCJkb25lSW52b2tlIiwiZXJyb3IiLCJ0b0FjdGlvbk9iamVjdCIsInRvQWN0aXZpdHlEZWZpbml0aW9uIiwiYWZ0ZXIiLCJzZW5kIiwiY2FuY2VsIiwiaW5pdEV2ZW50IiwiSVNfUFJPRFVDVElPTiIsIlNUQVRFX0RFTElNSVRFUiIsImdldEFsbFN0YXRlTm9kZXMiLCJnZXRDb25maWd1cmF0aW9uIiwiaXNJbkZpbmFsU3RhdGUiLCJnZXRUYWdzRnJvbUNvbmZpZ3VyYXRpb24iLCJoYXMiLCJnZXRDaGlsZHJlbiIsImdldFZhbHVlIiwiaXNMZWFmTm9kZSIsImdldEFsbENoaWxkcmVuIiwiY3JlYXRlSW52b2NhYmxlQWN0b3IiLCJ0b0ludm9rZURlZmluaXRpb24iLCJOVUxMX0VWRU5UIiwiU1RBVEVfSURFTlRJRklFUiIsIldJTERDQVJEIiwiRU1QVFlfT0JKRUNUIiwiaXNTdGF0ZUlkIiwic3RyIiwiY3JlYXRlRGVmYXVsdE9wdGlvbnMiLCJhY3Rpb25zIiwiZ3VhcmRzIiwic2VydmljZXMiLCJhY3Rpdml0aWVzIiwiZGVsYXlzIiwidmFsaWRhdGVBcnJheWlmaWVkVHJhbnNpdGlvbnMiLCJzdGF0ZU5vZGUiLCJldmVudCIsInRyYW5zaXRpb25zIiwiaGFzTm9uTGFzdFVuZ3VhcmRlZFRhcmdldCIsInNsaWNlIiwic29tZSIsInRyYW5zaXRpb24iLCJ0YXJnZXQiLCJldmVudFRleHQiLCJjb25jYXQiLCJpZCIsIlN0YXRlTm9kZSIsImNvbmZpZyIsIm9wdGlvbnMiLCJfY29udGV4dCIsIl9zdGF0ZUluZm8iLCJjb250ZXh0IiwidW5kZWZpbmVkIiwiX3RoaXMiLCJfYSIsIm9yZGVyIiwiX194c3RhdGVub2RlIiwiX19jYWNoZSIsImV2ZW50cyIsInJlbGF0aXZlVmFsdWUiLCJNYXAiLCJpbml0aWFsU3RhdGVWYWx1ZSIsImluaXRpYWxTdGF0ZSIsIm9uIiwiY2FuZGlkYXRlcyIsImRlbGF5ZWRUcmFuc2l0aW9ucyIsImlkTWFwIiwidGFncyIsIk9iamVjdCIsImFzc2lnbiIsInBhcmVudCIsImtleSIsIm1hY2hpbmUiLCJkZWxpbWl0ZXIiLCJqb2luIiwidmVyc2lvbiIsInR5cGUiLCJwYXJhbGxlbCIsInN0YXRlcyIsImtleXMiLCJsZW5ndGgiLCJoaXN0b3J5Iiwic2NoZW1hIiwiZGVzY3JpcHRpb24iLCJpbml0aWFsIiwic3RhdGVDb25maWciLCJkZnMiLCJlXzEiLCJfYiIsIl9jIiwibmV4dCIsImNoaWxkIiwidmFsdWUiLCJlXzFfMSIsInJldHVybiIsImNhbGwiLCJfdHJhbnNpZW50IiwiYWx3YXlzIiwiQXJyYXkiLCJzdHJpY3QiLCJvbkVudHJ5IiwiZW50cnkiLCJtYXAiLCJhY3Rpb24iLCJvbkV4aXQiLCJleGl0IiwibWV0YSIsImRvbmVEYXRhIiwiZGF0YSIsImludm9rZUNvbmZpZyIsImkiLCJpbnZva2VJZCIsInNyYyIsImludm9rZVNvdXJjZSIsImFjdGl2aXR5IiwiYmluZCIsInByb3RvdHlwZSIsIl9pbml0IiwiZm9yRWFjaCIsIndpdGhDb25maWciLCJ3aXRoQ29udGV4dCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInN0YXRlIiwiZGVmaW5pdGlvbiIsInRvSlNPTiIsInJlZHVjZSIsImV2ZW50VHlwZSIsInB1c2giLCJnZXREZWxheWVkVHJhbnNpdGlvbnMiLCJmb3JtYXRUcmFuc2l0aW9ucyIsImdldENhbmRpZGF0ZXMiLCJldmVudE5hbWUiLCJ0cmFuc2llbnQiLCJmaWx0ZXIiLCJzYW1lRXZlbnRUeXBlIiwiYWZ0ZXJDb25maWciLCJtdXRhdGVFbnRyeUV4aXQiLCJkZWxheSIsImRlbGF5UmVmIiwiY29uZmlnVHJhbnNpdGlvbiIsInJlc29sdmVkVHJhbnNpdGlvbiIsInJlc29sdmVkRGVsYXkiLCJpc05hTiIsImRlbGF5ZWRUcmFuc2l0aW9uIiwiZm9ybWF0VHJhbnNpdGlvbiIsImdldFN0YXRlTm9kZXMiLCJzdGF0ZVZhbHVlIiwiZ2V0U3RhdGVOb2RlIiwic3ViU3RhdGVLZXlzIiwic3ViU3RhdGVOb2RlcyIsImFwcGx5Iiwic3ViU3RhdGVLZXkiLCJoYW5kbGVzIiwiaW5jbHVkZXMiLCJyZXNvbHZlU3RhdGUiLCJzdGF0ZUZyb21Db25maWciLCJjcmVhdGUiLCJjb25maWd1cmF0aW9uIiwiZnJvbSIsInJlc29sdmUiLCJ0cmFuc2l0aW9uTGVhZk5vZGUiLCJfZXZlbnQiLCJ0cmFuc2l0aW9uQ29tcG91bmROb2RlIiwiX3RyYW5zaXRpb24iLCJ0cmFuc2l0aW9uUGFyYWxsZWxOb2RlIiwiZV8yIiwidHJhbnNpdGlvbk1hcCIsInN1YlN0YXRlVmFsdWUiLCJzdWJTdGF0ZU5vZGUiLCJlXzJfMSIsInN0YXRlVHJhbnNpdGlvbnMiLCJlbmFibGVkVHJhbnNpdGlvbnMiLCJzdCIsIndpbGxUcmFuc2l0aW9uIiwiZXhpdFNldCIsInQiLCJzb3VyY2UiLCJnZXRUcmFuc2l0aW9uRGF0YSIsImVfMyIsIm5hbWUiLCJuZXh0U3RhdGVOb2RlcyIsInNlbGVjdGVkVHJhbnNpdGlvbiIsImNhbmRpZGF0ZSIsImNvbmQiLCJzdGF0ZUluIiwiaW4iLCJyZXNvbHZlZENvbnRleHQiLCJpc0luU3RhdGUiLCJtYXRjaGVzIiwiZ2V0U3RhdGVOb2RlQnlJZCIsImd1YXJkUGFzc2VkIiwiZXJyIiwiRXJyb3IiLCJtZXNzYWdlIiwiZV8zXzEiLCJhbGxOZXh0U3RhdGVOb2RlcyIsImdldFJlbGF0aXZlU3RhdGVOb2RlcyIsImhpc3RvcnlWYWx1ZSIsImlzSW50ZXJuYWwiLCJpbnRlcm5hbCIsInRhcmdldE5vZGUiLCJnZXRQb3RlbnRpYWxseVJlZW50ZXJpbmdOb2RlcyIsIm5vZGVzIiwibWFya2VyIiwicG9zc2libGVBbmNlc3RvciIsImdldEFjdGlvbnMiLCJyZXNvbHZlZENvbmZpZyIsImlzRG9uZSIsImN1cnJlbnRDb250ZXh0IiwicHJldlN0YXRlIiwicHJlZGljdGFibGVFeGVjIiwiZV80IiwiZV81IiwicHJldkNvbmZpZyIsImVudHJ5U2V0IiwiU2V0Iiwic29ydCIsImEiLCJiIiwiX2QiLCJzbiIsImFkZCIsImVfNF8xIiwicHJldkNvbmZpZ18xIiwicHJldkNvbmZpZ18xXzEiLCJlXzVfMSIsImVudHJ5U3RhdGVzIiwiZXhpdFN0YXRlcyIsImRvbmVFdmVudHMiLCJncmFuZHBhcmVudCIsImV2ZXJ5IiwicGFyZW50Tm9kZSIsImVudHJ5QWN0aW9ucyIsImludm9rZUFjdGlvbnMiLCJleGl0QWN0aW9ucyIsInN0b3BBY3Rpb25zIiwiZXhlYyIsImN1cnJlbnRTdGF0ZSIsInJlc29sdmVkU3RhdGVWYWx1ZSIsImdldFJlc29sdmVkUGF0aCIsInN0YXRlVHJhbnNpdGlvbiIsInJlc29sdmVUcmFuc2l0aW9uIiwicmVzb2x2ZVJhaXNlZFRyYW5zaXRpb24iLCJvcmlnaW5hbEV2ZW50IiwiY3VycmVudEFjdGlvbnMiLCJ1bnNoaWZ0IiwiZV82IiwiZV83IiwicmVzb2x2ZWRDb25maWd1cmF0aW9uIiwiYWN0aW9uQmxvY2tzIiwiYWN0aW9uQmxvY2tzXzEiLCJhY3Rpb25CbG9ja3NfMV8xIiwiYmxvY2siLCJlXzdfMSIsImVfNl8xIiwiX2UiLCJwcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyIsInByZXNlcnZlQWN0aW9uT3JkZXIiLCJyZXNvbHZlZEFjdGlvbnMiLCJ1cGRhdGVkQ29udGV4dCIsIl9mIiwicmFpc2VkRXZlbnRzIiwibm9uUmFpc2VkQWN0aW9ucyIsImNoaWxkcmVuIiwiYWNjIiwibmV4dFN0YXRlIiwiX3Nlc3Npb25pZCIsImRpZFVwZGF0ZUNvbnRleHQiLCJjaGFuZ2VkIiwiaGFzQWx3YXlzVHJhbnNpdGlvbnMiLCJtYXliZU5leHRTdGF0ZSIsInJhaXNlZEV2ZW50Iiwic2hpZnQiLCJzdGF0ZUtleSIsInJlc3VsdCIsInN0YXRlSWQiLCJyZXNvbHZlZFN0YXRlSWQiLCJnZXRTdGF0ZU5vZGVCeVBhdGgiLCJzdGF0ZVBhdGgiLCJlIiwiYXJyYXlTdGF0ZVBhdGgiLCJjdXJyZW50U3RhdGVOb2RlIiwic3RhdGVJZGVudGlmaWVyIiwiZ2V0SW5pdGlhbFN0YXRlIiwiaGlzdG9yeUNvbmZpZyIsInJlbGF0aXZlU3RhdGVJZCIsInJlc29sdmVIaXN0b3J5IiwiaW5pdGlhbFN0YXRlTm9kZXMiLCJpbml0aWFsU3RhdGVOb2RlUGF0aHMiLCJpbml0aWFsUGF0aCIsImdldEZyb21SZWxhdGl2ZVBhdGgiLCJyZWxhdGl2ZVBhdGgiLCJjaGlsZFN0YXRlUGF0aCIsImNoaWxkU3RhdGVOb2RlIiwicmVsYXRpdmVTdGF0ZVZhbHVlIiwiY3VycmVudCIsImhpc3RvcnlUYXJnZXQiLCJyZWxhdGl2ZUNoaWxkUGF0aCIsInN1Ykhpc3RvcnlWYWx1ZSIsInN1YlN0YXRlUGF0aCIsImNoaWxkU3RhdGVJZHMiLCJzdGF0ZUlkcyIsImVfOCIsImVfOSIsIm93bkV2ZW50cyIsImV2ZW50XzEiLCJlXzlfMSIsImVfOF8xIiwicmVzb2x2ZVRhcmdldCIsIl90YXJnZXQiLCJpc0ludGVybmFsVGFyZ2V0IiwicmVzb2x2ZWRUYXJnZXQiLCJ0YXJnZXRTdGF0ZU5vZGUiLCJ0cmFuc2l0aW9uQ29uZmlnIiwibm9ybWFsaXplZFRhcmdldCIsImVfMTAiLCJvbkNvbmZpZyIsIndpbGRjYXJkQ29uZmlncyIsInN0cmljdFRyYW5zaXRpb25Db25maWdzXzEiLCJ0cmFuc2l0aW9uQ29uZmlnQXJyYXkiLCJldmVudGxlc3NDb25maWciLCJkb25lQ29uZmlnIiwib25Eb25lIiwiU3RyaW5nIiwiaW52b2tlRGVmIiwic2V0dGxlVHJhbnNpdGlvbnMiLCJvbkVycm9yIiwiZm9ybWF0dGVkVHJhbnNpdGlvbnMiLCJkZWxheWVkVHJhbnNpdGlvbnNfMSIsImRlbGF5ZWRUcmFuc2l0aW9uc18xXzEiLCJlXzEwXzEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/StateNode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/_virtual/_tslib.js":
/*!***************************************************!*\
  !*** ./node_modules/xstate/es/_virtual/_tslib.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spreadArray: () => (/* binding */ __spreadArray),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ var __assign = function() {\n    __assign = Object.assign || function __assign(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n    var t = {};\n    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\nfunction __values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n}\nfunction __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL192aXJ0dWFsL190c2xpYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7OzhFQWE4RSxHQUU5RSxJQUFJQSxXQUFXO0lBQ1hBLFdBQVdDLE9BQU9DLE1BQU0sSUFBSSxTQUFTRixTQUFTRyxDQUFDO1FBQzNDLElBQUssSUFBSUMsR0FBR0MsSUFBSSxHQUFHQyxJQUFJQyxVQUFVQyxNQUFNLEVBQUVILElBQUlDLEdBQUdELElBQUs7WUFDakRELElBQUlHLFNBQVMsQ0FBQ0YsRUFBRTtZQUNoQixJQUFLLElBQUlJLEtBQUtMLEVBQUcsSUFBSUgsT0FBT1MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssSUFBSU4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNoRjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUVBLFNBQVNPLE9BQU9WLENBQUMsRUFBRVcsQ0FBQztJQUNoQixJQUFJWixJQUFJLENBQUM7SUFDVCxJQUFLLElBQUlNLEtBQUtMLEVBQUcsSUFBSUgsT0FBT1MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssTUFBTU0sRUFBRUMsT0FBTyxDQUFDUCxLQUFLLEdBQzlFTixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO0lBQ2YsSUFBSUwsS0FBSyxRQUFRLE9BQU9ILE9BQU9nQixxQkFBcUIsS0FBSyxZQUNyRCxJQUFLLElBQUlaLElBQUksR0FBR0ksSUFBSVIsT0FBT2dCLHFCQUFxQixDQUFDYixJQUFJQyxJQUFJSSxFQUFFRCxNQUFNLEVBQUVILElBQUs7UUFDcEUsSUFBSVUsRUFBRUMsT0FBTyxDQUFDUCxDQUFDLENBQUNKLEVBQUUsSUFBSSxLQUFLSixPQUFPUyxTQUFTLENBQUNRLG9CQUFvQixDQUFDTixJQUFJLENBQUNSLEdBQUdLLENBQUMsQ0FBQ0osRUFBRSxHQUN6RUYsQ0FBQyxDQUFDTSxDQUFDLENBQUNKLEVBQUUsQ0FBQyxHQUFHRCxDQUFDLENBQUNLLENBQUMsQ0FBQ0osRUFBRSxDQUFDO0lBQ3pCO0lBQ0osT0FBT0Y7QUFDWDtBQUVBLFNBQVNnQixTQUFTQyxDQUFDO0lBQ2YsSUFBSWhCLElBQUksT0FBT2lCLFdBQVcsY0FBY0EsT0FBT0MsUUFBUSxFQUFFQyxJQUFJbkIsS0FBS2dCLENBQUMsQ0FBQ2hCLEVBQUUsRUFBRUMsSUFBSTtJQUM1RSxJQUFJa0IsR0FBRyxPQUFPQSxFQUFFWCxJQUFJLENBQUNRO0lBQ3JCLElBQUlBLEtBQUssT0FBT0EsRUFBRVosTUFBTSxLQUFLLFVBQVUsT0FBTztRQUMxQ2dCLE1BQU07WUFDRixJQUFJSixLQUFLZixLQUFLZSxFQUFFWixNQUFNLEVBQUVZLElBQUksS0FBSztZQUNqQyxPQUFPO2dCQUFFSyxPQUFPTCxLQUFLQSxDQUFDLENBQUNmLElBQUk7Z0JBQUVxQixNQUFNLENBQUNOO1lBQUU7UUFDMUM7SUFDSjtJQUNBLE1BQU0sSUFBSU8sVUFBVXZCLElBQUksNEJBQTRCO0FBQ3hEO0FBRUEsU0FBU3dCLE9BQU9SLENBQUMsRUFBRWQsQ0FBQztJQUNoQixJQUFJaUIsSUFBSSxPQUFPRixXQUFXLGNBQWNELENBQUMsQ0FBQ0MsT0FBT0MsUUFBUSxDQUFDO0lBQzFELElBQUksQ0FBQ0MsR0FBRyxPQUFPSDtJQUNmLElBQUlmLElBQUlrQixFQUFFWCxJQUFJLENBQUNRLElBQUlTLEdBQUdDLEtBQUssRUFBRSxFQUFFZjtJQUMvQixJQUFJO1FBQ0EsTUFBTyxDQUFDVCxNQUFNLEtBQUssS0FBS0EsTUFBTSxNQUFNLENBQUMsQ0FBQ3VCLElBQUl4QixFQUFFbUIsSUFBSSxFQUFDLEVBQUdFLElBQUksQ0FBRUksR0FBR0MsSUFBSSxDQUFDRixFQUFFSixLQUFLO0lBQzdFLEVBQ0EsT0FBT08sT0FBTztRQUFFakIsSUFBSTtZQUFFaUIsT0FBT0E7UUFBTTtJQUFHLFNBQzlCO1FBQ0osSUFBSTtZQUNBLElBQUlILEtBQUssQ0FBQ0EsRUFBRUgsSUFBSSxJQUFLSCxDQUFBQSxJQUFJbEIsQ0FBQyxDQUFDLFNBQVMsR0FBR2tCLEVBQUVYLElBQUksQ0FBQ1A7UUFDbEQsU0FDUTtZQUFFLElBQUlVLEdBQUcsTUFBTUEsRUFBRWlCLEtBQUs7UUFBRTtJQUNwQztJQUNBLE9BQU9GO0FBQ1g7QUFFQSxTQUFTRyxjQUFjQyxFQUFFLEVBQUVDLElBQUksRUFBRUMsSUFBSTtJQUNqQyxJQUFJQSxRQUFRN0IsVUFBVUMsTUFBTSxLQUFLLEdBQUcsSUFBSyxJQUFJSCxJQUFJLEdBQUdnQyxJQUFJRixLQUFLM0IsTUFBTSxFQUFFc0IsSUFBSXpCLElBQUlnQyxHQUFHaEMsSUFBSztRQUNqRixJQUFJeUIsTUFBTSxDQUFFekIsQ0FBQUEsS0FBSzhCLElBQUcsR0FBSTtZQUNwQixJQUFJLENBQUNMLElBQUlBLEtBQUtRLE1BQU01QixTQUFTLENBQUM2QixLQUFLLENBQUMzQixJQUFJLENBQUN1QixNQUFNLEdBQUc5QjtZQUNsRHlCLEVBQUUsQ0FBQ3pCLEVBQUUsR0FBRzhCLElBQUksQ0FBQzlCLEVBQUU7UUFDbkI7SUFDSjtJQUNBLE9BQU82QixHQUFHTSxNQUFNLENBQUNWLE1BQU1RLE1BQU01QixTQUFTLENBQUM2QixLQUFLLENBQUMzQixJQUFJLENBQUN1QjtBQUN0RDtBQUU2RCIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9fdmlydHVhbC9fdHNsaWIuanM/NWU5NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cblxuZXhwb3J0IHsgX19hc3NpZ24sIF9fcmVhZCwgX19yZXN0LCBfX3NwcmVhZEFycmF5LCBfX3ZhbHVlcyB9O1xuIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIl9fcmVzdCIsImUiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX3ZhbHVlcyIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsIm0iLCJuZXh0IiwidmFsdWUiLCJkb25lIiwiVHlwZUVycm9yIiwiX19yZWFkIiwiciIsImFyIiwicHVzaCIsImVycm9yIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJsIiwiQXJyYXkiLCJzbGljZSIsImNvbmNhdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/actionTypes.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/actionTypes.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   after: () => (/* binding */ after),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cancel: () => (/* binding */ cancel),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   doneState: () => (/* binding */ doneState),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   errorExecution: () => (/* binding */ errorExecution),\n/* harmony export */   errorPlatform: () => (/* binding */ errorPlatform),\n/* harmony export */   init: () => (/* binding */ init),\n/* harmony export */   invoke: () => (/* binding */ invoke),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   nullEvent: () => (/* binding */ nullEvent),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   raise: () => (/* binding */ raise),\n/* harmony export */   send: () => (/* binding */ send),\n/* harmony export */   start: () => (/* binding */ start),\n/* harmony export */   stop: () => (/* binding */ stop),\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n\nvar start = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Start;\nvar stop = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Stop;\nvar raise = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Raise;\nvar send = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Send;\nvar cancel = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Cancel;\nvar nullEvent = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.NullEvent;\nvar assign = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Assign;\nvar after = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.After;\nvar doneState = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.DoneState;\nvar log = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Log;\nvar init = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Init;\nvar invoke = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Invoke;\nvar errorExecution = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.ErrorExecution;\nvar errorPlatform = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.ErrorPlatform;\nvar error = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.ErrorCustom;\nvar update = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Update;\nvar choose = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Choose;\nvar pure = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Pure;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2FjdGlvblR5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFFekMsSUFBSUMsUUFBUUQsa0RBQVdBLENBQUNFLEtBQUs7QUFDN0IsSUFBSUMsT0FBT0gsa0RBQVdBLENBQUNJLElBQUk7QUFDM0IsSUFBSUMsUUFBUUwsa0RBQVdBLENBQUNNLEtBQUs7QUFDN0IsSUFBSUMsT0FBT1Asa0RBQVdBLENBQUNRLElBQUk7QUFDM0IsSUFBSUMsU0FBU1Qsa0RBQVdBLENBQUNVLE1BQU07QUFDL0IsSUFBSUMsWUFBWVgsa0RBQVdBLENBQUNZLFNBQVM7QUFDckMsSUFBSUMsU0FBU2Isa0RBQVdBLENBQUNjLE1BQU07QUFDL0IsSUFBSUMsUUFBUWYsa0RBQVdBLENBQUNnQixLQUFLO0FBQzdCLElBQUlDLFlBQVlqQixrREFBV0EsQ0FBQ2tCLFNBQVM7QUFDckMsSUFBSUMsTUFBTW5CLGtEQUFXQSxDQUFDb0IsR0FBRztBQUN6QixJQUFJQyxPQUFPckIsa0RBQVdBLENBQUNzQixJQUFJO0FBQzNCLElBQUlDLFNBQVN2QixrREFBV0EsQ0FBQ3dCLE1BQU07QUFDL0IsSUFBSUMsaUJBQWlCekIsa0RBQVdBLENBQUMwQixjQUFjO0FBQy9DLElBQUlDLGdCQUFnQjNCLGtEQUFXQSxDQUFDNEIsYUFBYTtBQUM3QyxJQUFJQyxRQUFRN0Isa0RBQVdBLENBQUM4QixXQUFXO0FBQ25DLElBQUlDLFNBQVMvQixrREFBV0EsQ0FBQ2dDLE1BQU07QUFDL0IsSUFBSUMsU0FBU2pDLGtEQUFXQSxDQUFDa0MsTUFBTTtBQUMvQixJQUFJQyxPQUFPbkMsa0RBQVdBLENBQUNvQyxJQUFJO0FBRXFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2FjdGlvblR5cGVzLmpzPzhjYjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uVHlwZXMgfSBmcm9tICcuL3R5cGVzLmpzJztcblxudmFyIHN0YXJ0ID0gQWN0aW9uVHlwZXMuU3RhcnQ7XG52YXIgc3RvcCA9IEFjdGlvblR5cGVzLlN0b3A7XG52YXIgcmFpc2UgPSBBY3Rpb25UeXBlcy5SYWlzZTtcbnZhciBzZW5kID0gQWN0aW9uVHlwZXMuU2VuZDtcbnZhciBjYW5jZWwgPSBBY3Rpb25UeXBlcy5DYW5jZWw7XG52YXIgbnVsbEV2ZW50ID0gQWN0aW9uVHlwZXMuTnVsbEV2ZW50O1xudmFyIGFzc2lnbiA9IEFjdGlvblR5cGVzLkFzc2lnbjtcbnZhciBhZnRlciA9IEFjdGlvblR5cGVzLkFmdGVyO1xudmFyIGRvbmVTdGF0ZSA9IEFjdGlvblR5cGVzLkRvbmVTdGF0ZTtcbnZhciBsb2cgPSBBY3Rpb25UeXBlcy5Mb2c7XG52YXIgaW5pdCA9IEFjdGlvblR5cGVzLkluaXQ7XG52YXIgaW52b2tlID0gQWN0aW9uVHlwZXMuSW52b2tlO1xudmFyIGVycm9yRXhlY3V0aW9uID0gQWN0aW9uVHlwZXMuRXJyb3JFeGVjdXRpb247XG52YXIgZXJyb3JQbGF0Zm9ybSA9IEFjdGlvblR5cGVzLkVycm9yUGxhdGZvcm07XG52YXIgZXJyb3IgPSBBY3Rpb25UeXBlcy5FcnJvckN1c3RvbTtcbnZhciB1cGRhdGUgPSBBY3Rpb25UeXBlcy5VcGRhdGU7XG52YXIgY2hvb3NlID0gQWN0aW9uVHlwZXMuQ2hvb3NlO1xudmFyIHB1cmUgPSBBY3Rpb25UeXBlcy5QdXJlO1xuXG5leHBvcnQgeyBhZnRlciwgYXNzaWduLCBjYW5jZWwsIGNob29zZSwgZG9uZVN0YXRlLCBlcnJvciwgZXJyb3JFeGVjdXRpb24sIGVycm9yUGxhdGZvcm0sIGluaXQsIGludm9rZSwgbG9nLCBudWxsRXZlbnQsIHB1cmUsIHJhaXNlLCBzZW5kLCBzdGFydCwgc3RvcCwgdXBkYXRlIH07XG4iXSwibmFtZXMiOlsiQWN0aW9uVHlwZXMiLCJzdGFydCIsIlN0YXJ0Iiwic3RvcCIsIlN0b3AiLCJyYWlzZSIsIlJhaXNlIiwic2VuZCIsIlNlbmQiLCJjYW5jZWwiLCJDYW5jZWwiLCJudWxsRXZlbnQiLCJOdWxsRXZlbnQiLCJhc3NpZ24iLCJBc3NpZ24iLCJhZnRlciIsIkFmdGVyIiwiZG9uZVN0YXRlIiwiRG9uZVN0YXRlIiwibG9nIiwiTG9nIiwiaW5pdCIsIkluaXQiLCJpbnZva2UiLCJJbnZva2UiLCJlcnJvckV4ZWN1dGlvbiIsIkVycm9yRXhlY3V0aW9uIiwiZXJyb3JQbGF0Zm9ybSIsIkVycm9yUGxhdGZvcm0iLCJlcnJvciIsIkVycm9yQ3VzdG9tIiwidXBkYXRlIiwiVXBkYXRlIiwiY2hvb3NlIiwiQ2hvb3NlIiwicHVyZSIsIlB1cmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/actionTypes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/actions.js":
/*!*******************************************!*\
  !*** ./node_modules/xstate/es/actions.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionTypes: () => (/* reexport module object */ _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   after: () => (/* binding */ after),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cancel: () => (/* binding */ cancel),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   done: () => (/* binding */ done),\n/* harmony export */   doneInvoke: () => (/* binding */ doneInvoke),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   escalate: () => (/* binding */ escalate),\n/* harmony export */   forwardTo: () => (/* binding */ forwardTo),\n/* harmony export */   getActionFunction: () => (/* binding */ getActionFunction),\n/* harmony export */   initEvent: () => (/* binding */ initEvent),\n/* harmony export */   isActionObject: () => (/* binding */ isActionObject),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   raise: () => (/* binding */ raise),\n/* harmony export */   resolveActions: () => (/* binding */ resolveActions),\n/* harmony export */   resolveLog: () => (/* binding */ resolveLog),\n/* harmony export */   resolveRaise: () => (/* binding */ resolveRaise),\n/* harmony export */   resolveSend: () => (/* binding */ resolveSend),\n/* harmony export */   resolveStop: () => (/* binding */ resolveStop),\n/* harmony export */   respond: () => (/* binding */ respond),\n/* harmony export */   send: () => (/* binding */ send),\n/* harmony export */   sendParent: () => (/* binding */ sendParent),\n/* harmony export */   sendTo: () => (/* binding */ sendTo),\n/* harmony export */   sendUpdate: () => (/* binding */ sendUpdate),\n/* harmony export */   start: () => (/* binding */ start),\n/* harmony export */   stop: () => (/* binding */ stop),\n/* harmony export */   toActionObject: () => (/* binding */ toActionObject),\n/* harmony export */   toActionObjects: () => (/* binding */ toActionObjects),\n/* harmony export */   toActivityDefinition: () => (/* binding */ toActivityDefinition)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\n\n\n\n\n\nvar initEvent = /*#__PURE__*/ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSCXMLEvent)({\n    type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.init\n});\nfunction getActionFunction(actionType, actionFunctionMap) {\n    return actionFunctionMap ? actionFunctionMap[actionType] || undefined : undefined;\n}\nfunction toActionObject(action, actionFunctionMap) {\n    var actionObject;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action) || typeof action === \"number\") {\n        var exec = getActionFunction(action, actionFunctionMap);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(exec)) {\n            actionObject = {\n                type: action,\n                exec: exec\n            };\n        } else if (exec) {\n            actionObject = exec;\n        } else {\n            actionObject = {\n                type: action,\n                exec: undefined\n            };\n        }\n    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action)) {\n        actionObject = {\n            // Convert action to string if unnamed\n            type: action.name || action.toString(),\n            exec: action\n        };\n    } else {\n        var exec = getActionFunction(action.type, actionFunctionMap);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(exec)) {\n            actionObject = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n                exec: exec\n            });\n        } else if (exec) {\n            var actionType = exec.type || action.type;\n            actionObject = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, exec), action), {\n                type: actionType\n            });\n        } else {\n            actionObject = action;\n        }\n    }\n    return actionObject;\n}\nvar toActionObjects = function(action, actionFunctionMap) {\n    if (!action) {\n        return [];\n    }\n    var actions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(action) ? action : [\n        action\n    ];\n    return actions.map(function(subAction) {\n        return toActionObject(subAction, actionFunctionMap);\n    });\n};\nfunction toActivityDefinition(action) {\n    var actionObject = toActionObject(action);\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({\n        id: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action) ? action : actionObject.id\n    }, actionObject), {\n        type: actionObject.type\n    });\n}\n/**\r\n * Raises an event. This places the event in the internal event queue, so that\r\n * the event is immediately consumed by the machine in the current step.\r\n *\r\n * @param eventType The event to raise.\r\n */ function raise(event, options) {\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.raise,\n        event: typeof event === \"function\" ? event : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toEventObject)(event),\n        delay: options ? options.delay : undefined,\n        id: options === null || options === void 0 ? void 0 : options.id\n    };\n}\nfunction resolveRaise(action, ctx, _event, delaysMap) {\n    var meta = {\n        _event: _event\n    };\n    var resolvedEvent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSCXMLEvent)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n    var resolvedDelay;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action.delay)) {\n        var configDelay = delaysMap && delaysMap[action.delay];\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n    } else {\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n    }\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.raise,\n        _event: resolvedEvent,\n        delay: resolvedDelay\n    });\n}\n/**\r\n * Sends an event. This returns an action that will be read by an interpreter to\r\n * send the event in the next step, after the current step is finished executing.\r\n *\r\n * @deprecated Use the `sendTo(...)` action creator instead.\r\n *\r\n * @param event The event to send.\r\n * @param options Options to pass into the send event:\r\n *  - `id` - The unique send event identifier (used with `cancel()`).\r\n *  - `delay` - The number of milliseconds to delay the sending of the event.\r\n *  - `to` - The target of this event (by default, the machine the event was sent from).\r\n */ function send(event, options) {\n    return {\n        to: options ? options.to : undefined,\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.send,\n        event: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(event) ? event : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toEventObject)(event),\n        delay: options ? options.delay : undefined,\n        // TODO: don't auto-generate IDs here like that\n        // there is too big chance of the ID collision\n        id: options && options.id !== undefined ? options.id : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(event) ? event.name : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getEventType)(event)\n    };\n}\nfunction resolveSend(action, ctx, _event, delaysMap) {\n    var meta = {\n        _event: _event\n    }; // TODO: helper function for resolving Expr\n    var resolvedEvent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSCXMLEvent)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n    var resolvedDelay;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action.delay)) {\n        var configDelay = delaysMap && delaysMap[action.delay];\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n    } else {\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n    }\n    var resolvedTarget = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.to) ? action.to(ctx, _event.data, meta) : action.to;\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n        to: resolvedTarget,\n        _event: resolvedEvent,\n        event: resolvedEvent.data,\n        delay: resolvedDelay\n    });\n}\n/**\r\n * Sends an event to this machine's parent.\r\n *\r\n * @param event The event to send to the parent machine.\r\n * @param options Options to pass into the send event.\r\n */ function sendParent(event, options) {\n    return send(event, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: _types_js__WEBPACK_IMPORTED_MODULE_3__.SpecialTargets.Parent\n    }));\n}\n/**\r\n * Sends an event to an actor.\r\n *\r\n * @param actor The `ActorRef` to send the event to.\r\n * @param event The event to send, or an expression that evaluates to the event to send\r\n * @param options Send action options\r\n * @returns An XState send action object\r\n */ function sendTo(actor, event, options) {\n    return send(event, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: actor\n    }));\n}\n/**\r\n * Sends an update event to this machine's parent.\r\n */ function sendUpdate() {\n    return sendParent(_actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.update);\n}\n/**\r\n * Sends an event back to the sender of the original event.\r\n *\r\n * @param event The event to send back to the sender\r\n * @param options Options to pass into the send event\r\n */ function respond(event, options) {\n    return send(event, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: function(_, __, _a) {\n            var _event = _a._event;\n            return _event.origin; // TODO: handle when _event.origin is undefined\n        }\n    }));\n}\nvar defaultLogExpr = function(context, event) {\n    return {\n        context: context,\n        event: event\n    };\n};\n/**\r\n *\r\n * @param expr The expression function to evaluate which will be logged.\r\n *  Takes in 2 arguments:\r\n *  - `ctx` - the current state context\r\n *  - `event` - the event that caused this action to be executed.\r\n * @param label The label to give to the logged expression.\r\n */ function log(expr, label) {\n    if (expr === void 0) {\n        expr = defaultLogExpr;\n    }\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.log,\n        label: label,\n        expr: expr\n    };\n}\nvar resolveLog = function(action, ctx, _event) {\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n        value: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action.expr) ? action.expr : action.expr(ctx, _event.data, {\n            _event: _event\n        })\n    });\n};\n/**\r\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\r\n * be executed, nor will its event be sent, unless it has already been sent\r\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\r\n *\r\n * @param sendId The `id` of the `send(...)` action to cancel.\r\n */ var cancel = function(sendId) {\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.cancel,\n        sendId: sendId\n    };\n};\n/**\r\n * Starts an activity.\r\n *\r\n * @param activity The activity to start.\r\n */ function start(activity) {\n    var activityDef = toActivityDefinition(activity);\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Start,\n        activity: activityDef,\n        exec: undefined\n    };\n}\n/**\r\n * Stops an activity.\r\n *\r\n * @param actorRef The activity to stop.\r\n */ function stop(actorRef) {\n    var activity = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(actorRef) ? actorRef : toActivityDefinition(actorRef);\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Stop,\n        activity: activity,\n        exec: undefined\n    };\n}\nfunction resolveStop(action, context, _event) {\n    var actorRefOrString = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.activity) ? action.activity(context, _event.data) : action.activity;\n    var resolvedActorRef = typeof actorRefOrString === \"string\" ? {\n        id: actorRefOrString\n    } : actorRefOrString;\n    var actionObject = {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Stop,\n        activity: resolvedActorRef\n    };\n    return actionObject;\n}\n/**\r\n * Updates the current context of the machine.\r\n *\r\n * @param assignment An object that represents the partial context to update.\r\n */ var assign = function(assignment) {\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.assign,\n        assignment: assignment\n    };\n};\nfunction isActionObject(action) {\n    return typeof action === \"object\" && \"type\" in action;\n}\n/**\r\n * Returns an event type that represents an implicit event that\r\n * is sent after the specified `delay`.\r\n *\r\n * @param delayRef The delay in milliseconds\r\n * @param id The state node ID where this event is handled\r\n */ function after(delayRef, id) {\n    var idSuffix = id ? \"#\".concat(id) : \"\";\n    return \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.After, \"(\").concat(delayRef, \")\").concat(idSuffix);\n}\n/**\r\n * Returns an event that represents that a final state node\r\n * has been reached in the parent state node.\r\n *\r\n * @param id The final state node's parent state node `id`\r\n * @param data The data to pass into the event\r\n */ function done(id, data) {\n    var type = \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.DoneState, \".\").concat(id);\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function() {\n        return type;\n    };\n    return eventObject;\n}\n/**\r\n * Returns an event that represents that an invoked service has terminated.\r\n *\r\n * An invoked service is terminated when it has reached a top-level final state node,\r\n * but not when it is canceled.\r\n *\r\n * @param id The final state node ID\r\n * @param data The data to pass into the event\r\n */ function doneInvoke(id, data) {\n    var type = \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.DoneInvoke, \".\").concat(id);\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function() {\n        return type;\n    };\n    return eventObject;\n}\nfunction error(id, data) {\n    var type = \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.ErrorPlatform, \".\").concat(id);\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function() {\n        return type;\n    };\n    return eventObject;\n}\nfunction pure(getActions) {\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Pure,\n        get: getActions\n    };\n}\n/**\r\n * Forwards (sends) an event to a specified service.\r\n *\r\n * @param target The target service to forward the event to.\r\n * @param options Options to pass into the send action creator.\r\n */ function forwardTo(target, options) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_4__.IS_PRODUCTION && (!target || typeof target === \"function\")) {\n        var originalTarget_1 = target;\n        target = function() {\n            var args = [];\n            for(var _i = 0; _i < arguments.length; _i++){\n                args[_i] = arguments[_i];\n            }\n            var resolvedTarget = typeof originalTarget_1 === \"function\" ? originalTarget_1.apply(void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(args), false)) : originalTarget_1;\n            if (!resolvedTarget) {\n                throw new Error(\"Attempted to forward event to undefined actor. This risks an infinite loop in the sender.\");\n            }\n            return resolvedTarget;\n        };\n    }\n    return send(function(_, event) {\n        return event;\n    }, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: target\n    }));\n}\n/**\r\n * Escalates an error by sending it as an event to this machine's parent.\r\n *\r\n * @param errorData The error data to send, or the expression function that\r\n * takes in the `context`, `event`, and `meta`, and returns the error data to send.\r\n * @param options Options to pass into the send action creator.\r\n */ function escalate(errorData, options) {\n    return sendParent(function(context, event, meta) {\n        return {\n            type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.error,\n            data: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(errorData) ? errorData(context, event, meta) : errorData\n        };\n    }, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: _types_js__WEBPACK_IMPORTED_MODULE_3__.SpecialTargets.Parent\n    }));\n}\nfunction choose(conds) {\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Choose,\n        conds: conds\n    };\n}\nvar pluckAssigns = function(actionBlocks) {\n    var e_1, _a;\n    var assignActions = [];\n    try {\n        for(var actionBlocks_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()){\n            var block = actionBlocks_1_1.value;\n            var i = 0;\n            while(i < block.actions.length){\n                if (block.actions[i].type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.assign) {\n                    assignActions.push(block.actions[i]);\n                    block.actions.splice(i, 1);\n                    continue;\n                }\n                i++;\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return assignActions;\n};\nfunction resolveActions(machine, currentState, currentContext, _event, actionBlocks, predictableExec, preserveActionOrder) {\n    if (preserveActionOrder === void 0) {\n        preserveActionOrder = false;\n    }\n    var assignActions = preserveActionOrder ? [] : pluckAssigns(actionBlocks);\n    var updatedContext = assignActions.length ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.updateContext)(currentContext, _event, assignActions, currentState) : currentContext;\n    var preservedContexts = preserveActionOrder ? [\n        currentContext\n    ] : undefined;\n    var deferredToBlockEnd = [];\n    function handleAction(blockType, actionObject) {\n        var _a;\n        switch(actionObject.type){\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.raise:\n                {\n                    var raisedAction = resolveRaise(actionObject, updatedContext, _event, machine.options.delays);\n                    if (predictableExec && typeof raisedAction.delay === \"number\") {\n                        predictableExec(raisedAction, updatedContext, _event);\n                    }\n                    return raisedAction;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.send:\n                var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays); // TODO: fix ActionTypes.Init\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_4__.IS_PRODUCTION) {\n                    var configuredDelay = actionObject.delay; // warn after resolving as we can create better contextual message here\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.warn)(!(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(configuredDelay) || typeof sendAction.delay === \"number\", \"No delay reference for delay expression '\".concat(configuredDelay, \"' was found on machine '\").concat(machine.id, \"'\"));\n                }\n                if (predictableExec && sendAction.to !== _types_js__WEBPACK_IMPORTED_MODULE_3__.SpecialTargets.Internal) {\n                    if (blockType === \"entry\") {\n                        deferredToBlockEnd.push(sendAction);\n                    } else {\n                        predictableExec(sendAction, updatedContext, _event);\n                    }\n                }\n                return sendAction;\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.log:\n                {\n                    var resolved = resolveLog(actionObject, updatedContext, _event);\n                    predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, updatedContext, _event);\n                    return resolved;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.choose:\n                {\n                    var chooseAction = actionObject;\n                    var matchedActions = (_a = chooseAction.conds.find(function(condition) {\n                        var guard = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toGuard)(condition.cond, machine.options.guards);\n                        return !guard || (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.evaluateGuard)(machine, guard, updatedContext, _event, !predictableExec ? currentState : undefined);\n                    })) === null || _a === void 0 ? void 0 : _a.actions;\n                    if (!matchedActions) {\n                        return [];\n                    }\n                    var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolveActions(machine, currentState, updatedContext, _event, [\n                        {\n                            type: blockType,\n                            actions: toActionObjects((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toArray)(matchedActions), machine.options.actions)\n                        }\n                    ], predictableExec, preserveActionOrder), 2), resolvedActionsFromChoose = _b[0], resolvedContextFromChoose = _b[1];\n                    updatedContext = resolvedContextFromChoose;\n                    preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n                    return resolvedActionsFromChoose;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.pure:\n                {\n                    var matchedActions = actionObject.get(updatedContext, _event.data);\n                    if (!matchedActions) {\n                        return [];\n                    }\n                    var _c = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolveActions(machine, currentState, updatedContext, _event, [\n                        {\n                            type: blockType,\n                            actions: toActionObjects((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toArray)(matchedActions), machine.options.actions)\n                        }\n                    ], predictableExec, preserveActionOrder), 2), resolvedActionsFromPure = _c[0], resolvedContext = _c[1];\n                    updatedContext = resolvedContext;\n                    preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n                    return resolvedActionsFromPure;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.stop:\n                {\n                    var resolved = resolveStop(actionObject, updatedContext, _event);\n                    predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, currentContext, _event);\n                    return resolved;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.assign:\n                {\n                    updatedContext = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.updateContext)(updatedContext, _event, [\n                        actionObject\n                    ], !predictableExec ? currentState : undefined);\n                    preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n                    break;\n                }\n            default:\n                var resolvedActionObject = toActionObject(actionObject, machine.options.actions);\n                var exec_1 = resolvedActionObject.exec;\n                if (predictableExec) {\n                    predictableExec(resolvedActionObject, updatedContext, _event);\n                } else if (exec_1 && preservedContexts) {\n                    var contextIndex_1 = preservedContexts.length - 1;\n                    var wrapped = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, resolvedActionObject), {\n                        exec: function(_ctx) {\n                            var args = [];\n                            for(var _i = 1; _i < arguments.length; _i++){\n                                args[_i - 1] = arguments[_i];\n                            }\n                            exec_1.apply(void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([\n                                preservedContexts[contextIndex_1]\n                            ], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(args), false));\n                        }\n                    });\n                    resolvedActionObject = wrapped;\n                }\n                return resolvedActionObject;\n        }\n    }\n    function processBlock(block) {\n        var e_2, _a;\n        var resolvedActions = [];\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(block.actions), _c = _b.next(); !_c.done; _c = _b.next()){\n                var action = _c.value;\n                var resolved = handleAction(block.type, action);\n                if (resolved) {\n                    resolvedActions = resolvedActions.concat(resolved);\n                }\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        deferredToBlockEnd.forEach(function(action) {\n            predictableExec(action, updatedContext, _event);\n        });\n        deferredToBlockEnd.length = 0;\n        return resolvedActions;\n    }\n    var resolvedActions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.flatten)(actionBlocks.map(processBlock));\n    return [\n        resolvedActions,\n        updatedContext\n    ];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2FjdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGO0FBQ3hCO0FBQ3FKO0FBQzlKO0FBQ3pCO0FBQzhJO0FBQ3BIO0FBRWpELElBQUl3QyxZQUFZLFdBQVcsR0FBRWIsdURBQVlBLENBQUM7SUFDeENjLE1BQU1uQyxpREFBSUE7QUFDWjtBQUNBLFNBQVNvQyxrQkFBa0JDLFVBQVUsRUFBRUMsaUJBQWlCO0lBQ3RELE9BQU9BLG9CQUFvQkEsaUJBQWlCLENBQUNELFdBQVcsSUFBSUUsWUFBWUE7QUFDMUU7QUFDQSxTQUFTQyxlQUFlQyxNQUFNLEVBQUVILGlCQUFpQjtJQUMvQyxJQUFJSTtJQUVKLElBQUlwQixtREFBUUEsQ0FBQ21CLFdBQVcsT0FBT0EsV0FBVyxVQUFVO1FBQ2xELElBQUlFLE9BQU9QLGtCQUFrQkssUUFBUUg7UUFFckMsSUFBSWYscURBQVVBLENBQUNvQixPQUFPO1lBQ3BCRCxlQUFlO2dCQUNiUCxNQUFNTTtnQkFDTkUsTUFBTUE7WUFDUjtRQUNGLE9BQU8sSUFBSUEsTUFBTTtZQUNmRCxlQUFlQztRQUNqQixPQUFPO1lBQ0xELGVBQWU7Z0JBQ2JQLE1BQU1NO2dCQUNORSxNQUFNSjtZQUNSO1FBQ0Y7SUFDRixPQUFPLElBQUloQixxREFBVUEsQ0FBQ2tCLFNBQVM7UUFDN0JDLGVBQWU7WUFDYixzQ0FBc0M7WUFDdENQLE1BQU1NLE9BQU9HLElBQUksSUFBSUgsT0FBT0ksUUFBUTtZQUNwQ0YsTUFBTUY7UUFDUjtJQUNGLE9BQU87UUFDTCxJQUFJRSxPQUFPUCxrQkFBa0JLLE9BQU9OLElBQUksRUFBRUc7UUFFMUMsSUFBSWYscURBQVVBLENBQUNvQixPQUFPO1lBQ3BCRCxlQUFlaEQsMkRBQVFBLENBQUNBLDJEQUFRQSxDQUFDLENBQUMsR0FBRytDLFNBQVM7Z0JBQzVDRSxNQUFNQTtZQUNSO1FBQ0YsT0FBTyxJQUFJ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QUN6QixJQUFJMkMsS0FBS2pHO1FBRVQsSUFBSWtHLGtCQUFrQixFQUFFO1FBRXhCLElBQUk7WUFDRixJQUFLLElBQUliLEtBQUtuSywyREFBUUEsQ0FBQ29JLE1BQU1sRixPQUFPLEdBQUdvSCxLQUFLSCxHQUFHaEMsSUFBSSxJQUFJLENBQUNtQyxHQUFHL0QsSUFBSSxFQUFFK0QsS0FBS0gsR0FBR2hDLElBQUksR0FBSTtnQkFDL0UsSUFBSXZGLFNBQVMwSCxHQUFHakYsS0FBSztnQkFDckIsSUFBSXNFLFdBQVdQLGFBQWFoQixNQUFNOUYsSUFBSSxFQUFFTTtnQkFFeEMsSUFBSStHLFVBQVU7b0JBQ1pxQixrQkFBa0JBLGdCQUFnQjNFLE1BQU0sQ0FBQ3NEO2dCQUMzQztZQUNGO1FBQ0YsRUFBRSxPQUFPc0IsT0FBTztZQUNkRixNQUFNO2dCQUNKaEssT0FBT2tLO1lBQ1Q7UUFDRixTQUFVO1lBQ1IsSUFBSTtnQkFDRixJQUFJWCxNQUFNLENBQUNBLEdBQUcvRCxJQUFJLElBQUt6QixDQUFBQSxLQUFLcUYsR0FBRzFCLE1BQU0sR0FBRzNELEdBQUc0RCxJQUFJLENBQUN5QjtZQUNsRCxTQUFVO2dCQUNSLElBQUlZLEtBQUssTUFBTUEsSUFBSWhLLEtBQUs7WUFDMUI7UUFDRjtRQUVBb0ksbUJBQW1CK0IsT0FBTyxDQUFDLFNBQVV0SSxNQUFNO1lBQ3pDbUcsZ0JBQWdCbkcsUUFBUXFHLGdCQUFnQnJGO1FBQzFDO1FBQ0F1RixtQkFBbUI3QixNQUFNLEdBQUc7UUFDNUIsT0FBTzBEO0lBQ1Q7SUFFQSxJQUFJQSxrQkFBa0JsSixrREFBT0EsQ0FBQ2dHLGFBQWEzRSxHQUFHLENBQUMySDtJQUMvQyxPQUFPO1FBQUNFO1FBQWlCL0I7S0FBZTtBQUMxQztBQUU4VSIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9hY3Rpb25zLmpzPzZjOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fc3ByZWFkQXJyYXksIF9fcmVhZCwgX192YWx1ZXMgfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBTcGVjaWFsVGFyZ2V0cywgQWN0aW9uVHlwZXMgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGluaXQsIHJhaXNlIGFzIHJhaXNlJDEsIHNlbmQgYXMgc2VuZCQxLCB1cGRhdGUsIGxvZyBhcyBsb2ckMSwgY2FuY2VsIGFzIGNhbmNlbCQxLCBhc3NpZ24gYXMgYXNzaWduJDEsIGVycm9yIGFzIGVycm9yJDEsIHN0b3AgYXMgc3RvcCQxLCBwdXJlIGFzIHB1cmUkMSwgY2hvb3NlIGFzIGNob29zZSQxIH0gZnJvbSAnLi9hY3Rpb25UeXBlcy5qcyc7XG5pbXBvcnQgKiBhcyBhY3Rpb25UeXBlcyBmcm9tICcuL2FjdGlvblR5cGVzLmpzJztcbmV4cG9ydCB7IGFjdGlvblR5cGVzIH07XG5pbXBvcnQgeyB0b1NDWE1MRXZlbnQsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCB0b0V2ZW50T2JqZWN0LCBnZXRFdmVudFR5cGUsIHVwZGF0ZUNvbnRleHQsIGZsYXR0ZW4sIGlzQXJyYXksIHRvQXJyYXksIHRvR3VhcmQsIGV2YWx1YXRlR3VhcmQsIHdhcm4gfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IElTX1BST0RVQ1RJT04gfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcblxudmFyIGluaXRFdmVudCA9IC8qI19fUFVSRV9fKi90b1NDWE1MRXZlbnQoe1xuICB0eXBlOiBpbml0XG59KTtcbmZ1bmN0aW9uIGdldEFjdGlvbkZ1bmN0aW9uKGFjdGlvblR5cGUsIGFjdGlvbkZ1bmN0aW9uTWFwKSB7XG4gIHJldHVybiBhY3Rpb25GdW5jdGlvbk1hcCA/IGFjdGlvbkZ1bmN0aW9uTWFwW2FjdGlvblR5cGVdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHRvQWN0aW9uT2JqZWN0KGFjdGlvbiwgYWN0aW9uRnVuY3Rpb25NYXApIHtcbiAgdmFyIGFjdGlvbk9iamVjdDtcblxuICBpZiAoaXNTdHJpbmcoYWN0aW9uKSB8fCB0eXBlb2YgYWN0aW9uID09PSAnbnVtYmVyJykge1xuICAgIHZhciBleGVjID0gZ2V0QWN0aW9uRnVuY3Rpb24oYWN0aW9uLCBhY3Rpb25GdW5jdGlvbk1hcCk7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihleGVjKSkge1xuICAgICAgYWN0aW9uT2JqZWN0ID0ge1xuICAgICAgICB0eXBlOiBhY3Rpb24sXG4gICAgICAgIGV4ZWM6IGV4ZWNcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChleGVjKSB7XG4gICAgICBhY3Rpb25PYmplY3QgPSBleGVjO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25PYmplY3QgPSB7XG4gICAgICAgIHR5cGU6IGFjdGlvbixcbiAgICAgICAgZXhlYzogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGFjdGlvbikpIHtcbiAgICBhY3Rpb25PYmplY3QgPSB7XG4gICAgICAvLyBDb252ZXJ0IGFjdGlvbiB0byBzdHJpbmcgaWYgdW5uYW1lZFxuICAgICAgdHlwZTogYWN0aW9uLm5hbWUgfHwgYWN0aW9uLnRvU3RyaW5nKCksXG4gICAgICBleGVjOiBhY3Rpb25cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBleGVjID0gZ2V0QWN0aW9uRnVuY3Rpb24oYWN0aW9uLnR5cGUsIGFjdGlvbkZ1bmN0aW9uTWFwKTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV4ZWMpKSB7XG4gICAgICBhY3Rpb25PYmplY3QgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYWN0aW9uKSwge1xuICAgICAgICBleGVjOiBleGVjXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4ZWMpIHtcbiAgICAgIHZhciBhY3Rpb25UeXBlID0gZXhlYy50eXBlIHx8IGFjdGlvbi50eXBlO1xuICAgICAgYWN0aW9uT2JqZWN0ID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIGV4ZWMpLCBhY3Rpb24pLCB7XG4gICAgICAgIHR5cGU6IGFjdGlvblR5cGVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25PYmplY3QgPSBhY3Rpb247XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFjdGlvbk9iamVjdDtcbn1cbnZhciB0b0FjdGlvbk9iamVjdHMgPSBmdW5jdGlvbiAoYWN0aW9uLCBhY3Rpb25GdW5jdGlvbk1hcCkge1xuICBpZiAoIWFjdGlvbikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBhY3Rpb25zID0gaXNBcnJheShhY3Rpb24pID8gYWN0aW9uIDogW2FjdGlvbl07XG4gIHJldHVybiBhY3Rpb25zLm1hcChmdW5jdGlvbiAoc3ViQWN0aW9uKSB7XG4gICAgcmV0dXJuIHRvQWN0aW9uT2JqZWN0KHN1YkFjdGlvbiwgYWN0aW9uRnVuY3Rpb25NYXApO1xuICB9KTtcbn07XG5mdW5jdGlvbiB0b0FjdGl2aXR5RGVmaW5pdGlvbihhY3Rpb24pIHtcbiAgdmFyIGFjdGlvbk9iamVjdCA9IHRvQWN0aW9uT2JqZWN0KGFjdGlvbik7XG4gIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7XG4gICAgaWQ6IGlzU3RyaW5nKGFjdGlvbikgPyBhY3Rpb24gOiBhY3Rpb25PYmplY3QuaWRcbiAgfSwgYWN0aW9uT2JqZWN0KSwge1xuICAgIHR5cGU6IGFjdGlvbk9iamVjdC50eXBlXG4gIH0pO1xufVxuLyoqXHJcbiAqIFJhaXNlcyBhbiBldmVudC4gVGhpcyBwbGFjZXMgdGhlIGV2ZW50IGluIHRoZSBpbnRlcm5hbCBldmVudCBxdWV1ZSwgc28gdGhhdFxyXG4gKiB0aGUgZXZlbnQgaXMgaW1tZWRpYXRlbHkgY29uc3VtZWQgYnkgdGhlIG1hY2hpbmUgaW4gdGhlIGN1cnJlbnQgc3RlcC5cclxuICpcclxuICogQHBhcmFtIGV2ZW50VHlwZSBUaGUgZXZlbnQgdG8gcmFpc2UuXHJcbiAqL1xuXG5mdW5jdGlvbiByYWlzZShldmVudCwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHJhaXNlJDEsXG4gICAgZXZlbnQ6IHR5cGVvZiBldmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGV2ZW50IDogdG9FdmVudE9iamVjdChldmVudCksXG4gICAgZGVsYXk6IG9wdGlvbnMgPyBvcHRpb25zLmRlbGF5IDogdW5kZWZpbmVkLFxuICAgIGlkOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaWRcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVSYWlzZShhY3Rpb24sIGN0eCwgX2V2ZW50LCBkZWxheXNNYXApIHtcbiAgdmFyIG1ldGEgPSB7XG4gICAgX2V2ZW50OiBfZXZlbnRcbiAgfTtcbiAgdmFyIHJlc29sdmVkRXZlbnQgPSB0b1NDWE1MRXZlbnQoaXNGdW5jdGlvbihhY3Rpb24uZXZlbnQpID8gYWN0aW9uLmV2ZW50KGN0eCwgX2V2ZW50LmRhdGEsIG1ldGEpIDogYWN0aW9uLmV2ZW50KTtcbiAgdmFyIHJlc29sdmVkRGVsYXk7XG5cbiAgaWYgKGlzU3RyaW5nKGFjdGlvbi5kZWxheSkpIHtcbiAgICB2YXIgY29uZmlnRGVsYXkgPSBkZWxheXNNYXAgJiYgZGVsYXlzTWFwW2FjdGlvbi5kZWxheV07XG4gICAgcmVzb2x2ZWREZWxheSA9IGlzRnVuY3Rpb24oY29uZmlnRGVsYXkpID8gY29uZmlnRGVsYXkoY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBjb25maWdEZWxheTtcbiAgfSBlbHNlIHtcbiAgICByZXNvbHZlZERlbGF5ID0gaXNGdW5jdGlvbihhY3Rpb24uZGVsYXkpID8gYWN0aW9uLmRlbGF5KGN0eCwgX2V2ZW50LmRhdGEsIG1ldGEpIDogYWN0aW9uLmRlbGF5O1xuICB9XG5cbiAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY3Rpb24pLCB7XG4gICAgdHlwZTogcmFpc2UkMSxcbiAgICBfZXZlbnQ6IHJlc29sdmVkRXZlbnQsXG4gICAgZGVsYXk6IHJlc29sdmVkRGVsYXlcbiAgfSk7XG59XG4vKipcclxuICogU2VuZHMgYW4gZXZlbnQuIFRoaXMgcmV0dXJucyBhbiBhY3Rpb24gdGhhdCB3aWxsIGJlIHJlYWQgYnkgYW4gaW50ZXJwcmV0ZXIgdG9cclxuICogc2VuZCB0aGUgZXZlbnQgaW4gdGhlIG5leHQgc3RlcCwgYWZ0ZXIgdGhlIGN1cnJlbnQgc3RlcCBpcyBmaW5pc2hlZCBleGVjdXRpbmcuXHJcbiAqXHJcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGUgYHNlbmRUbyguLi4pYCBhY3Rpb24gY3JlYXRvciBpbnN0ZWFkLlxyXG4gKlxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIHNlbmQuXHJcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gcGFzcyBpbnRvIHRoZSBzZW5kIGV2ZW50OlxyXG4gKiAgLSBgaWRgIC0gVGhlIHVuaXF1ZSBzZW5kIGV2ZW50IGlkZW50aWZpZXIgKHVzZWQgd2l0aCBgY2FuY2VsKClgKS5cclxuICogIC0gYGRlbGF5YCAtIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IHRoZSBzZW5kaW5nIG9mIHRoZSBldmVudC5cclxuICogIC0gYHRvYCAtIFRoZSB0YXJnZXQgb2YgdGhpcyBldmVudCAoYnkgZGVmYXVsdCwgdGhlIG1hY2hpbmUgdGhlIGV2ZW50IHdhcyBzZW50IGZyb20pLlxyXG4gKi9cblxuZnVuY3Rpb24gc2VuZChldmVudCwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHRvOiBvcHRpb25zID8gb3B0aW9ucy50byA6IHVuZGVmaW5lZCxcbiAgICB0eXBlOiBzZW5kJDEsXG4gICAgZXZlbnQ6IGlzRnVuY3Rpb24oZXZlbnQpID8gZXZlbnQgOiB0b0V2ZW50T2JqZWN0KGV2ZW50KSxcbiAgICBkZWxheTogb3B0aW9ucyA/IG9wdGlvbnMuZGVsYXkgOiB1bmRlZmluZWQsXG4gICAgLy8gVE9ETzogZG9uJ3QgYXV0by1nZW5lcmF0ZSBJRHMgaGVyZSBsaWtlIHRoYXRcbiAgICAvLyB0aGVyZSBpcyB0b28gYmlnIGNoYW5jZSBvZiB0aGUgSUQgY29sbGlzaW9uXG4gICAgaWQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5pZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pZCA6IGlzRnVuY3Rpb24oZXZlbnQpID8gZXZlbnQubmFtZSA6IGdldEV2ZW50VHlwZShldmVudClcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVTZW5kKGFjdGlvbiwgY3R4LCBfZXZlbnQsIGRlbGF5c01hcCkge1xuICB2YXIgbWV0YSA9IHtcbiAgICBfZXZlbnQ6IF9ldmVudFxuICB9OyAvLyBUT0RPOiBoZWxwZXIgZnVuY3Rpb24gZm9yIHJlc29sdmluZyBFeHByXG5cbiAgdmFyIHJlc29sdmVkRXZlbnQgPSB0b1NDWE1MRXZlbnQoaXNGdW5jdGlvbihhY3Rpb24uZXZlbnQpID8gYWN0aW9uLmV2ZW50KGN0eCwgX2V2ZW50LmRhdGEsIG1ldGEpIDogYWN0aW9uLmV2ZW50KTtcbiAgdmFyIHJlc29sdmVkRGVsYXk7XG5cbiAgaWYgKGlzU3RyaW5nKGFjdGlvbi5kZWxheSkpIHtcbiAgICB2YXIgY29uZmlnRGVsYXkgPSBkZWxheXNNYXAgJiYgZGVsYXlzTWFwW2FjdGlvbi5kZWxheV07XG4gICAgcmVzb2x2ZWREZWxheSA9IGlzRnVuY3Rpb24oY29uZmlnRGVsYXkpID8gY29uZmlnRGVsYXkoY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBjb25maWdEZWxheTtcbiAgfSBlbHNlIHtcbiAgICByZXNvbHZlZERlbGF5ID0gaXNGdW5jdGlvbihhY3Rpb24uZGVsYXkpID8gYWN0aW9uLmRlbGF5KGN0eCwgX2V2ZW50LmRhdGEsIG1ldGEpIDogYWN0aW9uLmRlbGF5O1xuICB9XG5cbiAgdmFyIHJlc29sdmVkVGFyZ2V0ID0gaXNGdW5jdGlvbihhY3Rpb24udG8pID8gYWN0aW9uLnRvKGN0eCwgX2V2ZW50LmRhdGEsIG1ldGEpIDogYWN0aW9uLnRvO1xuICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbiksIHtcbiAgICB0bzogcmVzb2x2ZWRUYXJnZXQsXG4gICAgX2V2ZW50OiByZXNvbHZlZEV2ZW50LFxuICAgIGV2ZW50OiByZXNvbHZlZEV2ZW50LmRhdGEsXG4gICAgZGVsYXk6IHJlc29sdmVkRGVsYXlcbiAgfSk7XG59XG4vKipcclxuICogU2VuZHMgYW4gZXZlbnQgdG8gdGhpcyBtYWNoaW5lJ3MgcGFyZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIHNlbmQgdG8gdGhlIHBhcmVudCBtYWNoaW5lLlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIHBhc3MgaW50byB0aGUgc2VuZCBldmVudC5cclxuICovXG5cbmZ1bmN0aW9uIHNlbmRQYXJlbnQoZXZlbnQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHNlbmQoZXZlbnQsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwge1xuICAgIHRvOiBTcGVjaWFsVGFyZ2V0cy5QYXJlbnRcbiAgfSkpO1xufVxuLyoqXHJcbiAqIFNlbmRzIGFuIGV2ZW50IHRvIGFuIGFjdG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0gYWN0b3IgVGhlIGBBY3RvclJlZmAgdG8gc2VuZCB0aGUgZXZlbnQgdG8uXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gc2VuZCwgb3IgYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byB0aGUgZXZlbnQgdG8gc2VuZFxyXG4gKiBAcGFyYW0gb3B0aW9ucyBTZW5kIGFjdGlvbiBvcHRpb25zXHJcbiAqIEByZXR1cm5zIEFuIFhTdGF0ZSBzZW5kIGFjdGlvbiBvYmplY3RcclxuICovXG5cbmZ1bmN0aW9uIHNlbmRUbyhhY3RvciwgZXZlbnQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHNlbmQoZXZlbnQsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwge1xuICAgIHRvOiBhY3RvclxuICB9KSk7XG59XG4vKipcclxuICogU2VuZHMgYW4gdXBkYXRlIGV2ZW50IHRvIHRoaXMgbWFjaGluZSdzIHBhcmVudC5cclxuICovXG5cbmZ1bmN0aW9uIHNlbmRVcGRhdGUoKSB7XG4gIHJldHVybiBzZW5kUGFyZW50KHVwZGF0ZSk7XG59XG4vKipcclxuICogU2VuZHMgYW4gZXZlbnQgYmFjayB0byB0aGUgc2VuZGVyIG9mIHRoZSBvcmlnaW5hbCBldmVudC5cclxuICpcclxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBzZW5kIGJhY2sgdG8gdGhlIHNlbmRlclxyXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIHBhc3MgaW50byB0aGUgc2VuZCBldmVudFxyXG4gKi9cblxuZnVuY3Rpb24gcmVzcG9uZChldmVudCwgb3B0aW9ucykge1xuICByZXR1cm4gc2VuZChldmVudCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgdG86IGZ1bmN0aW9uIChfLCBfXywgX2EpIHtcbiAgICAgIHZhciBfZXZlbnQgPSBfYS5fZXZlbnQ7XG4gICAgICByZXR1cm4gX2V2ZW50Lm9yaWdpbjsgLy8gVE9ETzogaGFuZGxlIHdoZW4gX2V2ZW50Lm9yaWdpbiBpcyB1bmRlZmluZWRcbiAgICB9XG4gIH0pKTtcbn1cblxudmFyIGRlZmF1bHRMb2dFeHByID0gZnVuY3Rpb24gKGNvbnRleHQsIGV2ZW50KSB7XG4gIHJldHVybiB7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICBldmVudDogZXZlbnRcbiAgfTtcbn07XG4vKipcclxuICpcclxuICogQHBhcmFtIGV4cHIgVGhlIGV4cHJlc3Npb24gZnVuY3Rpb24gdG8gZXZhbHVhdGUgd2hpY2ggd2lsbCBiZSBsb2dnZWQuXHJcbiAqICBUYWtlcyBpbiAyIGFyZ3VtZW50czpcclxuICogIC0gYGN0eGAgLSB0aGUgY3VycmVudCBzdGF0ZSBjb250ZXh0XHJcbiAqICAtIGBldmVudGAgLSB0aGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAqIEBwYXJhbSBsYWJlbCBUaGUgbGFiZWwgdG8gZ2l2ZSB0byB0aGUgbG9nZ2VkIGV4cHJlc3Npb24uXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvZyhleHByLCBsYWJlbCkge1xuICBpZiAoZXhwciA9PT0gdm9pZCAwKSB7XG4gICAgZXhwciA9IGRlZmF1bHRMb2dFeHByO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBsb2ckMSxcbiAgICBsYWJlbDogbGFiZWwsXG4gICAgZXhwcjogZXhwclxuICB9O1xufVxudmFyIHJlc29sdmVMb2cgPSBmdW5jdGlvbiAoYWN0aW9uLCBjdHgsIF9ldmVudCkge1xuICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbiksIHtcbiAgICB2YWx1ZTogaXNTdHJpbmcoYWN0aW9uLmV4cHIpID8gYWN0aW9uLmV4cHIgOiBhY3Rpb24uZXhwcihjdHgsIF9ldmVudC5kYXRhLCB7XG4gICAgICBfZXZlbnQ6IF9ldmVudFxuICAgIH0pXG4gIH0pO1xufTtcbi8qKlxyXG4gKiBDYW5jZWxzIGFuIGluLWZsaWdodCBgc2VuZCguLi4pYCBhY3Rpb24uIEEgY2FuY2VsZWQgc2VudCBhY3Rpb24gd2lsbCBub3RcclxuICogYmUgZXhlY3V0ZWQsIG5vciB3aWxsIGl0cyBldmVudCBiZSBzZW50LCB1bmxlc3MgaXQgaGFzIGFscmVhZHkgYmVlbiBzZW50XHJcbiAqIChlLmcuLCBpZiBgY2FuY2VsKC4uLilgIGlzIGNhbGxlZCBhZnRlciB0aGUgYHNlbmQoLi4uKWAgYWN0aW9uJ3MgYGRlbGF5YCkuXHJcbiAqXHJcbiAqIEBwYXJhbSBzZW5kSWQgVGhlIGBpZGAgb2YgdGhlIGBzZW5kKC4uLilgIGFjdGlvbiB0byBjYW5jZWwuXHJcbiAqL1xuXG52YXIgY2FuY2VsID0gZnVuY3Rpb24gKHNlbmRJZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IGNhbmNlbCQxLFxuICAgIHNlbmRJZDogc2VuZElkXG4gIH07XG59O1xuLyoqXHJcbiAqIFN0YXJ0cyBhbiBhY3Rpdml0eS5cclxuICpcclxuICogQHBhcmFtIGFjdGl2aXR5IFRoZSBhY3Rpdml0eSB0byBzdGFydC5cclxuICovXG5cbmZ1bmN0aW9uIHN0YXJ0KGFjdGl2aXR5KSB7XG4gIHZhciBhY3Rpdml0eURlZiA9IHRvQWN0aXZpdHlEZWZpbml0aW9uKGFjdGl2aXR5KTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5TdGFydCxcbiAgICBhY3Rpdml0eTogYWN0aXZpdHlEZWYsXG4gICAgZXhlYzogdW5kZWZpbmVkXG4gIH07XG59XG4vKipcclxuICogU3RvcHMgYW4gYWN0aXZpdHkuXHJcbiAqXHJcbiAqIEBwYXJhbSBhY3RvclJlZiBUaGUgYWN0aXZpdHkgdG8gc3RvcC5cclxuICovXG5cbmZ1bmN0aW9uIHN0b3AoYWN0b3JSZWYpIHtcbiAgdmFyIGFjdGl2aXR5ID0gaXNGdW5jdGlvbihhY3RvclJlZikgPyBhY3RvclJlZiA6IHRvQWN0aXZpdHlEZWZpbml0aW9uKGFjdG9yUmVmKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5TdG9wLFxuICAgIGFjdGl2aXR5OiBhY3Rpdml0eSxcbiAgICBleGVjOiB1bmRlZmluZWRcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVTdG9wKGFjdGlvbiwgY29udGV4dCwgX2V2ZW50KSB7XG4gIHZhciBhY3RvclJlZk9yU3RyaW5nID0gaXNGdW5jdGlvbihhY3Rpb24uYWN0aXZpdHkpID8gYWN0aW9uLmFjdGl2aXR5KGNvbnRleHQsIF9ldmVudC5kYXRhKSA6IGFjdGlvbi5hY3Rpdml0eTtcbiAgdmFyIHJlc29sdmVkQWN0b3JSZWYgPSB0eXBlb2YgYWN0b3JSZWZPclN0cmluZyA9PT0gJ3N0cmluZycgPyB7XG4gICAgaWQ6IGFjdG9yUmVmT3JTdHJpbmdcbiAgfSA6IGFjdG9yUmVmT3JTdHJpbmc7XG4gIHZhciBhY3Rpb25PYmplY3QgPSB7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuU3RvcCxcbiAgICBhY3Rpdml0eTogcmVzb2x2ZWRBY3RvclJlZlxuICB9O1xuICByZXR1cm4gYWN0aW9uT2JqZWN0O1xufVxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgY29udGV4dCBvZiB0aGUgbWFjaGluZS5cclxuICpcclxuICogQHBhcmFtIGFzc2lnbm1lbnQgQW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgcGFydGlhbCBjb250ZXh0IHRvIHVwZGF0ZS5cclxuICovXG5cbnZhciBhc3NpZ24gPSBmdW5jdGlvbiAoYXNzaWdubWVudCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IGFzc2lnbiQxLFxuICAgIGFzc2lnbm1lbnQ6IGFzc2lnbm1lbnRcbiAgfTtcbn07XG5mdW5jdGlvbiBpc0FjdGlvbk9iamVjdChhY3Rpb24pIHtcbiAgcmV0dXJuIHR5cGVvZiBhY3Rpb24gPT09ICdvYmplY3QnICYmICd0eXBlJyBpbiBhY3Rpb247XG59XG4vKipcclxuICogUmV0dXJucyBhbiBldmVudCB0eXBlIHRoYXQgcmVwcmVzZW50cyBhbiBpbXBsaWNpdCBldmVudCB0aGF0XHJcbiAqIGlzIHNlbnQgYWZ0ZXIgdGhlIHNwZWNpZmllZCBgZGVsYXlgLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGVsYXlSZWYgVGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xyXG4gKiBAcGFyYW0gaWQgVGhlIHN0YXRlIG5vZGUgSUQgd2hlcmUgdGhpcyBldmVudCBpcyBoYW5kbGVkXHJcbiAqL1xuXG5mdW5jdGlvbiBhZnRlcihkZWxheVJlZiwgaWQpIHtcbiAgdmFyIGlkU3VmZml4ID0gaWQgPyBcIiNcIi5jb25jYXQoaWQpIDogJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChBY3Rpb25UeXBlcy5BZnRlciwgXCIoXCIpLmNvbmNhdChkZWxheVJlZiwgXCIpXCIpLmNvbmNhdChpZFN1ZmZpeCk7XG59XG4vKipcclxuICogUmV0dXJucyBhbiBldmVudCB0aGF0IHJlcHJlc2VudHMgdGhhdCBhIGZpbmFsIHN0YXRlIG5vZGVcclxuICogaGFzIGJlZW4gcmVhY2hlZCBpbiB0aGUgcGFyZW50IHN0YXRlIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSBpZCBUaGUgZmluYWwgc3RhdGUgbm9kZSdzIHBhcmVudCBzdGF0ZSBub2RlIGBpZGBcclxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyBpbnRvIHRoZSBldmVudFxyXG4gKi9cblxuZnVuY3Rpb24gZG9uZShpZCwgZGF0YSkge1xuICB2YXIgdHlwZSA9IFwiXCIuY29uY2F0KEFjdGlvblR5cGVzLkRvbmVTdGF0ZSwgXCIuXCIpLmNvbmNhdChpZCk7XG4gIHZhciBldmVudE9iamVjdCA9IHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIGRhdGE6IGRhdGFcbiAgfTtcblxuICBldmVudE9iamVjdC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfTtcblxuICByZXR1cm4gZXZlbnRPYmplY3Q7XG59XG4vKipcclxuICogUmV0dXJucyBhbiBldmVudCB0aGF0IHJlcHJlc2VudHMgdGhhdCBhbiBpbnZva2VkIHNlcnZpY2UgaGFzIHRlcm1pbmF0ZWQuXHJcbiAqXHJcbiAqIEFuIGludm9rZWQgc2VydmljZSBpcyB0ZXJtaW5hdGVkIHdoZW4gaXQgaGFzIHJlYWNoZWQgYSB0b3AtbGV2ZWwgZmluYWwgc3RhdGUgbm9kZSxcclxuICogYnV0IG5vdCB3aGVuIGl0IGlzIGNhbmNlbGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gaWQgVGhlIGZpbmFsIHN0YXRlIG5vZGUgSURcclxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyBpbnRvIHRoZSBldmVudFxyXG4gKi9cblxuZnVuY3Rpb24gZG9uZUludm9rZShpZCwgZGF0YSkge1xuICB2YXIgdHlwZSA9IFwiXCIuY29uY2F0KEFjdGlvblR5cGVzLkRvbmVJbnZva2UsIFwiLlwiKS5jb25jYXQoaWQpO1xuICB2YXIgZXZlbnRPYmplY3QgPSB7XG4gICAgdHlwZTogdHlwZSxcbiAgICBkYXRhOiBkYXRhXG4gIH07XG5cbiAgZXZlbnRPYmplY3QudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH07XG5cbiAgcmV0dXJuIGV2ZW50T2JqZWN0O1xufVxuZnVuY3Rpb24gZXJyb3IoaWQsIGRhdGEpIHtcbiAgdmFyIHR5cGUgPSBcIlwiLmNvbmNhdChBY3Rpb25UeXBlcy5FcnJvclBsYXRmb3JtLCBcIi5cIikuY29uY2F0KGlkKTtcbiAgdmFyIGV2ZW50T2JqZWN0ID0ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgZGF0YTogZGF0YVxuICB9O1xuXG4gIGV2ZW50T2JqZWN0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlO1xuICB9O1xuXG4gIHJldHVybiBldmVudE9iamVjdDtcbn1cbmZ1bmN0aW9uIHB1cmUoZ2V0QWN0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlB1cmUsXG4gICAgZ2V0OiBnZXRBY3Rpb25zXG4gIH07XG59XG4vKipcclxuICogRm9yd2FyZHMgKHNlbmRzKSBhbiBldmVudCB0byBhIHNwZWNpZmllZCBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgc2VydmljZSB0byBmb3J3YXJkIHRoZSBldmVudCB0by5cclxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyB0byBwYXNzIGludG8gdGhlIHNlbmQgYWN0aW9uIGNyZWF0b3IuXHJcbiAqL1xuXG5mdW5jdGlvbiBmb3J3YXJkVG8odGFyZ2V0LCBvcHRpb25zKSB7XG4gIGlmICghSVNfUFJPRFVDVElPTiAmJiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHZhciBvcmlnaW5hbFRhcmdldF8xID0gdGFyZ2V0O1xuXG4gICAgdGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzb2x2ZWRUYXJnZXQgPSB0eXBlb2Ygb3JpZ2luYWxUYXJnZXRfMSA9PT0gJ2Z1bmN0aW9uJyA/IG9yaWdpbmFsVGFyZ2V0XzEuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncyksIGZhbHNlKSkgOiBvcmlnaW5hbFRhcmdldF8xO1xuXG4gICAgICBpZiAoIXJlc29sdmVkVGFyZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBmb3J3YXJkIGV2ZW50IHRvIHVuZGVmaW5lZCBhY3Rvci4gVGhpcyByaXNrcyBhbiBpbmZpbml0ZSBsb29wIGluIHRoZSBzZW5kZXIuXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZWRUYXJnZXQ7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBzZW5kKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgIHJldHVybiBldmVudDtcbiAgfSwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgdG86IHRhcmdldFxuICB9KSk7XG59XG4vKipcclxuICogRXNjYWxhdGVzIGFuIGVycm9yIGJ5IHNlbmRpbmcgaXQgYXMgYW4gZXZlbnQgdG8gdGhpcyBtYWNoaW5lJ3MgcGFyZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0gZXJyb3JEYXRhIFRoZSBlcnJvciBkYXRhIHRvIHNlbmQsIG9yIHRoZSBleHByZXNzaW9uIGZ1bmN0aW9uIHRoYXRcclxuICogdGFrZXMgaW4gdGhlIGBjb250ZXh0YCwgYGV2ZW50YCwgYW5kIGBtZXRhYCwgYW5kIHJldHVybnMgdGhlIGVycm9yIGRhdGEgdG8gc2VuZC5cclxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyB0byBwYXNzIGludG8gdGhlIHNlbmQgYWN0aW9uIGNyZWF0b3IuXHJcbiAqL1xuXG5mdW5jdGlvbiBlc2NhbGF0ZShlcnJvckRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHNlbmRQYXJlbnQoZnVuY3Rpb24gKGNvbnRleHQsIGV2ZW50LCBtZXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGVycm9yJDEsXG4gICAgICBkYXRhOiBpc0Z1bmN0aW9uKGVycm9yRGF0YSkgPyBlcnJvckRhdGEoY29udGV4dCwgZXZlbnQsIG1ldGEpIDogZXJyb3JEYXRhXG4gICAgfTtcbiAgfSwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgdG86IFNwZWNpYWxUYXJnZXRzLlBhcmVudFxuICB9KSk7XG59XG5mdW5jdGlvbiBjaG9vc2UoY29uZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5DaG9vc2UsXG4gICAgY29uZHM6IGNvbmRzXG4gIH07XG59XG5cbnZhciBwbHVja0Fzc2lnbnMgPSBmdW5jdGlvbiAoYWN0aW9uQmxvY2tzKSB7XG4gIHZhciBlXzEsIF9hO1xuXG4gIHZhciBhc3NpZ25BY3Rpb25zID0gW107XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBhY3Rpb25CbG9ja3NfMSA9IF9fdmFsdWVzKGFjdGlvbkJsb2NrcyksIGFjdGlvbkJsb2Nrc18xXzEgPSBhY3Rpb25CbG9ja3NfMS5uZXh0KCk7ICFhY3Rpb25CbG9ja3NfMV8xLmRvbmU7IGFjdGlvbkJsb2Nrc18xXzEgPSBhY3Rpb25CbG9ja3NfMS5uZXh0KCkpIHtcbiAgICAgIHZhciBibG9jayA9IGFjdGlvbkJsb2Nrc18xXzEudmFsdWU7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChpIDwgYmxvY2suYWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGJsb2NrLmFjdGlvbnNbaV0udHlwZSA9PT0gYXNzaWduJDEpIHtcbiAgICAgICAgICBhc3NpZ25BY3Rpb25zLnB1c2goYmxvY2suYWN0aW9uc1tpXSk7XG4gICAgICAgICAgYmxvY2suYWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzFfMSkge1xuICAgIGVfMSA9IHtcbiAgICAgIGVycm9yOiBlXzFfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhY3Rpb25CbG9ja3NfMV8xICYmICFhY3Rpb25CbG9ja3NfMV8xLmRvbmUgJiYgKF9hID0gYWN0aW9uQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChhY3Rpb25CbG9ja3NfMSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXNzaWduQWN0aW9ucztcbn07XG5cbmZ1bmN0aW9uIHJlc29sdmVBY3Rpb25zKG1hY2hpbmUsIGN1cnJlbnRTdGF0ZSwgY3VycmVudENvbnRleHQsIF9ldmVudCwgYWN0aW9uQmxvY2tzLCBwcmVkaWN0YWJsZUV4ZWMsIHByZXNlcnZlQWN0aW9uT3JkZXIpIHtcbiAgaWYgKHByZXNlcnZlQWN0aW9uT3JkZXIgPT09IHZvaWQgMCkge1xuICAgIHByZXNlcnZlQWN0aW9uT3JkZXIgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBhc3NpZ25BY3Rpb25zID0gcHJlc2VydmVBY3Rpb25PcmRlciA/IFtdIDogcGx1Y2tBc3NpZ25zKGFjdGlvbkJsb2Nrcyk7XG4gIHZhciB1cGRhdGVkQ29udGV4dCA9IGFzc2lnbkFjdGlvbnMubGVuZ3RoID8gdXBkYXRlQ29udGV4dChjdXJyZW50Q29udGV4dCwgX2V2ZW50LCBhc3NpZ25BY3Rpb25zLCBjdXJyZW50U3RhdGUpIDogY3VycmVudENvbnRleHQ7XG4gIHZhciBwcmVzZXJ2ZWRDb250ZXh0cyA9IHByZXNlcnZlQWN0aW9uT3JkZXIgPyBbY3VycmVudENvbnRleHRdIDogdW5kZWZpbmVkO1xuICB2YXIgZGVmZXJyZWRUb0Jsb2NrRW5kID0gW107XG5cbiAgZnVuY3Rpb24gaGFuZGxlQWN0aW9uKGJsb2NrVHlwZSwgYWN0aW9uT2JqZWN0KSB7XG4gICAgdmFyIF9hO1xuXG4gICAgc3dpdGNoIChhY3Rpb25PYmplY3QudHlwZSkge1xuICAgICAgY2FzZSByYWlzZSQxOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHJhaXNlZEFjdGlvbiA9IHJlc29sdmVSYWlzZShhY3Rpb25PYmplY3QsIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQsIG1hY2hpbmUub3B0aW9ucy5kZWxheXMpO1xuXG4gICAgICAgICAgaWYgKHByZWRpY3RhYmxlRXhlYyAmJiB0eXBlb2YgcmFpc2VkQWN0aW9uLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcHJlZGljdGFibGVFeGVjKHJhaXNlZEFjdGlvbiwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJhaXNlZEFjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIHNlbmQkMTpcbiAgICAgICAgdmFyIHNlbmRBY3Rpb24gPSByZXNvbHZlU2VuZChhY3Rpb25PYmplY3QsIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQsIG1hY2hpbmUub3B0aW9ucy5kZWxheXMpOyAvLyBUT0RPOiBmaXggQWN0aW9uVHlwZXMuSW5pdFxuXG4gICAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICAgIHZhciBjb25maWd1cmVkRGVsYXkgPSBhY3Rpb25PYmplY3QuZGVsYXk7IC8vIHdhcm4gYWZ0ZXIgcmVzb2x2aW5nIGFzIHdlIGNhbiBjcmVhdGUgYmV0dGVyIGNvbnRleHR1YWwgbWVzc2FnZSBoZXJlXG5cbiAgICAgICAgICB3YXJuKCFpc1N0cmluZyhjb25maWd1cmVkRGVsYXkpIHx8IHR5cGVvZiBzZW5kQWN0aW9uLmRlbGF5ID09PSAnbnVtYmVyJywgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgIFwiTm8gZGVsYXkgcmVmZXJlbmNlIGZvciBkZWxheSBleHByZXNzaW9uICdcIi5jb25jYXQoY29uZmlndXJlZERlbGF5LCBcIicgd2FzIGZvdW5kIG9uIG1hY2hpbmUgJ1wiKS5jb25jYXQobWFjaGluZS5pZCwgXCInXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmVkaWN0YWJsZUV4ZWMgJiYgc2VuZEFjdGlvbi50byAhPT0gU3BlY2lhbFRhcmdldHMuSW50ZXJuYWwpIHtcbiAgICAgICAgICBpZiAoYmxvY2tUeXBlID09PSAnZW50cnknKSB7XG4gICAgICAgICAgICBkZWZlcnJlZFRvQmxvY2tFbmQucHVzaChzZW5kQWN0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJlZGljdGFibGVFeGVjKHNlbmRBY3Rpb24sIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZW5kQWN0aW9uO1xuXG4gICAgICBjYXNlIGxvZyQxOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHJlc29sdmVkID0gcmVzb2x2ZUxvZyhhY3Rpb25PYmplY3QsIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQpO1xuICAgICAgICAgIHByZWRpY3RhYmxlRXhlYyA9PT0gbnVsbCB8fCBwcmVkaWN0YWJsZUV4ZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZWRpY3RhYmxlRXhlYyhyZXNvbHZlZCwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgY2hvb3NlJDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgY2hvb3NlQWN0aW9uID0gYWN0aW9uT2JqZWN0O1xuICAgICAgICAgIHZhciBtYXRjaGVkQWN0aW9ucyA9IChfYSA9IGNob29zZUFjdGlvbi5jb25kcy5maW5kKGZ1bmN0aW9uIChjb25kaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBndWFyZCA9IHRvR3VhcmQoY29uZGl0aW9uLmNvbmQsIG1hY2hpbmUub3B0aW9ucy5ndWFyZHMpO1xuICAgICAgICAgICAgcmV0dXJuICFndWFyZCB8fCBldmFsdWF0ZUd1YXJkKG1hY2hpbmUsIGd1YXJkLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50LCAhcHJlZGljdGFibGVFeGVjID8gY3VycmVudFN0YXRlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICB9KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFjdGlvbnM7XG5cbiAgICAgICAgICBpZiAoIW1hdGNoZWRBY3Rpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9iID0gX19yZWFkKHJlc29sdmVBY3Rpb25zKG1hY2hpbmUsIGN1cnJlbnRTdGF0ZSwgdXBkYXRlZENvbnRleHQsIF9ldmVudCwgW3tcbiAgICAgICAgICAgIHR5cGU6IGJsb2NrVHlwZSxcbiAgICAgICAgICAgIGFjdGlvbnM6IHRvQWN0aW9uT2JqZWN0cyh0b0FycmF5KG1hdGNoZWRBY3Rpb25zKSwgbWFjaGluZS5vcHRpb25zLmFjdGlvbnMpXG4gICAgICAgICAgfV0sIHByZWRpY3RhYmxlRXhlYywgcHJlc2VydmVBY3Rpb25PcmRlciksIDIpLFxuICAgICAgICAgICAgICByZXNvbHZlZEFjdGlvbnNGcm9tQ2hvb3NlID0gX2JbMF0sXG4gICAgICAgICAgICAgIHJlc29sdmVkQ29udGV4dEZyb21DaG9vc2UgPSBfYlsxXTtcblxuICAgICAgICAgIHVwZGF0ZWRDb250ZXh0ID0gcmVzb2x2ZWRDb250ZXh0RnJvbUNob29zZTtcbiAgICAgICAgICBwcmVzZXJ2ZWRDb250ZXh0cyA9PT0gbnVsbCB8fCBwcmVzZXJ2ZWRDb250ZXh0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJlc2VydmVkQ29udGV4dHMucHVzaCh1cGRhdGVkQ29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVkQWN0aW9uc0Zyb21DaG9vc2U7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBwdXJlJDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlZEFjdGlvbnMgPSBhY3Rpb25PYmplY3QuZ2V0KHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQuZGF0YSk7XG5cbiAgICAgICAgICBpZiAoIW1hdGNoZWRBY3Rpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9jID0gX19yZWFkKHJlc29sdmVBY3Rpb25zKG1hY2hpbmUsIGN1cnJlbnRTdGF0ZSwgdXBkYXRlZENvbnRleHQsIF9ldmVudCwgW3tcbiAgICAgICAgICAgIHR5cGU6IGJsb2NrVHlwZSxcbiAgICAgICAgICAgIGFjdGlvbnM6IHRvQWN0aW9uT2JqZWN0cyh0b0FycmF5KG1hdGNoZWRBY3Rpb25zKSwgbWFjaGluZS5vcHRpb25zLmFjdGlvbnMpXG4gICAgICAgICAgfV0sIHByZWRpY3RhYmxlRXhlYywgcHJlc2VydmVBY3Rpb25PcmRlciksIDIpLFxuICAgICAgICAgICAgICByZXNvbHZlZEFjdGlvbnNGcm9tUHVyZSA9IF9jWzBdLFxuICAgICAgICAgICAgICByZXNvbHZlZENvbnRleHQgPSBfY1sxXTtcblxuICAgICAgICAgIHVwZGF0ZWRDb250ZXh0ID0gcmVzb2x2ZWRDb250ZXh0O1xuICAgICAgICAgIHByZXNlcnZlZENvbnRleHRzID09PSBudWxsIHx8IHByZXNlcnZlZENvbnRleHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmVzZXJ2ZWRDb250ZXh0cy5wdXNoKHVwZGF0ZWRDb250ZXh0KTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRBY3Rpb25zRnJvbVB1cmU7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBzdG9wJDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgcmVzb2x2ZWQgPSByZXNvbHZlU3RvcChhY3Rpb25PYmplY3QsIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQpO1xuICAgICAgICAgIHByZWRpY3RhYmxlRXhlYyA9PT0gbnVsbCB8fCBwcmVkaWN0YWJsZUV4ZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZWRpY3RhYmxlRXhlYyhyZXNvbHZlZCwgY3VycmVudENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgYXNzaWduJDE6XG4gICAgICAgIHtcbiAgICAgICAgICB1cGRhdGVkQ29udGV4dCA9IHVwZGF0ZUNvbnRleHQodXBkYXRlZENvbnRleHQsIF9ldmVudCwgW2FjdGlvbk9iamVjdF0sICFwcmVkaWN0YWJsZUV4ZWMgPyBjdXJyZW50U3RhdGUgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIHByZXNlcnZlZENvbnRleHRzID09PSBudWxsIHx8IHByZXNlcnZlZENvbnRleHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmVzZXJ2ZWRDb250ZXh0cy5wdXNoKHVwZGF0ZWRDb250ZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgcmVzb2x2ZWRBY3Rpb25PYmplY3QgPSB0b0FjdGlvbk9iamVjdChhY3Rpb25PYmplY3QsIG1hY2hpbmUub3B0aW9ucy5hY3Rpb25zKTtcbiAgICAgICAgdmFyIGV4ZWNfMSA9IHJlc29sdmVkQWN0aW9uT2JqZWN0LmV4ZWM7XG5cbiAgICAgICAgaWYgKHByZWRpY3RhYmxlRXhlYykge1xuICAgICAgICAgIHByZWRpY3RhYmxlRXhlYyhyZXNvbHZlZEFjdGlvbk9iamVjdCwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXhlY18xICYmIHByZXNlcnZlZENvbnRleHRzKSB7XG4gICAgICAgICAgdmFyIGNvbnRleHRJbmRleF8xID0gcHJlc2VydmVkQ29udGV4dHMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgIHZhciB3cmFwcGVkID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlc29sdmVkQWN0aW9uT2JqZWN0KSwge1xuICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24gKF9jdHgpIHtcbiAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBleGVjXzEuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtwcmVzZXJ2ZWRDb250ZXh0c1tjb250ZXh0SW5kZXhfMV1dLCBfX3JlYWQoYXJncyksIGZhbHNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNvbHZlZEFjdGlvbk9iamVjdCA9IHdyYXBwZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRBY3Rpb25PYmplY3Q7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKGJsb2NrKSB7XG4gICAgdmFyIGVfMiwgX2E7XG5cbiAgICB2YXIgcmVzb2x2ZWRBY3Rpb25zID0gW107XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhibG9jay5hY3Rpb25zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICB2YXIgYWN0aW9uID0gX2MudmFsdWU7XG4gICAgICAgIHZhciByZXNvbHZlZCA9IGhhbmRsZUFjdGlvbihibG9jay50eXBlLCBhY3Rpb24pO1xuXG4gICAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICAgIHJlc29sdmVkQWN0aW9ucyA9IHJlc29sdmVkQWN0aW9ucy5jb25jYXQocmVzb2x2ZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8yXzEpIHtcbiAgICAgIGVfMiA9IHtcbiAgICAgICAgZXJyb3I6IGVfMl8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVmZXJyZWRUb0Jsb2NrRW5kLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgcHJlZGljdGFibGVFeGVjKGFjdGlvbiwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgfSk7XG4gICAgZGVmZXJyZWRUb0Jsb2NrRW5kLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIHJlc29sdmVkQWN0aW9ucztcbiAgfVxuXG4gIHZhciByZXNvbHZlZEFjdGlvbnMgPSBmbGF0dGVuKGFjdGlvbkJsb2Nrcy5tYXAocHJvY2Vzc0Jsb2NrKSk7XG4gIHJldHVybiBbcmVzb2x2ZWRBY3Rpb25zLCB1cGRhdGVkQ29udGV4dF07XG59XG5cbmV4cG9ydCB7IGFmdGVyLCBhc3NpZ24sIGNhbmNlbCwgY2hvb3NlLCBkb25lLCBkb25lSW52b2tlLCBlcnJvciwgZXNjYWxhdGUsIGZvcndhcmRUbywgZ2V0QWN0aW9uRnVuY3Rpb24sIGluaXRFdmVudCwgaXNBY3Rpb25PYmplY3QsIGxvZywgcHVyZSwgcmFpc2UsIHJlc29sdmVBY3Rpb25zLCByZXNvbHZlTG9nLCByZXNvbHZlUmFpc2UsIHJlc29sdmVTZW5kLCByZXNvbHZlU3RvcCwgcmVzcG9uZCwgc2VuZCwgc2VuZFBhcmVudCwgc2VuZFRvLCBzZW5kVXBkYXRlLCBzdGFydCwgc3RvcCwgdG9BY3Rpb25PYmplY3QsIHRvQWN0aW9uT2JqZWN0cywgdG9BY3Rpdml0eURlZmluaXRpb24gfTtcbiJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJfX3ZhbHVlcyIsIlNwZWNpYWxUYXJnZXRzIiwiQWN0aW9uVHlwZXMiLCJpbml0IiwicmFpc2UiLCJyYWlzZSQxIiwic2VuZCIsInNlbmQkMSIsInVwZGF0ZSIsImxvZyIsImxvZyQxIiwiY2FuY2VsIiwiY2FuY2VsJDEiLCJhc3NpZ24iLCJhc3NpZ24kMSIsImVycm9yIiwiZXJyb3IkMSIsInN0b3AiLCJzdG9wJDEiLCJwdXJlIiwicHVyZSQxIiwiY2hvb3NlIiwiY2hvb3NlJDEiLCJhY3Rpb25UeXBlcyIsInRvU0NYTUxFdmVudCIsImlzU3RyaW5nIiwiaXNGdW5jdGlvbiIsInRvRXZlbnRPYmplY3QiLCJnZXRFdmVudFR5cGUiLCJ1cGRhdGVDb250ZXh0IiwiZmxhdHRlbiIsImlzQXJyYXkiLCJ0b0FycmF5IiwidG9HdWFyZCIsImV2YWx1YXRlR3VhcmQiLCJ3YXJuIiwiSVNfUFJPRFVDVElPTiIsImluaXRFdmVudCIsInR5cGUiLCJnZXRBY3Rpb25GdW5jdGlvbiIsImFjdGlvblR5cGUiLCJhY3Rpb25GdW5jdGlvbk1hcCIsInVuZGVmaW5lZCIsInRvQWN0aW9uT2JqZWN0IiwiYWN0aW9uIiwiYWN0aW9uT2JqZWN0IiwiZXhlYyIsIm5hbWUiLCJ0b1N0cmluZyIsInRvQWN0aW9uT2JqZWN0cyIsImFjdGlvbnMiLCJtYXAiLCJzdWJBY3Rpb24iLCJ0b0FjdGl2aXR5RGVmaW5pdGlvbiIsImlkIiwiZXZlbnQiLCJvcHRpb25zIiwiZGVsYXkiLCJyZXNvbHZlUmFpc2UiLCJjdHgiLCJfZXZlbnQiLCJkZWxheXNNYXAiLCJtZXRhIiwicmVzb2x2ZWRFdmVudCIsImRhdGEiLCJyZXNvbHZlZERlbGF5IiwiY29uZmlnRGVsYXkiLCJ0byIsInJlc29sdmVTZW5kIiwicmVzb2x2ZWRUYXJnZXQiLCJzZW5kUGFyZW50IiwiUGFyZW50Iiwic2VuZFRvIiwiYWN0b3IiLCJzZW5kVXBkYXRlIiwicmVzcG9uZCIsIl8iLCJfXyIsIl9hIiwib3JpZ2luIiwiZGVmYXVsdExvZ0V4cHIiLCJjb250ZXh0IiwiZXhwciIsImxhYmVsIiwicmVzb2x2ZUxvZyIsInZhbHVlIiwic2VuZElkIiwic3RhcnQiLCJhY3Rpdml0eSIsImFjdGl2aXR5RGVmIiwiU3RhcnQiLCJhY3RvclJlZiIsIlN0b3AiLCJyZXNvbHZlU3RvcCIsImFjdG9yUmVmT3JTdHJpbmciLCJyZXNvbHZlZEFjdG9yUmVmIiwiYXNzaWdubWVudCIsImlzQWN0aW9uT2JqZWN0IiwiYWZ0ZXIiLCJkZWxheVJlZiIsImlkU3VmZml4IiwiY29uY2F0IiwiQWZ0ZXIiLCJkb25lIiwiRG9uZVN0YXRlIiwiZXZlbnRPYmplY3QiLCJkb25lSW52b2tlIiwiRG9uZUludm9rZSIsIkVycm9yUGxhdGZvcm0iLCJnZXRBY3Rpb25zIiwiUHVyZSIsImdldCIsImZvcndhcmRUbyIsInRhcmdldCIsIm9yaWdpbmFsVGFyZ2V0XzEiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIkVycm9yIiwiZXNjYWxhdGUiLCJlcnJvckRhdGEiLCJjb25kcyIsIkNob29zZSIsInBsdWNrQXNzaWducyIsImFjdGlvbkJsb2NrcyIsImVfMSIsImFzc2lnbkFjdGlvbnMiLCJhY3Rpb25CbG9ja3NfMSIsImFjdGlvbkJsb2Nrc18xXzEiLCJuZXh0IiwiYmxvY2siLCJpIiwicHVzaCIsInNwbGljZSIsImVfMV8xIiwicmV0dXJuIiwiY2FsbCIsInJlc29sdmVBY3Rpb25zIiwibWFjaGluZSIsImN1cnJlbnRTdGF0ZSIsImN1cnJlbnRDb250ZXh0IiwicHJlZGljdGFibGVFeGVjIiwicHJlc2VydmVBY3Rpb25PcmRlciIsInVwZGF0ZWRDb250ZXh0IiwicHJlc2VydmVkQ29udGV4dHMiLCJkZWZlcnJlZFRvQmxvY2tFbmQiLCJoYW5kbGVBY3Rpb24iLCJibG9ja1R5cGUiLCJyYWlzZWRBY3Rpb24iLCJkZWxheXMiLCJzZW5kQWN0aW9uIiwiY29uZmlndXJlZERlbGF5IiwiSW50ZXJuYWwiLCJyZXNvbHZlZCIsImNob29zZUFjdGlvbiIsIm1hdGNoZWRBY3Rpb25zIiwiZmluZCIsImNvbmRpdGlvbiIsImd1YXJkIiwiY29uZCIsImd1YXJkcyIsIl9iIiwicmVzb2x2ZWRBY3Rpb25zRnJvbUNob29zZSIsInJlc29sdmVkQ29udGV4dEZyb21DaG9vc2UiLCJfYyIsInJlc29sdmVkQWN0aW9uc0Zyb21QdXJlIiwicmVzb2x2ZWRDb250ZXh0IiwicmVzb2x2ZWRBY3Rpb25PYmplY3QiLCJleGVjXzEiLCJjb250ZXh0SW5kZXhfMSIsIndyYXBwZWQiLCJfY3R4IiwicHJvY2Vzc0Jsb2NrIiwiZV8yIiwicmVzb2x2ZWRBY3Rpb25zIiwiZV8yXzEiLCJmb3JFYWNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/actions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/behaviors.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/behaviors.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromPromise: () => (/* binding */ fromPromise),\n/* harmony export */   fromReducer: () => (/* binding */ fromReducer),\n/* harmony export */   spawnBehavior: () => (/* binding */ spawnBehavior)\n/* harmony export */ });\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */ function fromReducer(transition, initialState) {\n    return {\n        transition: transition,\n        initialState: initialState\n    };\n}\nfunction fromPromise(promiseFn) {\n    var initialState = {\n        error: undefined,\n        data: undefined,\n        status: \"pending\"\n    };\n    return {\n        transition: function(state, event, _a) {\n            var parent = _a.parent, id = _a.id, observers = _a.observers;\n            switch(event.type){\n                case \"fulfill\":\n                    parent === null || parent === void 0 ? void 0 : parent.send((0,_actions_js__WEBPACK_IMPORTED_MODULE_0__.doneInvoke)(id, event.data));\n                    return {\n                        error: undefined,\n                        data: event.data,\n                        status: \"fulfilled\"\n                    };\n                case \"reject\":\n                    parent === null || parent === void 0 ? void 0 : parent.send((0,_actions_js__WEBPACK_IMPORTED_MODULE_0__.error)(id, event.error));\n                    observers.forEach(function(observer) {\n                        observer.error(event.error);\n                    });\n                    return {\n                        error: event.error,\n                        data: undefined,\n                        status: \"rejected\"\n                    };\n                default:\n                    return state;\n            }\n        },\n        initialState: initialState,\n        start: function(_a) {\n            var self = _a.self;\n            promiseFn().then(function(data) {\n                self.send({\n                    type: \"fulfill\",\n                    data: data\n                });\n            }, function(reason) {\n                self.send({\n                    type: \"reject\",\n                    error: reason\n                });\n            });\n            return initialState;\n        }\n    };\n}\nfunction spawnBehavior(behavior, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var state = behavior.initialState;\n    var observers = new Set();\n    var mailbox = [];\n    var flushing = false;\n    var flush = function() {\n        if (flushing) {\n            return;\n        }\n        flushing = true;\n        while(mailbox.length > 0){\n            var event_1 = mailbox.shift();\n            state = behavior.transition(state, event_1, actorCtx);\n            observers.forEach(function(observer) {\n                return observer.next(state);\n            });\n        }\n        flushing = false;\n    };\n    var actor = (0,_Actor_js__WEBPACK_IMPORTED_MODULE_1__.toActorRef)({\n        id: options.id,\n        send: function(event) {\n            mailbox.push(event);\n            flush();\n        },\n        getSnapshot: function() {\n            return state;\n        },\n        subscribe: function(next, handleError, complete) {\n            var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.toObserver)(next, handleError, complete);\n            observers.add(observer);\n            observer.next(state);\n            return {\n                unsubscribe: function() {\n                    observers.delete(observer);\n                }\n            };\n        }\n    });\n    var actorCtx = {\n        parent: options.parent,\n        self: actor,\n        id: options.id || \"anonymous\",\n        observers: observers\n    };\n    state = behavior.start ? behavior.start(actorCtx) : state;\n    return actor;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2JlaGF2aW9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDVDtBQUNBO0FBRXhDOzs7Ozs7Q0FNQyxHQUVELFNBQVNJLFlBQVlDLFVBQVUsRUFBRUMsWUFBWTtJQUMzQyxPQUFPO1FBQ0xELFlBQVlBO1FBQ1pDLGNBQWNBO0lBQ2hCO0FBQ0Y7QUFDQSxTQUFTQyxZQUFZQyxTQUFTO0lBQzVCLElBQUlGLGVBQWU7UUFDakJOLE9BQU9TO1FBQ1BDLE1BQU1EO1FBQ05FLFFBQVE7SUFDVjtJQUNBLE9BQU87UUFDTE4sWUFBWSxTQUFVTyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsRUFBRTtZQUNwQyxJQUFJQyxTQUFTRCxHQUFHQyxNQUFNLEVBQ2xCQyxLQUFLRixHQUFHRSxFQUFFLEVBQ1ZDLFlBQVlILEdBQUdHLFNBQVM7WUFFNUIsT0FBUUosTUFBTUssSUFBSTtnQkFDaEIsS0FBSztvQkFDSEgsV0FBVyxRQUFRQSxXQUFXLEtBQUssSUFBSSxLQUFLLElBQUlBLE9BQU9JLElBQUksQ0FBQ2xCLHVEQUFVQSxDQUFDZSxJQUFJSCxNQUFNSCxJQUFJO29CQUNyRixPQUFPO3dCQUNMVixPQUFPUzt3QkFDUEMsTUFBTUcsTUFBTUgsSUFBSTt3QkFDaEJDLFFBQVE7b0JBQ1Y7Z0JBRUYsS0FBSztvQkFDSEksV0FBVyxRQUFRQSxXQUFXLEtBQUssSUFBSSxLQUFLLElBQUlBLE9BQU9JLElBQUksQ0FBQ25CLGtEQUFLQSxDQUFDZ0IsSUFBSUgsTUFBTWIsS0FBSztvQkFDakZpQixVQUFVRyxPQUFPLENBQUMsU0FBVUMsUUFBUTt3QkFDbENBLFNBQVNyQixLQUFLLENBQUNhLE1BQU1iLEtBQUs7b0JBQzVCO29CQUNBLE9BQU87d0JBQ0xBLE9BQU9hLE1BQU1iLEtBQUs7d0JBQ2xCVSxNQUFNRDt3QkFDTkUsUUFBUTtvQkFDVjtnQkFFRjtvQkFDRSxPQUFPQztZQUNYO1FBQ0Y7UUFDQU4sY0FBY0E7UUFDZGdCLE9BQU8sU0FBVVIsRUFBRTtZQUNqQixJQUFJUyxPQUFPVCxHQUFHUyxJQUFJO1lBQ2xCZixZQUFZZ0IsSUFBSSxDQUFDLFNBQVVkLElBQUk7Z0JBQzdCYSxLQUFLSixJQUFJLENBQUM7b0JBQ1JELE1BQU07b0JBQ05SLE1BQU1BO2dCQUNSO1lBQ0YsR0FBRyxTQUFVZSxNQUFNO2dCQUNqQkYsS0FBS0osSUFBSSxDQUFDO29CQUNSRCxNQUFNO29CQUNObEIsT0FBT3lCO2dCQUNUO1lBQ0Y7WUFDQSxPQUFPbkI7UUFDVDtJQUNGO0FBQ0Y7QUFDQSxTQUFTb0IsY0FBY0MsUUFBUSxFQUFFQyxPQUFPO0lBQ3RDLElBQUlBLFlBQVksS0FBSyxHQUFHO1FBQ3RCQSxVQUFVLENBQUM7SUFDYjtJQUVBLElBQUloQixRQUFRZSxTQUFTckIsWUFBWTtJQUNqQyxJQUFJVyxZQUFZLElBQUlZO0lBQ3BCLElBQUlDLFVBQVUsRUFBRTtJQUNoQixJQUFJQyxXQUFXO0lBRWYsSUFBSUMsUUFBUTtRQUNWLElBQUlELFVBQVU7WUFDWjtRQUNGO1FBRUFBLFdBQVc7UUFFWCxNQUFPRCxRQUFRRyxNQUFNLEdBQUcsRUFBRztZQUN6QixJQUFJQyxVQUFVSixRQUFRSyxLQUFLO1lBQzNCdkIsUUFBUWUsU0FBU3RCLFVBQVUsQ0FBQ08sT0FBT3NCLFNBQVNFO1lBQzVDbkIsVUFBVUcsT0FBTyxDQUFDLFNBQVVDLFFBQVE7Z0JBQ2xDLE9BQU9BLFNBQVNnQixJQUFJLENBQUN6QjtZQUN2QjtRQUNGO1FBRUFtQixXQUFXO0lBQ2I7SUFFQSxJQUFJTyxRQUFRcEMscURBQVVBLENBQUM7UUFDckJjLElBQUlZLFFBQVFaLEVBQUU7UUFDZEcsTUFBTSxTQUFVTixLQUFLO1lBQ25CaUIsUUFBUVMsSUFBSSxDQUFDMUI7WUFDYm1CO1FBQ0Y7UUFDQVEsYUFBYTtZQUNYLE9BQU81QjtRQUNUO1FBQ0E2QixXQUFXLFNBQVVKLElBQUksRUFBRUssV0FBVyxFQUFFQyxRQUFRO1lBQzlDLElBQUl0QixXQUFXbEIscURBQVVBLENBQUNrQyxNQUFNSyxhQUFhQztZQUM3QzFCLFVBQVUyQixHQUFHLENBQUN2QjtZQUNkQSxTQUFTZ0IsSUFBSSxDQUFDekI7WUFDZCxPQUFPO2dCQUNMaUMsYUFBYTtvQkFDWDVCLFVBQVU2QixNQUFNLENBQUN6QjtnQkFDbkI7WUFDRjtRQUNGO0lBQ0Y7SUFDQSxJQUFJZSxXQUFXO1FBQ2JyQixRQUFRYSxRQUFRYixNQUFNO1FBQ3RCUSxNQUFNZTtRQUNOdEIsSUFBSVksUUFBUVosRUFBRSxJQUFJO1FBQ2xCQyxXQUFXQTtJQUNiO0lBQ0FMLFFBQVFlLFNBQVNMLEtBQUssR0FBR0ssU0FBU0wsS0FBSyxDQUFDYyxZQUFZeEI7SUFDcEQsT0FBTzBCO0FBQ1Q7QUFFbUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvYmVoYXZpb3JzLmpzPzczZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3IsIGRvbmVJbnZva2UgfSBmcm9tICcuL2FjdGlvbnMuanMnO1xuaW1wb3J0IHsgdG9BY3RvclJlZiB9IGZyb20gJy4vQWN0b3IuanMnO1xuaW1wb3J0IHsgdG9PYnNlcnZlciB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vKipcclxuICogUmV0dXJucyBhbiBhY3RvciBiZWhhdmlvciBmcm9tIGEgcmVkdWNlciBhbmQgaXRzIGluaXRpYWwgc3RhdGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB0cmFuc2l0aW9uIFRoZSBwdXJlIHJlZHVjZXIgdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIGdpdmVuIHRoZSBjdXJyZW50IHN0YXRlIGFuZCBldmVudC5cclxuICogQHBhcmFtIGluaXRpYWxTdGF0ZSBUaGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgcmVkdWNlci5cclxuICogQHJldHVybnMgQW4gYWN0b3IgYmVoYXZpb3JcclxuICovXG5cbmZ1bmN0aW9uIGZyb21SZWR1Y2VyKHRyYW5zaXRpb24sIGluaXRpYWxTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgaW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGZyb21Qcm9taXNlKHByb21pc2VGbikge1xuICB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgZGF0YTogdW5kZWZpbmVkLFxuICAgIHN0YXR1czogJ3BlbmRpbmcnXG4gIH07XG4gIHJldHVybiB7XG4gICAgdHJhbnNpdGlvbjogZnVuY3Rpb24gKHN0YXRlLCBldmVudCwgX2EpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBfYS5wYXJlbnQsXG4gICAgICAgICAgaWQgPSBfYS5pZCxcbiAgICAgICAgICBvYnNlcnZlcnMgPSBfYS5vYnNlcnZlcnM7XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICdmdWxmaWxsJzpcbiAgICAgICAgICBwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuc2VuZChkb25lSW52b2tlKGlkLCBldmVudC5kYXRhKSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBldmVudC5kYXRhLFxuICAgICAgICAgICAgc3RhdHVzOiAnZnVsZmlsbGVkJ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAncmVqZWN0JzpcbiAgICAgICAgICBwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuc2VuZChlcnJvcihpZCwgZXZlbnQuZXJyb3IpKTtcbiAgICAgICAgICBvYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGV2ZW50LmVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3I6IGV2ZW50LmVycm9yLFxuICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3RhdHVzOiAncmVqZWN0ZWQnXG4gICAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGluaXRpYWxTdGF0ZTogaW5pdGlhbFN0YXRlLFxuICAgIHN0YXJ0OiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgIHZhciBzZWxmID0gX2Euc2VsZjtcbiAgICAgIHByb21pc2VGbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgc2VsZi5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAnZnVsZmlsbCcsXG4gICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgc2VsZi5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAncmVqZWN0JyxcbiAgICAgICAgICBlcnJvcjogcmVhc29uXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHNwYXduQmVoYXZpb3IoYmVoYXZpb3IsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBzdGF0ZSA9IGJlaGF2aW9yLmluaXRpYWxTdGF0ZTtcbiAgdmFyIG9ic2VydmVycyA9IG5ldyBTZXQoKTtcbiAgdmFyIG1haWxib3ggPSBbXTtcbiAgdmFyIGZsdXNoaW5nID0gZmFsc2U7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChmbHVzaGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZsdXNoaW5nID0gdHJ1ZTtcblxuICAgIHdoaWxlIChtYWlsYm94Lmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBldmVudF8xID0gbWFpbGJveC5zaGlmdCgpO1xuICAgICAgc3RhdGUgPSBiZWhhdmlvci50cmFuc2l0aW9uKHN0YXRlLCBldmVudF8xLCBhY3RvckN0eCk7XG4gICAgICBvYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLm5leHQoc3RhdGUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmx1c2hpbmcgPSBmYWxzZTtcbiAgfTtcblxuICB2YXIgYWN0b3IgPSB0b0FjdG9yUmVmKHtcbiAgICBpZDogb3B0aW9ucy5pZCxcbiAgICBzZW5kOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIG1haWxib3gucHVzaChldmVudCk7XG4gICAgICBmbHVzaCgpO1xuICAgIH0sXG4gICAgZ2V0U25hcHNob3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKG5leHQsIGhhbmRsZUVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgdmFyIG9ic2VydmVyID0gdG9PYnNlcnZlcihuZXh0LCBoYW5kbGVFcnJvciwgY29tcGxldGUpO1xuICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcik7XG4gICAgICBvYnNlcnZlci5uZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLmRlbGV0ZShvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgdmFyIGFjdG9yQ3R4ID0ge1xuICAgIHBhcmVudDogb3B0aW9ucy5wYXJlbnQsXG4gICAgc2VsZjogYWN0b3IsXG4gICAgaWQ6IG9wdGlvbnMuaWQgfHwgJ2Fub255bW91cycsXG4gICAgb2JzZXJ2ZXJzOiBvYnNlcnZlcnNcbiAgfTtcbiAgc3RhdGUgPSBiZWhhdmlvci5zdGFydCA/IGJlaGF2aW9yLnN0YXJ0KGFjdG9yQ3R4KSA6IHN0YXRlO1xuICByZXR1cm4gYWN0b3I7XG59XG5cbmV4cG9ydCB7IGZyb21Qcm9taXNlLCBmcm9tUmVkdWNlciwgc3Bhd25CZWhhdmlvciB9O1xuIl0sIm5hbWVzIjpbImVycm9yIiwiZG9uZUludm9rZSIsInRvQWN0b3JSZWYiLCJ0b09ic2VydmVyIiwiZnJvbVJlZHVjZXIiLCJ0cmFuc2l0aW9uIiwiaW5pdGlhbFN0YXRlIiwiZnJvbVByb21pc2UiLCJwcm9taXNlRm4iLCJ1bmRlZmluZWQiLCJkYXRhIiwic3RhdHVzIiwic3RhdGUiLCJldmVudCIsIl9hIiwicGFyZW50IiwiaWQiLCJvYnNlcnZlcnMiLCJ0eXBlIiwic2VuZCIsImZvckVhY2giLCJvYnNlcnZlciIsInN0YXJ0Iiwic2VsZiIsInRoZW4iLCJyZWFzb24iLCJzcGF3bkJlaGF2aW9yIiwiYmVoYXZpb3IiLCJvcHRpb25zIiwiU2V0IiwibWFpbGJveCIsImZsdXNoaW5nIiwiZmx1c2giLCJsZW5ndGgiLCJldmVudF8xIiwic2hpZnQiLCJhY3RvckN0eCIsIm5leHQiLCJhY3RvciIsInB1c2giLCJnZXRTbmFwc2hvdCIsInN1YnNjcmliZSIsImhhbmRsZUVycm9yIiwiY29tcGxldGUiLCJhZGQiLCJ1bnN1YnNjcmliZSIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/behaviors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/constants.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/constants.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_GUARD_TYPE: () => (/* binding */ DEFAULT_GUARD_TYPE),\n/* harmony export */   EMPTY_ACTIVITY_MAP: () => (/* binding */ EMPTY_ACTIVITY_MAP),\n/* harmony export */   STATE_DELIMITER: () => (/* binding */ STATE_DELIMITER),\n/* harmony export */   TARGETLESS_KEY: () => (/* binding */ TARGETLESS_KEY)\n/* harmony export */ });\nvar STATE_DELIMITER = \".\";\nvar EMPTY_ACTIVITY_MAP = {};\nvar DEFAULT_GUARD_TYPE = \"xstate.guard\";\nvar TARGETLESS_KEY = \"\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBSUEsa0JBQWtCO0FBQ3RCLElBQUlDLHFCQUFxQixDQUFDO0FBQzFCLElBQUlDLHFCQUFxQjtBQUN6QixJQUFJQyxpQkFBaUI7QUFFOEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvY29uc3RhbnRzLmpzP2UyOTQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFNUQVRFX0RFTElNSVRFUiA9ICcuJztcbnZhciBFTVBUWV9BQ1RJVklUWV9NQVAgPSB7fTtcbnZhciBERUZBVUxUX0dVQVJEX1RZUEUgPSAneHN0YXRlLmd1YXJkJztcbnZhciBUQVJHRVRMRVNTX0tFWSA9ICcnO1xuXG5leHBvcnQgeyBERUZBVUxUX0dVQVJEX1RZUEUsIEVNUFRZX0FDVElWSVRZX01BUCwgU1RBVEVfREVMSU1JVEVSLCBUQVJHRVRMRVNTX0tFWSB9O1xuIl0sIm5hbWVzIjpbIlNUQVRFX0RFTElNSVRFUiIsIkVNUFRZX0FDVElWSVRZX01BUCIsIkRFRkFVTFRfR1VBUkRfVFlQRSIsIlRBUkdFVExFU1NfS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/devTools.js":
/*!********************************************!*\
  !*** ./node_modules/xstate/es/devTools.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGlobal: () => (/* binding */ getGlobal),\n/* harmony export */   registerService: () => (/* binding */ registerService)\n/* harmony export */ });\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\nfunction getGlobal() {\n    if (typeof globalThis !== \"undefined\") {\n        return globalThis;\n    }\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    if (false) {}\n    if (typeof global !== \"undefined\") {\n        return global;\n    }\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_0__.IS_PRODUCTION) {\n        console.warn(\"XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues\");\n    }\n}\nfunction getDevTools() {\n    var global1 = getGlobal();\n    if (global1 && \"__xstate__\" in global1) {\n        return global1.__xstate__;\n    }\n    return undefined;\n}\nfunction registerService(service) {\n    if (!getGlobal()) {\n        return;\n    }\n    var devTools = getDevTools();\n    if (devTools) {\n        devTools.register(service);\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2RldlRvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUVqRCxTQUFTQztJQUNQLElBQUksT0FBT0MsZUFBZSxhQUFhO1FBQ3JDLE9BQU9BO0lBQ1Q7SUFFQSxJQUFJLE9BQU9DLFNBQVMsYUFBYTtRQUMvQixPQUFPQTtJQUNUO0lBRUEsSUFBSSxLQUFrQixFQUFhLEVBRWxDO0lBRUQsSUFBSSxPQUFPRSxXQUFXLGFBQWE7UUFDakMsT0FBT0E7SUFDVDtJQUVBLElBQUksQ0FBQ0wsMERBQWFBLEVBQUU7UUFDbEJNLFFBQVFDLElBQUksQ0FBQztJQUNmO0FBQ0Y7QUFFQSxTQUFTQztJQUNQLElBQUlILFVBQVNKO0lBRWIsSUFBSUksV0FBVSxnQkFBZ0JBLFNBQVE7UUFDcEMsT0FBT0EsUUFBT0ksVUFBVTtJQUMxQjtJQUVBLE9BQU9DO0FBQ1Q7QUFFQSxTQUFTQyxnQkFBZ0JDLE9BQU87SUFDOUIsSUFBSSxDQUFDWCxhQUFhO1FBQ2hCO0lBQ0Y7SUFFQSxJQUFJWSxXQUFXTDtJQUVmLElBQUlLLFVBQVU7UUFDWkEsU0FBU0MsUUFBUSxDQUFDRjtJQUNwQjtBQUNGO0FBRXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2RldlRvb2xzLmpzPzdiYmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVNfUFJPRFVDVElPTiB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuXG5mdW5jdGlvbiBnZXRHbG9iYWwoKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG5cbiAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgY29uc29sZS53YXJuKCdYU3RhdGUgY291bGQgbm90IGZpbmQgYSBnbG9iYWwgb2JqZWN0IGluIHRoaXMgZW52aXJvbm1lbnQuIFBsZWFzZSBsZXQgdGhlIG1haW50YWluZXJzIGtub3cgYW5kIHJhaXNlIGFuIGlzc3VlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zdGF0ZWx5YWkveHN0YXRlL2lzc3VlcycpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERldlRvb2xzKCkge1xuICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsKCk7XG5cbiAgaWYgKGdsb2JhbCAmJiAnX194c3RhdGVfXycgaW4gZ2xvYmFsKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5fX3hzdGF0ZV9fO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2aWNlKHNlcnZpY2UpIHtcbiAgaWYgKCFnZXRHbG9iYWwoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkZXZUb29scyA9IGdldERldlRvb2xzKCk7XG5cbiAgaWYgKGRldlRvb2xzKSB7XG4gICAgZGV2VG9vbHMucmVnaXN0ZXIoc2VydmljZSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgZ2V0R2xvYmFsLCByZWdpc3RlclNlcnZpY2UgfTtcbiJdLCJuYW1lcyI6WyJJU19QUk9EVUNUSU9OIiwiZ2V0R2xvYmFsIiwiZ2xvYmFsVGhpcyIsInNlbGYiLCJ3aW5kb3ciLCJnbG9iYWwiLCJjb25zb2xlIiwid2FybiIsImdldERldlRvb2xzIiwiX194c3RhdGVfXyIsInVuZGVmaW5lZCIsInJlZ2lzdGVyU2VydmljZSIsInNlcnZpY2UiLCJkZXZUb29scyIsInJlZ2lzdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/devTools.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/environment.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/environment.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IS_PRODUCTION: () => (/* binding */ IS_PRODUCTION)\n/* harmony export */ });\nvar IS_PRODUCTION = \"development\" === \"production\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2Vudmlyb25tZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxnQkFBZ0JDLGtCQUF5QjtBQUVwQiIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9lbnZpcm9ubWVudC5qcz8xNTgxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBJU19QUk9EVUNUSU9OID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcblxuZXhwb3J0IHsgSVNfUFJPRFVDVElPTiB9O1xuIl0sIm5hbWVzIjpbIklTX1BST0RVQ1RJT04iLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/environment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/index.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionTypes: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_10__.ActionTypes),\n/* harmony export */   Interpreter: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.Interpreter),\n/* harmony export */   InterpreterStatus: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.InterpreterStatus),\n/* harmony export */   Machine: () => (/* reexport safe */ _Machine_js__WEBPACK_IMPORTED_MODULE_3__.Machine),\n/* harmony export */   SpecialTargets: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_10__.SpecialTargets),\n/* harmony export */   State: () => (/* reexport safe */ _State_js__WEBPACK_IMPORTED_MODULE_7__.State),\n/* harmony export */   StateNode: () => (/* reexport safe */ _StateNode_js__WEBPACK_IMPORTED_MODULE_8__.StateNode),\n/* harmony export */   actions: () => (/* reexport module object */ _actions_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cancel: () => (/* binding */ cancel),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   createMachine: () => (/* reexport safe */ _Machine_js__WEBPACK_IMPORTED_MODULE_3__.createMachine),\n/* harmony export */   createSchema: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_6__.createSchema),\n/* harmony export */   doneInvoke: () => (/* binding */ doneInvoke),\n/* harmony export */   forwardTo: () => (/* binding */ forwardTo),\n/* harmony export */   interpret: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.interpret),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   mapState: () => (/* reexport safe */ _mapState_js__WEBPACK_IMPORTED_MODULE_4__.mapState),\n/* harmony export */   matchState: () => (/* reexport safe */ _match_js__WEBPACK_IMPORTED_MODULE_5__.matchState),\n/* harmony export */   matchesState: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.matchesState),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   raise: () => (/* binding */ raise),\n/* harmony export */   send: () => (/* binding */ send),\n/* harmony export */   sendParent: () => (/* binding */ sendParent),\n/* harmony export */   sendTo: () => (/* binding */ sendTo),\n/* harmony export */   sendUpdate: () => (/* binding */ sendUpdate),\n/* harmony export */   spawn: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.spawn),\n/* harmony export */   spawnBehavior: () => (/* reexport safe */ _behaviors_js__WEBPACK_IMPORTED_MODULE_9__.spawnBehavior),\n/* harmony export */   stop: () => (/* binding */ stop),\n/* harmony export */   t: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_6__.t),\n/* harmony export */   toActorRef: () => (/* reexport safe */ _Actor_js__WEBPACK_IMPORTED_MODULE_1__.toActorRef),\n/* harmony export */   toEventObject: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.toEventObject),\n/* harmony export */   toObserver: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.toObserver),\n/* harmony export */   toSCXMLEvent: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.toSCXMLEvent)\n/* harmony export */ });\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _interpreter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interpreter.js */ \"(ssr)/./node_modules/xstate/es/interpreter.js\");\n/* harmony import */ var _Machine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Machine.js */ \"(ssr)/./node_modules/xstate/es/Machine.js\");\n/* harmony import */ var _mapState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mapState.js */ \"(ssr)/./node_modules/xstate/es/mapState.js\");\n/* harmony import */ var _match_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./match.js */ \"(ssr)/./node_modules/xstate/es/match.js\");\n/* harmony import */ var _schema_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./schema.js */ \"(ssr)/./node_modules/xstate/es/schema.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n/* harmony import */ var _StateNode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StateNode.js */ \"(ssr)/./node_modules/xstate/es/StateNode.js\");\n/* harmony import */ var _behaviors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./behaviors.js */ \"(ssr)/./node_modules/xstate/es/behaviors.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar assign = _actions_js__WEBPACK_IMPORTED_MODULE_0__.assign, cancel = _actions_js__WEBPACK_IMPORTED_MODULE_0__.cancel, send = _actions_js__WEBPACK_IMPORTED_MODULE_0__.send, sendTo = _actions_js__WEBPACK_IMPORTED_MODULE_0__.sendTo, sendParent = _actions_js__WEBPACK_IMPORTED_MODULE_0__.sendParent, sendUpdate = _actions_js__WEBPACK_IMPORTED_MODULE_0__.sendUpdate, forwardTo = _actions_js__WEBPACK_IMPORTED_MODULE_0__.forwardTo, doneInvoke = _actions_js__WEBPACK_IMPORTED_MODULE_0__.doneInvoke, raise = _actions_js__WEBPACK_IMPORTED_MODULE_0__.raise, log = _actions_js__WEBPACK_IMPORTED_MODULE_0__.log, pure = _actions_js__WEBPACK_IMPORTED_MODULE_0__.pure, choose = _actions_js__WEBPACK_IMPORTED_MODULE_0__.choose, stop = _actions_js__WEBPACK_IMPORTED_MODULE_0__.stop;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNFM7QUFDcFE7QUFDckI7QUFDcUI7QUFDNEM7QUFDOUI7QUFDYjtBQUNEO0FBQ007QUFDWDtBQUNRO0FBQ0k7QUFDVTtBQUMwQjtBQUVuRixJQUFJQSxTQUFTQywrQ0FBUUEsRUFDakJDLFNBQVNDLCtDQUFRQSxFQUNqQkMsT0FBT0MsNkNBQU1BLEVBQ2JDLFNBQVNDLCtDQUFRQSxFQUNqQkMsYUFBYUMsbURBQVlBLEVBQ3pCQyxhQUFhQyxtREFBWUEsRUFDekJDLFlBQVlDLGtEQUFXQSxFQUN2QkMsYUFBYUMsbURBQVlBLEVBQ3pCQyxRQUFRQyw4Q0FBT0EsRUFDZkMsTUFBTUMsNENBQUtBLEVBQ1hDLE9BQU9DLDZDQUFNQSxFQUNiQyxTQUFTQywrQ0FBUUEsRUFDakJDLE9BQU9DLDZDQUFNQTtBQUVzRyIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9pbmRleC5qcz84ODdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2lnbiBhcyBhc3NpZ24kMSwgY2FuY2VsIGFzIGNhbmNlbCQxLCBzZW5kIGFzIHNlbmQkMSwgc2VuZFRvIGFzIHNlbmRUbyQxLCBzZW5kUGFyZW50IGFzIHNlbmRQYXJlbnQkMSwgc2VuZFVwZGF0ZSBhcyBzZW5kVXBkYXRlJDEsIGZvcndhcmRUbyBhcyBmb3J3YXJkVG8kMSwgZG9uZUludm9rZSBhcyBkb25lSW52b2tlJDEsIHJhaXNlIGFzIHJhaXNlJDEsIGxvZyBhcyBsb2ckMSwgcHVyZSBhcyBwdXJlJDEsIGNob29zZSBhcyBjaG9vc2UkMSwgc3RvcCBhcyBzdG9wJDEgfSBmcm9tICcuL2FjdGlvbnMuanMnO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMuanMnO1xuZXhwb3J0IHsgYWN0aW9ucyB9O1xuZXhwb3J0IHsgdG9BY3RvclJlZiB9IGZyb20gJy4vQWN0b3IuanMnO1xuZXhwb3J0IHsgSW50ZXJwcmV0ZXIsIEludGVycHJldGVyU3RhdHVzLCBpbnRlcnByZXQsIHNwYXduIH0gZnJvbSAnLi9pbnRlcnByZXRlci5qcyc7XG5leHBvcnQgeyBNYWNoaW5lLCBjcmVhdGVNYWNoaW5lIH0gZnJvbSAnLi9NYWNoaW5lLmpzJztcbmV4cG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAnLi9tYXBTdGF0ZS5qcyc7XG5leHBvcnQgeyBtYXRjaFN0YXRlIH0gZnJvbSAnLi9tYXRjaC5qcyc7XG5leHBvcnQgeyBjcmVhdGVTY2hlbWEsIHQgfSBmcm9tICcuL3NjaGVtYS5qcyc7XG5leHBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUuanMnO1xuZXhwb3J0IHsgU3RhdGVOb2RlIH0gZnJvbSAnLi9TdGF0ZU5vZGUuanMnO1xuZXhwb3J0IHsgc3Bhd25CZWhhdmlvciB9IGZyb20gJy4vYmVoYXZpb3JzLmpzJztcbmV4cG9ydCB7IEFjdGlvblR5cGVzLCBTcGVjaWFsVGFyZ2V0cyB9IGZyb20gJy4vdHlwZXMuanMnO1xuZXhwb3J0IHsgbWF0Y2hlc1N0YXRlLCB0b0V2ZW50T2JqZWN0LCB0b09ic2VydmVyLCB0b1NDWE1MRXZlbnQgfSBmcm9tICcuL3V0aWxzLmpzJztcblxudmFyIGFzc2lnbiA9IGFzc2lnbiQxLFxuICAgIGNhbmNlbCA9IGNhbmNlbCQxLFxuICAgIHNlbmQgPSBzZW5kJDEsXG4gICAgc2VuZFRvID0gc2VuZFRvJDEsXG4gICAgc2VuZFBhcmVudCA9IHNlbmRQYXJlbnQkMSxcbiAgICBzZW5kVXBkYXRlID0gc2VuZFVwZGF0ZSQxLFxuICAgIGZvcndhcmRUbyA9IGZvcndhcmRUbyQxLFxuICAgIGRvbmVJbnZva2UgPSBkb25lSW52b2tlJDEsXG4gICAgcmFpc2UgPSByYWlzZSQxLFxuICAgIGxvZyA9IGxvZyQxLFxuICAgIHB1cmUgPSBwdXJlJDEsXG4gICAgY2hvb3NlID0gY2hvb3NlJDEsXG4gICAgc3RvcCA9IHN0b3AkMTtcblxuZXhwb3J0IHsgYXNzaWduLCBjYW5jZWwsIGNob29zZSwgZG9uZUludm9rZSwgZm9yd2FyZFRvLCBsb2csIHB1cmUsIHJhaXNlLCBzZW5kLCBzZW5kUGFyZW50LCBzZW5kVG8sIHNlbmRVcGRhdGUsIHN0b3AgfTtcbiJdLCJuYW1lcyI6WyJhc3NpZ24iLCJhc3NpZ24kMSIsImNhbmNlbCIsImNhbmNlbCQxIiwic2VuZCIsInNlbmQkMSIsInNlbmRUbyIsInNlbmRUbyQxIiwic2VuZFBhcmVudCIsInNlbmRQYXJlbnQkMSIsInNlbmRVcGRhdGUiLCJzZW5kVXBkYXRlJDEiLCJmb3J3YXJkVG8iLCJmb3J3YXJkVG8kMSIsImRvbmVJbnZva2UiLCJkb25lSW52b2tlJDEiLCJyYWlzZSIsInJhaXNlJDEiLCJsb2ciLCJsb2ckMSIsInB1cmUiLCJwdXJlJDEiLCJjaG9vc2UiLCJjaG9vc2UkMSIsInN0b3AiLCJzdG9wJDEiLCJhY3Rpb25zIiwidG9BY3RvclJlZiIsIkludGVycHJldGVyIiwiSW50ZXJwcmV0ZXJTdGF0dXMiLCJpbnRlcnByZXQiLCJzcGF3biIsIk1hY2hpbmUiLCJjcmVhdGVNYWNoaW5lIiwibWFwU3RhdGUiLCJtYXRjaFN0YXRlIiwiY3JlYXRlU2NoZW1hIiwidCIsIlN0YXRlIiwiU3RhdGVOb2RlIiwic3Bhd25CZWhhdmlvciIsIkFjdGlvblR5cGVzIiwiU3BlY2lhbFRhcmdldHMiLCJtYXRjaGVzU3RhdGUiLCJ0b0V2ZW50T2JqZWN0IiwidG9PYnNlcnZlciIsInRvU0NYTUxFdmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/interpreter.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/interpreter.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Interpreter: () => (/* binding */ Interpreter),\n/* harmony export */   InterpreterStatus: () => (/* binding */ InterpreterStatus),\n/* harmony export */   interpret: () => (/* binding */ interpret),\n/* harmony export */   spawn: () => (/* binding */ spawn)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scheduler.js */ \"(ssr)/./node_modules/xstate/es/scheduler.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _registry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./registry.js */ \"(ssr)/./node_modules/xstate/es/registry.js\");\n/* harmony import */ var _devTools_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./devTools.js */ \"(ssr)/./node_modules/xstate/es/devTools.js\");\n/* harmony import */ var _serviceScope_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./serviceScope.js */ \"(ssr)/./node_modules/xstate/es/serviceScope.js\");\n/* harmony import */ var _behaviors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./behaviors.js */ \"(ssr)/./node_modules/xstate/es/behaviors.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DEFAULT_SPAWN_OPTIONS = {\n    sync: false,\n    autoForward: false\n};\nvar InterpreterStatus;\n(function(InterpreterStatus) {\n    InterpreterStatus[InterpreterStatus[\"NotStarted\"] = 0] = \"NotStarted\";\n    InterpreterStatus[InterpreterStatus[\"Running\"] = 1] = \"Running\";\n    InterpreterStatus[InterpreterStatus[\"Stopped\"] = 2] = \"Stopped\";\n})(InterpreterStatus || (InterpreterStatus = {}));\nvar Interpreter = /*#__PURE__*/ /** @class */ function() {\n    /**\r\n   * Creates a new Interpreter instance (i.e., service) for the given machine with the provided options, if any.\r\n   *\r\n   * @param machine The machine to be interpreted\r\n   * @param options Interpreter options\r\n   */ function Interpreter(machine, options) {\n        if (options === void 0) {\n            options = Interpreter.defaultOptions;\n        }\n        var _this = this;\n        this.machine = machine;\n        this.delayedEventsMap = {};\n        this.listeners = new Set();\n        this.contextListeners = new Set();\n        this.stopListeners = new Set();\n        this.doneListeners = new Set();\n        this.eventListeners = new Set();\n        this.sendListeners = new Set();\n        /**\r\n     * Whether the service is started.\r\n     */ this.initialized = false;\n        this.status = InterpreterStatus.NotStarted;\n        this.children = new Map();\n        this.forwardTo = new Set();\n        this._outgoingQueue = [];\n        /**\r\n     * Alias for Interpreter.prototype.start\r\n     */ this.init = this.start;\n        /**\r\n     * Sends an event to the running interpreter to trigger a transition.\r\n     *\r\n     * An array of events (batched) can be sent as well, which will send all\r\n     * batched events to the running interpreter. The listeners will be\r\n     * notified only **once** when all events are processed.\r\n     *\r\n     * @param event The event(s) to send\r\n     */ this.send = function(event1, payload) {\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(event1)) {\n                _this.batch(event1);\n                return _this.state;\n            }\n            var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toEventObject)(event1, payload));\n            if (_this.status === InterpreterStatus.Stopped) {\n                // do nothing\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, 'Event \"'.concat(_event.name, '\" was sent to stopped service \"').concat(_this.machine.id, '\". This service has already reached its final state, and will not transition.\\nEvent: ').concat(JSON.stringify(_event.data)));\n                }\n                return _this.state;\n            }\n            if (_this.status !== InterpreterStatus.Running && !_this.options.deferEvents) {\n                throw new Error('Event \"'.concat(_event.name, '\" was sent to uninitialized service \"').concat(_this.machine.id // tslint:disable-next-line:max-line-length\n                , '\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\\nEvent: ').concat(JSON.stringify(_event.data)));\n            }\n            _this.scheduler.schedule(function() {\n                // Forward copy of event to child actors\n                _this.forward(_event);\n                var nextState = _this._nextState(_event);\n                _this.update(nextState, _event);\n            });\n            return _this._state; // TODO: deprecate (should return void)\n        // tslint:disable-next-line:semicolon\n        };\n        this.sendTo = function(event1, to, immediate) {\n            var isParent = _this.parent && (to === _types_js__WEBPACK_IMPORTED_MODULE_2__.SpecialTargets.Parent || _this.parent.id === to);\n            var target = isParent ? _this.parent : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(to) ? to === _types_js__WEBPACK_IMPORTED_MODULE_2__.SpecialTargets.Internal ? _this : _this.children.get(to) || _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.get(to) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isActor)(to) ? to : undefined;\n            if (!target) {\n                if (!isParent) {\n                    throw new Error(\"Unable to send event to child '\".concat(to, \"' from service '\").concat(_this.id, \"'.\"));\n                } // tslint:disable-next-line:no-console\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"Service '\".concat(_this.id, \"' has no parent: unable to send event \").concat(event1.type));\n                }\n                return;\n            }\n            if (\"machine\" in target) {\n                // perhaps those events should be rejected in the parent\n                // but atm it doesn't have easy access to all of the information that is required to do it reliably\n                if (_this.status !== InterpreterStatus.Stopped || _this.parent !== target || // we need to send events to the parent from exit handlers of a machine that reached its final state\n                _this.state.done) {\n                    // Send SCXML events to machines\n                    var scxmlEvent = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, event1), {\n                        name: event1.name === _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.error ? \"\".concat((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(_this.id)) : event1.name,\n                        origin: _this.sessionId\n                    });\n                    if (!immediate && _this.machine.config.predictableActionArguments) {\n                        _this._outgoingQueue.push([\n                            target,\n                            scxmlEvent\n                        ]);\n                    } else {\n                        target.send(scxmlEvent);\n                    }\n                }\n            } else {\n                // Send normal events to other targets\n                if (!immediate && _this.machine.config.predictableActionArguments) {\n                    _this._outgoingQueue.push([\n                        target,\n                        event1.data\n                    ]);\n                } else {\n                    target.send(event1.data);\n                }\n            }\n        };\n        this._exec = function(action, context, _event, actionFunctionMap) {\n            if (actionFunctionMap === void 0) {\n                actionFunctionMap = _this.machine.options.actions;\n            }\n            var actionOrExec = action.exec || (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.getActionFunction)(action.type, actionFunctionMap);\n            var exec = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(actionOrExec) ? actionOrExec : actionOrExec ? actionOrExec.exec : action.exec;\n            if (exec) {\n                try {\n                    return exec(context, _event.data, !_this.machine.config.predictableActionArguments ? {\n                        action: action,\n                        state: _this.state,\n                        _event: _event\n                    } : {\n                        action: action,\n                        _event: _event\n                    });\n                } catch (err) {\n                    if (_this.parent) {\n                        _this.parent.send({\n                            type: \"xstate.error\",\n                            data: err\n                        });\n                    }\n                    throw err;\n                }\n            }\n            switch(action.type){\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.raise:\n                    {\n                        // if raise action reached the interpreter then it's a delayed one\n                        var sendAction_1 = action;\n                        _this.defer(sendAction_1);\n                        break;\n                    }\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.send:\n                    var sendAction = action;\n                    if (typeof sendAction.delay === \"number\") {\n                        _this.defer(sendAction);\n                        return;\n                    } else {\n                        if (sendAction.to) {\n                            _this.sendTo(sendAction._event, sendAction.to, _event === _actions_js__WEBPACK_IMPORTED_MODULE_6__.initEvent);\n                        } else {\n                            _this.send(sendAction._event);\n                        }\n                    }\n                    break;\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.cancel:\n                    _this.cancel(action.sendId);\n                    break;\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.start:\n                    {\n                        if (_this.status !== InterpreterStatus.Running) {\n                            return;\n                        }\n                        var activity = action.activity; // If the activity will be stopped right after it's started\n                        // (such as in transient states)\n                        // don't bother starting the activity.\n                        if (!_this.machine.config.predictableActionArguments && !_this.state.activities[activity.id || activity.type]) {\n                            break;\n                        } // Invoked services\n                        if (activity.type === _types_js__WEBPACK_IMPORTED_MODULE_2__.ActionTypes.Invoke) {\n                            var invokeSource = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toInvokeSource)(activity.src);\n                            var serviceCreator = _this.machine.options.services ? _this.machine.options.services[invokeSource.type] : undefined;\n                            var id = activity.id, data = activity.data;\n                            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!(\"forward\" in activity), \"`forward` property is deprecated (found in invocation of '\".concat(activity.src, \"' in in machine '\").concat(_this.machine.id, \"'). \") + \"Please use `autoForward` instead.\");\n                            }\n                            var autoForward = \"autoForward\" in activity ? activity.autoForward : !!activity.forward;\n                            if (!serviceCreator) {\n                                // tslint:disable-next-line:no-console\n                                if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"No service found for invocation '\".concat(activity.src, \"' in machine '\").concat(_this.machine.id, \"'.\"));\n                                }\n                                return;\n                            }\n                            var resolvedData = data ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(data, context, _event) : undefined;\n                            if (typeof serviceCreator === \"string\") {\n                                // TODO: warn\n                                return;\n                            }\n                            var source = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(serviceCreator) ? serviceCreator(context, _event.data, {\n                                data: resolvedData,\n                                src: invokeSource,\n                                meta: activity.meta\n                            }) : serviceCreator;\n                            if (!source) {\n                                // TODO: warn?\n                                return;\n                            }\n                            var options = void 0;\n                            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(source)) {\n                                source = resolvedData ? source.withContext(resolvedData) : source;\n                                options = {\n                                    autoForward: autoForward\n                                };\n                            }\n                            _this.spawn(source, id, options);\n                        } else {\n                            _this.spawnActivity(activity);\n                        }\n                        break;\n                    }\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.stop:\n                    {\n                        _this.stopChild(action.activity.id);\n                        break;\n                    }\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.log:\n                    var _a = action, label = _a.label, value = _a.value;\n                    if (label) {\n                        _this.logger(label, value);\n                    } else {\n                        _this.logger(value);\n                    }\n                    break;\n                default:\n                    if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"No implementation found for action type '\".concat(action.type, \"'\"));\n                    }\n                    break;\n            }\n        };\n        var resolvedOptions = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, Interpreter.defaultOptions), options);\n        var clock = resolvedOptions.clock, logger = resolvedOptions.logger, parent = resolvedOptions.parent, id = resolvedOptions.id;\n        var resolvedId = id !== undefined ? id : machine.id;\n        this.id = resolvedId;\n        this.logger = logger;\n        this.clock = clock;\n        this.parent = parent;\n        this.options = resolvedOptions;\n        this.scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_7__.Scheduler({\n            deferEvents: this.options.deferEvents\n        });\n        this.sessionId = _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.bookId();\n    }\n    Object.defineProperty(Interpreter.prototype, \"initialState\", {\n        get: function() {\n            var _this = this;\n            if (this._initialState) {\n                return this._initialState;\n            }\n            return (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(this, function() {\n                _this._initialState = _this.machine.initialState;\n                return _this._initialState;\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Interpreter.prototype, \"state\", {\n        /**\r\n     * @deprecated Use `.getSnapshot()` instead.\r\n     */ get: function() {\n            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(this.status !== InterpreterStatus.NotStarted, \"Attempted to read state from uninitialized service '\".concat(this.id, \"'. Make sure the service is started first.\"));\n            }\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\r\n   * Executes the actions of the given state, with that state's `context` and `event`.\r\n   *\r\n   * @param state The state whose actions will be executed\r\n   * @param actionsConfig The action implementations to use\r\n   */ Interpreter.prototype.execute = function(state, actionsConfig) {\n        var e_1, _a;\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(state.actions), _c = _b.next(); !_c.done; _c = _b.next()){\n                var action = _c.value;\n                this.exec(action, state, actionsConfig);\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n    };\n    Interpreter.prototype.update = function(state, _event) {\n        var e_2, _a, e_3, _b, e_4, _c, e_5, _d;\n        var _this = this; // Attach session ID to state\n        state._sessionid = this.sessionId; // Update state\n        this._state = state; // Execute actions\n        if ((!this.machine.config.predictableActionArguments || // this is currently required to execute initial actions as the `initialState` gets cached\n        // we can't just recompute it (and execute actions while doing so) because we try to preserve identity of actors created within initial assigns\n        _event === _actions_js__WEBPACK_IMPORTED_MODULE_6__.initEvent) && this.options.execute) {\n            this.execute(this.state);\n        } else {\n            var item = void 0;\n            while(item = this._outgoingQueue.shift()){\n                item[0].send(item[1]);\n            }\n        } // Update children\n        this.children.forEach(function(child) {\n            _this.state.children[child.id] = child;\n        }); // Dev tools\n        if (this.devTools) {\n            this.devTools.send(_event.data, state);\n        } // Execute listeners\n        if (state.event) {\n            try {\n                for(var _e = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.eventListeners), _f = _e.next(); !_f.done; _f = _e.next()){\n                    var listener = _f.value;\n                    listener(state.event);\n                }\n            } catch (e_2_1) {\n                e_2 = {\n                    error: e_2_1\n                };\n            } finally{\n                try {\n                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n                } finally{\n                    if (e_2) throw e_2.error;\n                }\n            }\n        }\n        try {\n            for(var _g = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.listeners), _h = _g.next(); !_h.done; _h = _g.next()){\n                var listener = _h.value;\n                listener(state, state.event);\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        try {\n            for(var _j = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.contextListeners), _k = _j.next(); !_k.done; _k = _j.next()){\n                var contextListener = _k.value;\n                contextListener(this.state.context, this.state.history ? this.state.history.context : undefined);\n            }\n        } catch (e_4_1) {\n            e_4 = {\n                error: e_4_1\n            };\n        } finally{\n            try {\n                if (_k && !_k.done && (_c = _j.return)) _c.call(_j);\n            } finally{\n                if (e_4) throw e_4.error;\n            }\n        }\n        if (this.state.done) {\n            // get final child state node\n            var finalChildStateNode = state.configuration.find(function(sn) {\n                return sn.type === \"final\" && sn.parent === _this.machine;\n            });\n            var doneData = finalChildStateNode && finalChildStateNode.doneData ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(finalChildStateNode.doneData, state.context, _event) : undefined;\n            this._doneEvent = (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.doneInvoke)(this.id, doneData);\n            try {\n                for(var _l = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.doneListeners), _m = _l.next(); !_m.done; _m = _l.next()){\n                    var listener = _m.value;\n                    listener(this._doneEvent);\n                }\n            } catch (e_5_1) {\n                e_5 = {\n                    error: e_5_1\n                };\n            } finally{\n                try {\n                    if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n                } finally{\n                    if (e_5) throw e_5.error;\n                }\n            }\n            this._stop();\n            this._stopChildren();\n            _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.free(this.sessionId);\n        }\n    };\n    /*\r\n   * Adds a listener that is notified whenever a state transition happens. The listener is called with\r\n   * the next state and the event object that caused the state transition.\r\n   *\r\n   * @param listener The state listener\r\n   */ Interpreter.prototype.onTransition = function(listener) {\n        this.listeners.add(listener); // Send current state to listener\n        if (this.status === InterpreterStatus.Running) {\n            listener(this.state, this.state.event);\n        }\n        return this;\n    };\n    Interpreter.prototype.subscribe = function(nextListenerOrObserver, _, completeListener) {\n        var _this = this;\n        var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toObserver)(nextListenerOrObserver, _, completeListener);\n        this.listeners.add(observer.next); // Send current state to listener\n        if (this.status !== InterpreterStatus.NotStarted) {\n            observer.next(this.state);\n        }\n        var completeOnce = function() {\n            _this.doneListeners.delete(completeOnce);\n            _this.stopListeners.delete(completeOnce);\n            observer.complete();\n        };\n        if (this.status === InterpreterStatus.Stopped) {\n            observer.complete();\n        } else {\n            this.onDone(completeOnce);\n            this.onStop(completeOnce);\n        }\n        return {\n            unsubscribe: function() {\n                _this.listeners.delete(observer.next);\n                _this.doneListeners.delete(completeOnce);\n                _this.stopListeners.delete(completeOnce);\n            }\n        };\n    };\n    /**\r\n   * Adds an event listener that is notified whenever an event is sent to the running interpreter.\r\n   * @param listener The event listener\r\n   */ Interpreter.prototype.onEvent = function(listener) {\n        this.eventListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds an event listener that is notified whenever a `send` event occurs.\r\n   * @param listener The event listener\r\n   */ Interpreter.prototype.onSend = function(listener) {\n        this.sendListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds a context listener that is notified whenever the state context changes.\r\n   * @param listener The context listener\r\n   */ Interpreter.prototype.onChange = function(listener) {\n        this.contextListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds a listener that is notified when the machine is stopped.\r\n   * @param listener The listener\r\n   */ Interpreter.prototype.onStop = function(listener) {\n        this.stopListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds a state listener that is notified when the statechart has reached its final state.\r\n   * @param listener The state listener\r\n   */ Interpreter.prototype.onDone = function(listener) {\n        if (this.status === InterpreterStatus.Stopped && this._doneEvent) {\n            listener(this._doneEvent);\n        } else {\n            this.doneListeners.add(listener);\n        }\n        return this;\n    };\n    /**\r\n   * Removes a listener.\r\n   * @param listener The listener to remove\r\n   */ Interpreter.prototype.off = function(listener) {\n        this.listeners.delete(listener);\n        this.eventListeners.delete(listener);\n        this.sendListeners.delete(listener);\n        this.stopListeners.delete(listener);\n        this.doneListeners.delete(listener);\n        this.contextListeners.delete(listener);\n        return this;\n    };\n    /**\r\n   * Starts the interpreter from the given state, or the initial state.\r\n   * @param initialState The state to start the statechart from\r\n   */ Interpreter.prototype.start = function(initialState) {\n        var _this = this;\n        if (this.status === InterpreterStatus.Running) {\n            // Do not restart the service if it is already started\n            return this;\n        } // yes, it's a hack but we need the related cache to be populated for some things to work (like delayed transitions)\n        // this is usually called by `machine.getInitialState` but if we rehydrate from a state we might bypass this call\n        // we also don't want to call this method here as it resolves the full initial state which might involve calling assign actions\n        // and that could potentially lead to some unwanted side-effects (even such as creating some rogue actors)\n        this.machine._init();\n        _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.register(this.sessionId, this);\n        this.initialized = true;\n        this.status = InterpreterStatus.Running;\n        var resolvedState = initialState === undefined ? this.initialState : (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(this, function() {\n            return (0,_State_js__WEBPACK_IMPORTED_MODULE_9__.isStateConfig)(initialState) ? _this.machine.resolveState(initialState) : _this.machine.resolveState(_State_js__WEBPACK_IMPORTED_MODULE_9__.State.from(initialState, _this.machine.context));\n        });\n        if (this.options.devTools) {\n            this.attachDev();\n        }\n        this.scheduler.initialize(function() {\n            _this.update(resolvedState, _actions_js__WEBPACK_IMPORTED_MODULE_6__.initEvent);\n        });\n        return this;\n    };\n    Interpreter.prototype._stopChildren = function() {\n        // TODO: think about converting those to actions\n        this.children.forEach(function(child) {\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(child.stop)) {\n                child.stop();\n            }\n        });\n        this.children.clear();\n    };\n    Interpreter.prototype._stop = function() {\n        var e_6, _a, e_7, _b, e_8, _c, e_9, _d, e_10, _e;\n        try {\n            for(var _f = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.listeners), _g = _f.next(); !_g.done; _g = _f.next()){\n                var listener = _g.value;\n                this.listeners.delete(listener);\n            }\n        } catch (e_6_1) {\n            e_6 = {\n                error: e_6_1\n            };\n        } finally{\n            try {\n                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n            } finally{\n                if (e_6) throw e_6.error;\n            }\n        }\n        try {\n            for(var _h = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.stopListeners), _j = _h.next(); !_j.done; _j = _h.next()){\n                var listener = _j.value; // call listener, then remove\n                listener();\n                this.stopListeners.delete(listener);\n            }\n        } catch (e_7_1) {\n            e_7 = {\n                error: e_7_1\n            };\n        } finally{\n            try {\n                if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n            } finally{\n                if (e_7) throw e_7.error;\n            }\n        }\n        try {\n            for(var _k = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.contextListeners), _l = _k.next(); !_l.done; _l = _k.next()){\n                var listener = _l.value;\n                this.contextListeners.delete(listener);\n            }\n        } catch (e_8_1) {\n            e_8 = {\n                error: e_8_1\n            };\n        } finally{\n            try {\n                if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n            } finally{\n                if (e_8) throw e_8.error;\n            }\n        }\n        try {\n            for(var _m = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.doneListeners), _o = _m.next(); !_o.done; _o = _m.next()){\n                var listener = _o.value;\n                this.doneListeners.delete(listener);\n            }\n        } catch (e_9_1) {\n            e_9 = {\n                error: e_9_1\n            };\n        } finally{\n            try {\n                if (_o && !_o.done && (_d = _m.return)) _d.call(_m);\n            } finally{\n                if (e_9) throw e_9.error;\n            }\n        }\n        if (!this.initialized) {\n            // Interpreter already stopped; do nothing\n            return this;\n        }\n        this.initialized = false;\n        this.status = InterpreterStatus.Stopped;\n        this._initialState = undefined;\n        try {\n            // we are going to stop within the current sync frame\n            // so we can safely just cancel this here as nothing async should be fired anyway\n            for(var _p = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(Object.keys(this.delayedEventsMap)), _q = _p.next(); !_q.done; _q = _p.next()){\n                var key = _q.value;\n                this.clock.clearTimeout(this.delayedEventsMap[key]);\n            }\n        } catch (e_10_1) {\n            e_10 = {\n                error: e_10_1\n            };\n        } finally{\n            try {\n                if (_q && !_q.done && (_e = _p.return)) _e.call(_p);\n            } finally{\n                if (e_10) throw e_10.error;\n            }\n        } // clear everything that might be enqueued\n        this.scheduler.clear();\n        this.scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_7__.Scheduler({\n            deferEvents: this.options.deferEvents\n        });\n    };\n    /**\r\n   * Stops the interpreter and unsubscribe all listeners.\r\n   *\r\n   * This will also notify the `onStop` listeners.\r\n   */ Interpreter.prototype.stop = function() {\n        // TODO: add warning for stopping non-root interpreters\n        var _this = this; // grab the current scheduler as it will be replaced in _stop\n        var scheduler = this.scheduler;\n        this._stop(); // let what is currently processed to be finished\n        scheduler.schedule(function() {\n            var _a;\n            if ((_a = _this._state) === null || _a === void 0 ? void 0 : _a.done) {\n                return;\n            } // it feels weird to handle this here but we need to handle this even slightly \"out of band\"\n            var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)({\n                type: \"xstate.stop\"\n            });\n            var nextState = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(_this, function() {\n                var exitActions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__read)(_this.state.configuration), false).sort(function(a, b) {\n                    return b.order - a.order;\n                }).map(function(stateNode) {\n                    return (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.toActionObjects)(stateNode.onExit, _this.machine.options.actions);\n                }));\n                var _a = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__read)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.resolveActions)(_this.machine, _this.state, _this.state.context, _event, [\n                    {\n                        type: \"exit\",\n                        actions: exitActions\n                    }\n                ], _this.machine.config.predictableActionArguments ? _this._exec : undefined, _this.machine.config.predictableActionArguments || _this.machine.config.preserveActionOrder), 2), resolvedActions = _a[0], updatedContext = _a[1];\n                var newState = new _State_js__WEBPACK_IMPORTED_MODULE_9__.State({\n                    value: _this.state.value,\n                    context: updatedContext,\n                    _event: _event,\n                    _sessionid: _this.sessionId,\n                    historyValue: undefined,\n                    history: _this.state,\n                    actions: resolvedActions.filter(function(action) {\n                        return !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isRaisableAction)(action);\n                    }),\n                    activities: {},\n                    events: [],\n                    configuration: [],\n                    transitions: [],\n                    children: {},\n                    done: _this.state.done,\n                    tags: _this.state.tags,\n                    machine: _this.machine\n                });\n                newState.changed = true;\n                return newState;\n            });\n            _this.update(nextState, _event);\n            _this._stopChildren();\n            _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.free(_this.sessionId);\n        });\n        return this;\n    };\n    Interpreter.prototype.batch = function(events) {\n        var _this = this;\n        if (this.status === InterpreterStatus.NotStarted && this.options.deferEvents) {\n            // tslint:disable-next-line:no-console\n            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"\".concat(events.length, ' event(s) were sent to uninitialized service \"').concat(this.machine.id, '\" and are deferred. Make sure .start() is called for this service.\\nEvent: ').concat(JSON.stringify(event)));\n            }\n        } else if (this.status !== InterpreterStatus.Running) {\n            throw new Error(\"\".concat(events.length, ' event(s) were sent to uninitialized service \"').concat(this.machine.id, '\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));\n        }\n        if (!events.length) {\n            return;\n        }\n        var exec = !!this.machine.config.predictableActionArguments && this._exec;\n        this.scheduler.schedule(function() {\n            var e_11, _a;\n            var nextState = _this.state;\n            var batchChanged = false;\n            var batchedActions = [];\n            var _loop_1 = function(event_1) {\n                var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event_1);\n                _this.forward(_event);\n                nextState = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(_this, function() {\n                    return _this.machine.transition(nextState, _event, undefined, exec || undefined);\n                });\n                batchedActions.push.apply(batchedActions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__read)(_this.machine.config.predictableActionArguments ? nextState.actions : nextState.actions.map(function(a) {\n                    return (0,_State_js__WEBPACK_IMPORTED_MODULE_9__.bindActionToState)(a, nextState);\n                })), false));\n                batchChanged = batchChanged || !!nextState.changed;\n            };\n            try {\n                for(var events_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()){\n                    var event_1 = events_1_1.value;\n                    _loop_1(event_1);\n                }\n            } catch (e_11_1) {\n                e_11 = {\n                    error: e_11_1\n                };\n            } finally{\n                try {\n                    if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);\n                } finally{\n                    if (e_11) throw e_11.error;\n                }\n            }\n            nextState.changed = batchChanged;\n            nextState.actions = batchedActions;\n            _this.update(nextState, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(events[events.length - 1]));\n        });\n    };\n    /**\r\n   * Returns a send function bound to this interpreter instance.\r\n   *\r\n   * @param event The event to be sent by the sender.\r\n   */ Interpreter.prototype.sender = function(event1) {\n        return this.send.bind(this, event1);\n    };\n    Interpreter.prototype._nextState = function(event1, exec) {\n        var _this = this;\n        if (exec === void 0) {\n            exec = !!this.machine.config.predictableActionArguments && this._exec;\n        }\n        var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event1);\n        if (_event.name.indexOf(_actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.errorPlatform) === 0 && !this.state.nextEvents.some(function(nextEvent) {\n            return nextEvent.indexOf(_actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.errorPlatform) === 0;\n        })) {\n            throw _event.data.data;\n        }\n        var nextState = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(this, function() {\n            return _this.machine.transition(_this.state, _event, undefined, exec || undefined);\n        });\n        return nextState;\n    };\n    /**\r\n   * Returns the next state given the interpreter's current state and the event.\r\n   *\r\n   * This is a pure method that does _not_ update the interpreter's state.\r\n   *\r\n   * @param event The event to determine the next state\r\n   */ Interpreter.prototype.nextState = function(event1) {\n        return this._nextState(event1, false);\n    };\n    Interpreter.prototype.forward = function(event1) {\n        var e_12, _a;\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.forwardTo), _c = _b.next(); !_c.done; _c = _b.next()){\n                var id = _c.value;\n                var child = this.children.get(id);\n                if (!child) {\n                    throw new Error(\"Unable to forward event '\".concat(event1, \"' from interpreter '\").concat(this.id, \"' to nonexistant child '\").concat(id, \"'.\"));\n                }\n                child.send(event1);\n            }\n        } catch (e_12_1) {\n            e_12 = {\n                error: e_12_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_12) throw e_12.error;\n            }\n        }\n    };\n    Interpreter.prototype.defer = function(sendAction) {\n        var _this = this;\n        var timerId = this.clock.setTimeout(function() {\n            if (\"to\" in sendAction && sendAction.to) {\n                _this.sendTo(sendAction._event, sendAction.to, true);\n            } else {\n                _this.send(sendAction._event);\n            }\n        }, sendAction.delay);\n        if (sendAction.id) {\n            this.delayedEventsMap[sendAction.id] = timerId;\n        }\n    };\n    Interpreter.prototype.cancel = function(sendId) {\n        this.clock.clearTimeout(this.delayedEventsMap[sendId]);\n        delete this.delayedEventsMap[sendId];\n    };\n    Interpreter.prototype.exec = function(action, state, actionFunctionMap) {\n        if (actionFunctionMap === void 0) {\n            actionFunctionMap = this.machine.options.actions;\n        }\n        this._exec(action, state.context, state._event, actionFunctionMap);\n    };\n    Interpreter.prototype.removeChild = function(childId) {\n        var _a;\n        this.children.delete(childId);\n        this.forwardTo.delete(childId); // this.state might not exist at the time this is called,\n        // such as when a child is added then removed while initializing the state\n        (_a = this.state) === null || _a === void 0 ? true : delete _a.children[childId];\n    };\n    Interpreter.prototype.stopChild = function(childId) {\n        var child = this.children.get(childId);\n        if (!child) {\n            return;\n        }\n        this.removeChild(childId);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(child.stop)) {\n            child.stop();\n        }\n    };\n    Interpreter.prototype.spawn = function(entity, name, options) {\n        if (this.status !== InterpreterStatus.Running) {\n            return (0,_Actor_js__WEBPACK_IMPORTED_MODULE_10__.createDeferredActor)(entity, name);\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isPromiseLike)(entity)) {\n            return this.spawnPromise(Promise.resolve(entity), name);\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entity)) {\n            return this.spawnCallback(entity, name);\n        } else if ((0,_Actor_js__WEBPACK_IMPORTED_MODULE_10__.isSpawnedActor)(entity)) {\n            return this.spawnActor(entity, name);\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObservable)(entity)) {\n            return this.spawnObservable(entity, name);\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity)) {\n            return this.spawnMachine(entity, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, options), {\n                id: name\n            }));\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBehavior)(entity)) {\n            return this.spawnBehavior(entity, name);\n        } else {\n            throw new Error('Unable to spawn entity \"'.concat(name, '\" of type \"').concat(typeof entity, '\".'));\n        }\n    };\n    Interpreter.prototype.spawnMachine = function(machine, options) {\n        var _this = this;\n        if (options === void 0) {\n            options = {};\n        }\n        var childService = new Interpreter(machine, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, this.options), {\n            parent: this,\n            id: options.id || machine.id\n        }));\n        var resolvedOptions = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, DEFAULT_SPAWN_OPTIONS), options);\n        if (resolvedOptions.sync) {\n            childService.onTransition(function(state) {\n                _this.send(_actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.update, {\n                    state: state,\n                    id: childService.id\n                });\n            });\n        }\n        var actor = childService;\n        this.children.set(childService.id, actor);\n        if (resolvedOptions.autoForward) {\n            this.forwardTo.add(childService.id);\n        }\n        childService.onDone(function(doneEvent) {\n            _this.removeChild(childService.id);\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(doneEvent, {\n                origin: childService.id\n            }));\n        }).start();\n        return actor;\n    };\n    Interpreter.prototype.spawnBehavior = function(behavior, id) {\n        var actorRef = (0,_behaviors_js__WEBPACK_IMPORTED_MODULE_11__.spawnBehavior)(behavior, {\n            id: id,\n            parent: this\n        });\n        this.children.set(id, actorRef);\n        return actorRef;\n    };\n    Interpreter.prototype.spawnPromise = function(promise, id) {\n        var _a;\n        var _this = this;\n        var canceled = false;\n        var resolvedData;\n        promise.then(function(response) {\n            if (!canceled) {\n                resolvedData = response;\n                _this.removeChild(id);\n                _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.doneInvoke)(id, response), {\n                    origin: id\n                }));\n            }\n        }, function(errorData) {\n            if (!canceled) {\n                _this.removeChild(id);\n                var errorEvent = (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(id, errorData);\n                try {\n                    // Send \"error.platform.id\" to this (parent).\n                    _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(errorEvent, {\n                        origin: id\n                    }));\n                } catch (error) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.reportUnhandledExceptionOnInvocation)(errorData, error, id);\n                    if (_this.devTools) {\n                        _this.devTools.send(errorEvent, _this.state);\n                    }\n                    if (_this.machine.strict) {\n                        // it would be better to always stop the state machine if unhandled\n                        // exception/promise rejection happens but because we don't want to\n                        // break existing code so enforce it on strict mode only especially so\n                        // because documentation says that onError is optional\n                        _this.stop();\n                    }\n                }\n            }\n        });\n        var actor = (_a = {\n            id: id,\n            send: function() {\n                return void 0;\n            },\n            subscribe: function(next, handleError, complete) {\n                var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toObserver)(next, handleError, complete);\n                var unsubscribed = false;\n                promise.then(function(response) {\n                    if (unsubscribed) {\n                        return;\n                    }\n                    observer.next(response);\n                    if (unsubscribed) {\n                        return;\n                    }\n                    observer.complete();\n                }, function(err) {\n                    if (unsubscribed) {\n                        return;\n                    }\n                    observer.error(err);\n                });\n                return {\n                    unsubscribe: function() {\n                        return unsubscribed = true;\n                    }\n                };\n            },\n            stop: function() {\n                canceled = true;\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            },\n            getSnapshot: function() {\n                return resolvedData;\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a);\n        this.children.set(id, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnCallback = function(callback, id) {\n        var _a;\n        var _this = this;\n        var canceled = false;\n        var receivers = new Set();\n        var listeners = new Set();\n        var emitted;\n        var receive = function(e) {\n            emitted = e;\n            listeners.forEach(function(listener) {\n                return listener(e);\n            });\n            if (canceled) {\n                return;\n            }\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(e, {\n                origin: id\n            }));\n        };\n        var callbackStop;\n        try {\n            callbackStop = callback(receive, function(newListener) {\n                receivers.add(newListener);\n            });\n        } catch (err) {\n            this.send((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(id, err));\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isPromiseLike)(callbackStop)) {\n            // it turned out to be an async function, can't reliably check this before calling `callback`\n            // because transpiled async functions are not recognizable\n            return this.spawnPromise(callbackStop, id);\n        }\n        var actor = (_a = {\n            id: id,\n            send: function(event1) {\n                return receivers.forEach(function(receiver) {\n                    return receiver(event1);\n                });\n            },\n            subscribe: function(next) {\n                var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toObserver)(next);\n                listeners.add(observer.next);\n                return {\n                    unsubscribe: function() {\n                        listeners.delete(observer.next);\n                    }\n                };\n            },\n            stop: function() {\n                canceled = true;\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(callbackStop)) {\n                    callbackStop();\n                }\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            },\n            getSnapshot: function() {\n                return emitted;\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a);\n        this.children.set(id, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnObservable = function(source, id) {\n        var _a;\n        var _this = this;\n        var emitted;\n        var subscription = source.subscribe(function(value) {\n            emitted = value;\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(value, {\n                origin: id\n            }));\n        }, function(err) {\n            _this.removeChild(id);\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(id, err), {\n                origin: id\n            }));\n        }, function() {\n            _this.removeChild(id);\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.doneInvoke)(id), {\n                origin: id\n            }));\n        });\n        var actor = (_a = {\n            id: id,\n            send: function() {\n                return void 0;\n            },\n            subscribe: function(next, handleError, complete) {\n                return source.subscribe(next, handleError, complete);\n            },\n            stop: function() {\n                return subscription.unsubscribe();\n            },\n            getSnapshot: function() {\n                return emitted;\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a);\n        this.children.set(id, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnActor = function(actor, name) {\n        this.children.set(name, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnActivity = function(activity) {\n        var implementation = this.machine.options && this.machine.options.activities ? this.machine.options.activities[activity.type] : undefined;\n        if (!implementation) {\n            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"No implementation found for activity '\".concat(activity.type, \"'\"));\n            } // tslint:disable-next-line:no-console\n            return;\n        } // Start implementation\n        var dispose = implementation(this.state.context, activity);\n        this.spawnEffect(activity.id, dispose);\n    };\n    Interpreter.prototype.spawnEffect = function(id, dispose) {\n        var _a;\n        this.children.set(id, (_a = {\n            id: id,\n            send: function() {\n                return void 0;\n            },\n            subscribe: function() {\n                return {\n                    unsubscribe: function() {\n                        return void 0;\n                    }\n                };\n            },\n            stop: dispose || undefined,\n            getSnapshot: function() {\n                return undefined;\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a));\n    };\n    Interpreter.prototype.attachDev = function() {\n        var global = (0,_devTools_js__WEBPACK_IMPORTED_MODULE_12__.getGlobal)();\n        if (this.options.devTools && global) {\n            if (global.__REDUX_DEVTOOLS_EXTENSION__) {\n                var devToolsOptions = typeof this.options.devTools === \"object\" ? this.options.devTools : undefined;\n                this.devTools = global.__REDUX_DEVTOOLS_EXTENSION__.connect((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({\n                    name: this.id,\n                    autoPause: true,\n                    stateSanitizer: function(state) {\n                        return {\n                            value: state.value,\n                            context: state.context,\n                            actions: state.actions\n                        };\n                    }\n                }, devToolsOptions), {\n                    features: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({\n                        jump: false,\n                        skip: false\n                    }, devToolsOptions ? devToolsOptions.features : undefined)\n                }), this.machine);\n                this.devTools.init(this.state);\n            } // add XState-specific dev tooling hook\n            (0,_devTools_js__WEBPACK_IMPORTED_MODULE_12__.registerService)(this);\n        }\n    };\n    Interpreter.prototype.toJSON = function() {\n        return {\n            id: this.id\n        };\n    };\n    Interpreter.prototype[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n        return this;\n    };\n    Interpreter.prototype.getSnapshot = function() {\n        if (this.status === InterpreterStatus.NotStarted) {\n            return this.initialState;\n        }\n        return this._state;\n    };\n    /**\r\n   * The default interpreter options:\r\n   *\r\n   * - `clock` uses the global `setTimeout` and `clearTimeout` functions\r\n   * - `logger` uses the global `console.log()` method\r\n   */ Interpreter.defaultOptions = {\n        execute: true,\n        deferEvents: true,\n        clock: {\n            setTimeout: function(fn, ms) {\n                return setTimeout(fn, ms);\n            },\n            clearTimeout: function(id) {\n                return clearTimeout(id);\n            }\n        },\n        logger: /*#__PURE__*/ console.log.bind(console),\n        devTools: false\n    };\n    Interpreter.interpret = interpret;\n    return Interpreter;\n}();\nvar resolveSpawnOptions = function(nameOrOptions) {\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(nameOrOptions)) {\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, DEFAULT_SPAWN_OPTIONS), {\n            name: nameOrOptions\n        });\n    }\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, DEFAULT_SPAWN_OPTIONS), {\n        name: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.uniqueId)()\n    }), nameOrOptions);\n};\nfunction spawn(entity, nameOrOptions) {\n    var resolvedOptions = resolveSpawnOptions(nameOrOptions);\n    return (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.consume)(function(service) {\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n            var isLazyEntity = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entity);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!!service || isLazyEntity, 'Attempted to spawn an Actor (ID: \"'.concat((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity) ? entity.id : \"undefined\", '\") outside of a service. This will have no effect.'));\n        }\n        if (service) {\n            return service.spawn(entity, resolvedOptions.name, resolvedOptions);\n        } else {\n            return (0,_Actor_js__WEBPACK_IMPORTED_MODULE_10__.createDeferredActor)(entity, resolvedOptions.name);\n        }\n    });\n}\n/**\r\n * Creates a new Interpreter instance for the given machine with the provided options, if any.\r\n *\r\n * @param machine The machine to interpret\r\n * @param options Interpreter options\r\n */ function interpret(machine, options) {\n    var interpreter = new Interpreter(machine, options);\n    return interpreter;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2ludGVycHJldGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGO0FBQ3hCO0FBQ1k7QUFDNkM7QUFDRjtBQUMvRDtBQUMrTztBQUNyUDtBQUNzQjtBQUN4QjtBQUNrQjtBQUNOO0FBQ047QUFFL0MsSUFBSXFELHdCQUF3QjtJQUMxQkMsTUFBTTtJQUNOQyxhQUFhO0FBQ2Y7QUFDQSxJQUFJQztBQUVILFVBQVVBLGlCQUFpQjtJQUMxQkEsaUJBQWlCLENBQUNBLGlCQUFpQixDQUFDLGFBQWEsR0FBRyxFQUFFLEdBQUc7SUFDekRBLGlCQUFpQixDQUFDQSxpQkFBaUIsQ0FBQyxVQUFVLEdBQUcsRUFBRSxHQUFHO0lBQ3REQSxpQkFBaUIsQ0FBQ0EsaUJBQWlCLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBRztBQUN4RCxHQUFHQSxxQkFBc0JBLENBQUFBLG9CQUFvQixDQUFDO0FBRTlDLElBQUlDLGNBQ0osV0FBVyxHQUVYLFdBQVcsR0FDWDtJQUNFOzs7OztHQUtDLEdBQ0QsU0FBU0EsWUFBWUMsT0FBTyxFQUFFQyxPQUFPO1FBQ25DLElBQUlBLFlBQVksS0FBSyxHQUFHO1lBQ3RCQSxVQUFVRixZQUFZRyxjQUFjO1FBQ3RDO1FBRUEsSUFBSUMsUUFBUSxJQUFJO1FBRWhCLElBQUksQ0FBQ0gsT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0ksZ0JBQWdCLEdBQUcsQ0FBQztRQUN6QixJQUFJLENBQUNDLFNBQVMsR0FBRyxJQUFJQztRQUNyQixJQUFJLENBQUNDLGdCQUFnQixHQUFHLElBQUlEO1FBQzVCLElBQUksQ0FBQ0UsYUFBYSxHQUFHLElBQUlGO1FBQ3pCLElBQUksQ0FBQ0csYUFBYSxHQUFHLElBQUlIO1FBQ3pCLElBQUksQ0FBQ0ksY0FBYyxHQUFHLElBQUlKO1FBQzFCLElBQUksQ0FBQ0ssYUFBYSxHQUFHLElBQUlMO1FBQ3pCOztLQUVDLEdBRUQsSUFBSSxDQUFDTSxXQUFX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Q3pEO0lBQ0Y7QUFDRjtBQUNBOzs7OztDQUtDLEdBRUQsU0FBU3lQLFVBQVVwUixPQUFPLEVBQUVDLE9BQU87SUFDakMsSUFBSXdSLGNBQWMsSUFBSTFSLFlBQVlDLFNBQVNDO0lBQzNDLE9BQU93UjtBQUNUO0FBRTREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2ludGVycHJldGVyLmpzP2FkODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX192YWx1ZXMsIF9fc3ByZWFkQXJyYXksIF9fcmVhZCwgX19hc3NpZ24gfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBTcGVjaWFsVGFyZ2V0cywgQWN0aW9uVHlwZXMgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGlzU3RhdGVDb25maWcsIFN0YXRlLCBiaW5kQWN0aW9uVG9TdGF0ZSB9IGZyb20gJy4vU3RhdGUuanMnO1xuaW1wb3J0IHsgZXJyb3JQbGF0Zm9ybSwgdXBkYXRlLCBlcnJvciBhcyBlcnJvciQxLCBsb2csIHN0b3AsIHN0YXJ0LCBjYW5jZWwsIHNlbmQsIHJhaXNlIH0gZnJvbSAnLi9hY3Rpb25UeXBlcy5qcyc7XG5pbXBvcnQgeyBpbml0RXZlbnQsIGRvbmVJbnZva2UsIHRvQWN0aW9uT2JqZWN0cywgcmVzb2x2ZUFjdGlvbnMsIGVycm9yLCBnZXRBY3Rpb25GdW5jdGlvbiB9IGZyb20gJy4vYWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBJU19QUk9EVUNUSU9OIH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyB3YXJuLCBtYXBDb250ZXh0LCB0b09ic2VydmVyLCBpc0Z1bmN0aW9uLCB0b1NDWE1MRXZlbnQsIGZsYXR0ZW4sIGlzUmFpc2FibGVBY3Rpb24sIGlzUHJvbWlzZUxpa2UsIGlzT2JzZXJ2YWJsZSwgaXNNYWNoaW5lLCBpc0JlaGF2aW9yLCByZXBvcnRVbmhhbmRsZWRFeGNlcHRpb25Pbkludm9jYXRpb24sIHN5bWJvbE9ic2VydmFibGUsIGlzQXJyYXksIHRvRXZlbnRPYmplY3QsIGlzU3RyaW5nLCBpc0FjdG9yLCB0b0ludm9rZVNvdXJjZSwgdW5pcXVlSWQgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGNyZWF0ZURlZmVycmVkQWN0b3IsIGlzU3Bhd25lZEFjdG9yIH0gZnJvbSAnLi9BY3Rvci5qcyc7XG5pbXBvcnQgeyByZWdpc3RyeSB9IGZyb20gJy4vcmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsLCByZWdpc3RlclNlcnZpY2UgfSBmcm9tICcuL2RldlRvb2xzLmpzJztcbmltcG9ydCB7IHByb3ZpZGUsIGNvbnN1bWUgfSBmcm9tICcuL3NlcnZpY2VTY29wZS5qcyc7XG5pbXBvcnQgeyBzcGF3bkJlaGF2aW9yIH0gZnJvbSAnLi9iZWhhdmlvcnMuanMnO1xuXG52YXIgREVGQVVMVF9TUEFXTl9PUFRJT05TID0ge1xuICBzeW5jOiBmYWxzZSxcbiAgYXV0b0ZvcndhcmQ6IGZhbHNlXG59O1xudmFyIEludGVycHJldGVyU3RhdHVzO1xuXG4oZnVuY3Rpb24gKEludGVycHJldGVyU3RhdHVzKSB7XG4gIEludGVycHJldGVyU3RhdHVzW0ludGVycHJldGVyU3RhdHVzW1wiTm90U3RhcnRlZFwiXSA9IDBdID0gXCJOb3RTdGFydGVkXCI7XG4gIEludGVycHJldGVyU3RhdHVzW0ludGVycHJldGVyU3RhdHVzW1wiUnVubmluZ1wiXSA9IDFdID0gXCJSdW5uaW5nXCI7XG4gIEludGVycHJldGVyU3RhdHVzW0ludGVycHJldGVyU3RhdHVzW1wiU3RvcHBlZFwiXSA9IDJdID0gXCJTdG9wcGVkXCI7XG59KShJbnRlcnByZXRlclN0YXR1cyB8fCAoSW50ZXJwcmV0ZXJTdGF0dXMgPSB7fSkpO1xuXG52YXIgSW50ZXJwcmV0ZXIgPVxuLyojX19QVVJFX18qL1xuXG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgSW50ZXJwcmV0ZXIgaW5zdGFuY2UgKGkuZS4sIHNlcnZpY2UpIGZvciB0aGUgZ2l2ZW4gbWFjaGluZSB3aXRoIHRoZSBwcm92aWRlZCBvcHRpb25zLCBpZiBhbnkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWFjaGluZSBUaGUgbWFjaGluZSB0byBiZSBpbnRlcnByZXRlZFxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEludGVycHJldGVyIG9wdGlvbnNcclxuICAgKi9cbiAgZnVuY3Rpb24gSW50ZXJwcmV0ZXIobWFjaGluZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBJbnRlcnByZXRlci5kZWZhdWx0T3B0aW9ucztcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5tYWNoaW5lID0gbWFjaGluZTtcbiAgICB0aGlzLmRlbGF5ZWRFdmVudHNNYXAgPSB7fTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLmNvbnRleHRMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5zdG9wTGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuZG9uZUxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuc2VuZExpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIHNlcnZpY2UgaXMgc3RhcnRlZC5cclxuICAgICAqL1xuXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RhdHVzID0gSW50ZXJwcmV0ZXJTdGF0dXMuTm90U3RhcnRlZDtcbiAgICB0aGlzLmNoaWxkcmVuID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZm9yd2FyZFRvID0gbmV3IFNldCgpO1xuICAgIHRoaXMuX291dGdvaW5nUXVldWUgPSBbXTtcbiAgICAvKipcclxuICAgICAqIEFsaWFzIGZvciBJbnRlcnByZXRlci5wcm90b3R5cGUuc3RhcnRcclxuICAgICAqL1xuXG4gICAgdGhpcy5pbml0ID0gdGhpcy5zdGFydDtcbiAgICAvKipcclxuICAgICAqIFNlbmRzIGFuIGV2ZW50IHRvIHRoZSBydW5uaW5nIGludGVycHJldGVyIHRvIHRyaWdnZXIgYSB0cmFuc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEFuIGFycmF5IG9mIGV2ZW50cyAoYmF0Y2hlZCkgY2FuIGJlIHNlbnQgYXMgd2VsbCwgd2hpY2ggd2lsbCBzZW5kIGFsbFxyXG4gICAgICogYmF0Y2hlZCBldmVudHMgdG8gdGhlIHJ1bm5pbmcgaW50ZXJwcmV0ZXIuIFRoZSBsaXN0ZW5lcnMgd2lsbCBiZVxyXG4gICAgICogbm90aWZpZWQgb25seSAqKm9uY2UqKiB3aGVuIGFsbCBldmVudHMgYXJlIHByb2Nlc3NlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50KHMpIHRvIHNlbmRcclxuICAgICAqL1xuXG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24gKGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgICAgX3RoaXMuYmF0Y2goZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9ldmVudCA9IHRvU0NYTUxFdmVudCh0b0V2ZW50T2JqZWN0KGV2ZW50LCBwYXlsb2FkKSk7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEludGVycHJldGVyU3RhdHVzLlN0b3BwZWQpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICAgICAgICB3YXJuKGZhbHNlLCBcIkV2ZW50IFxcXCJcIi5jb25jYXQoX2V2ZW50Lm5hbWUsIFwiXFxcIiB3YXMgc2VudCB0byBzdG9wcGVkIHNlcnZpY2UgXFxcIlwiKS5jb25jYXQoX3RoaXMubWFjaGluZS5pZCwgXCJcXFwiLiBUaGlzIHNlcnZpY2UgaGFzIGFscmVhZHkgcmVhY2hlZCBpdHMgZmluYWwgc3RhdGUsIGFuZCB3aWxsIG5vdCB0cmFuc2l0aW9uLlxcbkV2ZW50OiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KF9ldmVudC5kYXRhKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuc3RhdHVzICE9PSBJbnRlcnByZXRlclN0YXR1cy5SdW5uaW5nICYmICFfdGhpcy5vcHRpb25zLmRlZmVyRXZlbnRzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50IFxcXCJcIi5jb25jYXQoX2V2ZW50Lm5hbWUsIFwiXFxcIiB3YXMgc2VudCB0byB1bmluaXRpYWxpemVkIHNlcnZpY2UgXFxcIlwiKS5jb25jYXQoX3RoaXMubWFjaGluZS5pZCAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICwgXCJcXFwiLiBNYWtlIHN1cmUgLnN0YXJ0KCkgaXMgY2FsbGVkIGZvciB0aGlzIHNlcnZpY2UsIG9yIHNldCB7IGRlZmVyRXZlbnRzOiB0cnVlIH0gaW4gdGhlIHNlcnZpY2Ugb3B0aW9ucy5cXG5FdmVudDogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShfZXZlbnQuZGF0YSkpKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRm9yd2FyZCBjb3B5IG9mIGV2ZW50IHRvIGNoaWxkIGFjdG9yc1xuICAgICAgICBfdGhpcy5mb3J3YXJkKF9ldmVudCk7XG5cbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IF90aGlzLl9uZXh0U3RhdGUoX2V2ZW50KTtcblxuICAgICAgICBfdGhpcy51cGRhdGUobmV4dFN0YXRlLCBfZXZlbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfdGhpcy5fc3RhdGU7IC8vIFRPRE86IGRlcHJlY2F0ZSAoc2hvdWxkIHJldHVybiB2b2lkKVxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICAgIH07XG5cbiAgICB0aGlzLnNlbmRUbyA9IGZ1bmN0aW9uIChldmVudCwgdG8sIGltbWVkaWF0ZSkge1xuICAgICAgdmFyIGlzUGFyZW50ID0gX3RoaXMucGFyZW50ICYmICh0byA9PT0gU3BlY2lhbFRhcmdldHMuUGFyZW50IHx8IF90aGlzLnBhcmVudC5pZCA9PT0gdG8pO1xuICAgICAgdmFyIHRhcmdldCA9IGlzUGFyZW50ID8gX3RoaXMucGFyZW50IDogaXNTdHJpbmcodG8pID8gdG8gPT09IFNwZWNpYWxUYXJnZXRzLkludGVybmFsID8gX3RoaXMgOiBfdGhpcy5jaGlsZHJlbi5nZXQodG8pIHx8IHJlZ2lzdHJ5LmdldCh0bykgOiBpc0FjdG9yKHRvKSA/IHRvIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICBpZiAoIWlzUGFyZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHNlbmQgZXZlbnQgdG8gY2hpbGQgJ1wiLmNvbmNhdCh0bywgXCInIGZyb20gc2VydmljZSAnXCIpLmNvbmNhdChfdGhpcy5pZCwgXCInLlwiKSk7XG4gICAgICAgIH0gLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcblxuXG4gICAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICAgIHdhcm4oZmFsc2UsIFwiU2VydmljZSAnXCIuY29uY2F0KF90aGlzLmlkLCBcIicgaGFzIG5vIHBhcmVudDogdW5hYmxlIHRvIHNlbmQgZXZlbnQgXCIpLmNvbmNhdChldmVudC50eXBlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgnbWFjaGluZScgaW4gdGFyZ2V0KSB7XG4gICAgICAgIC8vIHBlcmhhcHMgdGhvc2UgZXZlbnRzIHNob3VsZCBiZSByZWplY3RlZCBpbiB0aGUgcGFyZW50XG4gICAgICAgIC8vIGJ1dCBhdG0gaXQgZG9lc24ndCBoYXZlIGVhc3kgYWNjZXNzIHRvIGFsbCBvZiB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyByZXF1aXJlZCB0byBkbyBpdCByZWxpYWJseVxuICAgICAgICBpZiAoX3RoaXMuc3RhdHVzICE9PSBJbnRlcnByZXRlclN0YXR1cy5TdG9wcGVkIHx8IF90aGlzLnBhcmVudCAhPT0gdGFyZ2V0IHx8IC8vIHdlIG5lZWQgdG8gc2VuZCBldmVudHMgdG8gdGhlIHBhcmVudCBmcm9tIGV4aXQgaGFuZGxlcnMgb2YgYSBtYWNoaW5lIHRoYXQgcmVhY2hlZCBpdHMgZmluYWwgc3RhdGVcbiAgICAgICAgX3RoaXMuc3RhdGUuZG9uZSkge1xuICAgICAgICAgIC8vIFNlbmQgU0NYTUwgZXZlbnRzIHRvIG1hY2hpbmVzXG4gICAgICAgICAgdmFyIHNjeG1sRXZlbnQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZXZlbnQpLCB7XG4gICAgICAgICAgICBuYW1lOiBldmVudC5uYW1lID09PSBlcnJvciQxID8gXCJcIi5jb25jYXQoZXJyb3IoX3RoaXMuaWQpKSA6IGV2ZW50Lm5hbWUsXG4gICAgICAgICAgICBvcmlnaW46IF90aGlzLnNlc3Npb25JZFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFpbW1lZGlhdGUgJiYgX3RoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMpIHtcbiAgICAgICAgICAgIF90aGlzLl9vdXRnb2luZ1F1ZXVlLnB1c2goW3RhcmdldCwgc2N4bWxFdmVudF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQuc2VuZChzY3htbEV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNlbmQgbm9ybWFsIGV2ZW50cyB0byBvdGhlciB0YXJnZXRzXG4gICAgICAgIGlmICghaW1tZWRpYXRlICYmIF90aGlzLm1hY2hpbmUuY29uZmlnLnByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzKSB7XG4gICAgICAgICAgX3RoaXMuX291dGdvaW5nUXVldWUucHVzaChbdGFyZ2V0LCBldmVudC5kYXRhXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0LnNlbmQoZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fZXhlYyA9IGZ1bmN0aW9uIChhY3Rpb24sIGNvbnRleHQsIF9ldmVudCwgYWN0aW9uRnVuY3Rpb25NYXApIHtcbiAgICAgIGlmIChhY3Rpb25GdW5jdGlvbk1hcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGFjdGlvbkZ1bmN0aW9uTWFwID0gX3RoaXMubWFjaGluZS5vcHRpb25zLmFjdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHZhciBhY3Rpb25PckV4ZWMgPSBhY3Rpb24uZXhlYyB8fCBnZXRBY3Rpb25GdW5jdGlvbihhY3Rpb24udHlwZSwgYWN0aW9uRnVuY3Rpb25NYXApO1xuICAgICAgdmFyIGV4ZWMgPSBpc0Z1bmN0aW9uKGFjdGlvbk9yRXhlYykgPyBhY3Rpb25PckV4ZWMgOiBhY3Rpb25PckV4ZWMgPyBhY3Rpb25PckV4ZWMuZXhlYyA6IGFjdGlvbi5leGVjO1xuXG4gICAgICBpZiAoZXhlYykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBleGVjKGNvbnRleHQsIF9ldmVudC5kYXRhLCAhX3RoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMgPyB7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIHN0YXRlOiBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIF9ldmVudDogX2V2ZW50XG4gICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgX2V2ZW50OiBfZXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKF90aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgX3RoaXMucGFyZW50LnNlbmQoe1xuICAgICAgICAgICAgICB0eXBlOiAneHN0YXRlLmVycm9yJyxcbiAgICAgICAgICAgICAgZGF0YTogZXJyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIHJhaXNlOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHJhaXNlIGFjdGlvbiByZWFjaGVkIHRoZSBpbnRlcnByZXRlciB0aGVuIGl0J3MgYSBkZWxheWVkIG9uZVxuICAgICAgICAgICAgdmFyIHNlbmRBY3Rpb25fMSA9IGFjdGlvbjtcblxuICAgICAgICAgICAgX3RoaXMuZGVmZXIoc2VuZEFjdGlvbl8xKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2Ugc2VuZDpcbiAgICAgICAgICB2YXIgc2VuZEFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygc2VuZEFjdGlvbi5kZWxheSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIF90aGlzLmRlZmVyKHNlbmRBY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzZW5kQWN0aW9uLnRvKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNlbmRUbyhzZW5kQWN0aW9uLl9ldmVudCwgc2VuZEFjdGlvbi50bywgX2V2ZW50ID09PSBpbml0RXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2VuZChzZW5kQWN0aW9uLl9ldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBjYW5jZWw6XG4gICAgICAgICAgX3RoaXMuY2FuY2VsKGFjdGlvbi5zZW5kSWQpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBzdGFydDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzICE9PSBJbnRlcnByZXRlclN0YXR1cy5SdW5uaW5nKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFjdGl2aXR5ID0gYWN0aW9uLmFjdGl2aXR5OyAvLyBJZiB0aGUgYWN0aXZpdHkgd2lsbCBiZSBzdG9wcGVkIHJpZ2h0IGFmdGVyIGl0J3Mgc3RhcnRlZFxuICAgICAgICAgICAgLy8gKHN1Y2ggYXMgaW4gdHJhbnNpZW50IHN0YXRlcylcbiAgICAgICAgICAgIC8vIGRvbid0IGJvdGhlciBzdGFydGluZyB0aGUgYWN0aXZpdHkuXG5cbiAgICAgICAgICAgIGlmICggLy8gaW4gdjQgd2l0aCBgcHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHNgIGludm9rZXMgYXJlIGNhbGxlZCBlYWdlcmx5IHdoZW4gdGhlIGB0aGlzLnN0YXRlYCBzdGlsbCBwb2ludHMgdG8gdGhlIHByZXZpb3VzIHN0YXRlXG4gICAgICAgICAgICAhX3RoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMgJiYgIV90aGlzLnN0YXRlLmFjdGl2aXRpZXNbYWN0aXZpdHkuaWQgfHwgYWN0aXZpdHkudHlwZV0pIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IC8vIEludm9rZWQgc2VydmljZXNcblxuXG4gICAgICAgICAgICBpZiAoYWN0aXZpdHkudHlwZSA9PT0gQWN0aW9uVHlwZXMuSW52b2tlKSB7XG4gICAgICAgICAgICAgIHZhciBpbnZva2VTb3VyY2UgPSB0b0ludm9rZVNvdXJjZShhY3Rpdml0eS5zcmMpO1xuICAgICAgICAgICAgICB2YXIgc2VydmljZUNyZWF0b3IgPSBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuc2VydmljZXMgPyBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuc2VydmljZXNbaW52b2tlU291cmNlLnR5cGVdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB2YXIgaWQgPSBhY3Rpdml0eS5pZCxcbiAgICAgICAgICAgICAgICAgIGRhdGEgPSBhY3Rpdml0eS5kYXRhO1xuXG4gICAgICAgICAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICAgICAgICAgIHdhcm4oISgnZm9yd2FyZCcgaW4gYWN0aXZpdHkpLCAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgXCJgZm9yd2FyZGAgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCAoZm91bmQgaW4gaW52b2NhdGlvbiBvZiAnXCIuY29uY2F0KGFjdGl2aXR5LnNyYywgXCInIGluIGluIG1hY2hpbmUgJ1wiKS5jb25jYXQoX3RoaXMubWFjaGluZS5pZCwgXCInKS4gXCIpICsgXCJQbGVhc2UgdXNlIGBhdXRvRm9yd2FyZGAgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgYXV0b0ZvcndhcmQgPSAnYXV0b0ZvcndhcmQnIGluIGFjdGl2aXR5ID8gYWN0aXZpdHkuYXV0b0ZvcndhcmQgOiAhIWFjdGl2aXR5LmZvcndhcmQ7XG5cbiAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlQ3JlYXRvcikge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgICB3YXJuKGZhbHNlLCBcIk5vIHNlcnZpY2UgZm91bmQgZm9yIGludm9jYXRpb24gJ1wiLmNvbmNhdChhY3Rpdml0eS5zcmMsIFwiJyBpbiBtYWNoaW5lICdcIikuY29uY2F0KF90aGlzLm1hY2hpbmUuaWQsIFwiJy5cIikpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciByZXNvbHZlZERhdGEgPSBkYXRhID8gbWFwQ29udGV4dChkYXRhLCBjb250ZXh0LCBfZXZlbnQpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VydmljZUNyZWF0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2FyblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBpc0Z1bmN0aW9uKHNlcnZpY2VDcmVhdG9yKSA/IHNlcnZpY2VDcmVhdG9yKGNvbnRleHQsIF9ldmVudC5kYXRhLCB7XG4gICAgICAgICAgICAgICAgZGF0YTogcmVzb2x2ZWREYXRhLFxuICAgICAgICAgICAgICAgIHNyYzogaW52b2tlU291cmNlLFxuICAgICAgICAgICAgICAgIG1ldGE6IGFjdGl2aXR5Lm1ldGFcbiAgICAgICAgICAgICAgfSkgOiBzZXJ2aWNlQ3JlYXRvcjtcblxuICAgICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHdhcm4/XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgaWYgKGlzTWFjaGluZShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gcmVzb2x2ZWREYXRhID8gc291cmNlLndpdGhDb250ZXh0KHJlc29sdmVkRGF0YSkgOiBzb3VyY2U7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIGF1dG9Gb3J3YXJkOiBhdXRvRm9yd2FyZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5zcGF3bihzb3VyY2UsIGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLnNwYXduQWN0aXZpdHkoYWN0aXZpdHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBzdG9wOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzLnN0b3BDaGlsZChhY3Rpb24uYWN0aXZpdHkuaWQpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBsb2c6XG4gICAgICAgICAgdmFyIF9hID0gYWN0aW9uLFxuICAgICAgICAgICAgICBsYWJlbCA9IF9hLmxhYmVsLFxuICAgICAgICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIobGFiZWwsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyKHZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICAgICAgd2FybihmYWxzZSwgXCJObyBpbXBsZW1lbnRhdGlvbiBmb3VuZCBmb3IgYWN0aW9uIHR5cGUgJ1wiLmNvbmNhdChhY3Rpb24udHlwZSwgXCInXCIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc29sdmVkT3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBJbnRlcnByZXRlci5kZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuXG4gICAgdmFyIGNsb2NrID0gcmVzb2x2ZWRPcHRpb25zLmNsb2NrLFxuICAgICAgICBsb2dnZXIgPSByZXNvbHZlZE9wdGlvbnMubG9nZ2VyLFxuICAgICAgICBwYXJlbnQgPSByZXNvbHZlZE9wdGlvbnMucGFyZW50LFxuICAgICAgICBpZCA9IHJlc29sdmVkT3B0aW9ucy5pZDtcbiAgICB2YXIgcmVzb2x2ZWRJZCA9IGlkICE9PSB1bmRlZmluZWQgPyBpZCA6IG1hY2hpbmUuaWQ7XG4gICAgdGhpcy5pZCA9IHJlc29sdmVkSWQ7XG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy5jbG9jayA9IGNsb2NrO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IHJlc29sdmVkT3B0aW9ucztcbiAgICB0aGlzLnNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoe1xuICAgICAgZGVmZXJFdmVudHM6IHRoaXMub3B0aW9ucy5kZWZlckV2ZW50c1xuICAgIH0pO1xuICAgIHRoaXMuc2Vzc2lvbklkID0gcmVnaXN0cnkuYm9va0lkKCk7XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJwcmV0ZXIucHJvdG90eXBlLCBcImluaXRpYWxTdGF0ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsU3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm92aWRlKHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2luaXRpYWxTdGF0ZSA9IF90aGlzLm1hY2hpbmUuaW5pdGlhbFN0YXRlO1xuICAgICAgICByZXR1cm4gX3RoaXMuX2luaXRpYWxTdGF0ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJwcmV0ZXIucHJvdG90eXBlLCBcInN0YXRlXCIsIHtcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBgLmdldFNuYXBzaG90KClgIGluc3RlYWQuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICB3YXJuKHRoaXMuc3RhdHVzICE9PSBJbnRlcnByZXRlclN0YXR1cy5Ob3RTdGFydGVkLCBcIkF0dGVtcHRlZCB0byByZWFkIHN0YXRlIGZyb20gdW5pbml0aWFsaXplZCBzZXJ2aWNlICdcIi5jb25jYXQodGhpcy5pZCwgXCInLiBNYWtlIHN1cmUgdGhlIHNlcnZpY2UgaXMgc3RhcnRlZCBmaXJzdC5cIikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIC8qKlxyXG4gICAqIEV4ZWN1dGVzIHRoZSBhY3Rpb25zIG9mIHRoZSBnaXZlbiBzdGF0ZSwgd2l0aCB0aGF0IHN0YXRlJ3MgYGNvbnRleHRgIGFuZCBgZXZlbnRgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB3aG9zZSBhY3Rpb25zIHdpbGwgYmUgZXhlY3V0ZWRcclxuICAgKiBAcGFyYW0gYWN0aW9uc0NvbmZpZyBUaGUgYWN0aW9uIGltcGxlbWVudGF0aW9ucyB0byB1c2VcclxuICAgKi9cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uc0NvbmZpZykge1xuICAgIHZhciBlXzEsIF9hO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoc3RhdGUuYWN0aW9ucyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IF9jLnZhbHVlO1xuICAgICAgICB0aGlzLmV4ZWMoYWN0aW9uLCBzdGF0ZSwgYWN0aW9uc0NvbmZpZyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgIGVfMSA9IHtcbiAgICAgICAgZXJyb3I6IGVfMV8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIF9ldmVudCkge1xuICAgIHZhciBlXzIsIF9hLCBlXzMsIF9iLCBlXzQsIF9jLCBlXzUsIF9kO1xuXG4gICAgdmFyIF90aGlzID0gdGhpczsgLy8gQXR0YWNoIHNlc3Npb24gSUQgdG8gc3RhdGVcblxuXG4gICAgc3RhdGUuX3Nlc3Npb25pZCA9IHRoaXMuc2Vzc2lvbklkOyAvLyBVcGRhdGUgc3RhdGVcblxuICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7IC8vIEV4ZWN1dGUgYWN0aW9uc1xuXG4gICAgaWYgKCghdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyB8fCAvLyB0aGlzIGlzIGN1cnJlbnRseSByZXF1aXJlZCB0byBleGVjdXRlIGluaXRpYWwgYWN0aW9ucyBhcyB0aGUgYGluaXRpYWxTdGF0ZWAgZ2V0cyBjYWNoZWRcbiAgICAvLyB3ZSBjYW4ndCBqdXN0IHJlY29tcHV0ZSBpdCAoYW5kIGV4ZWN1dGUgYWN0aW9ucyB3aGlsZSBkb2luZyBzbykgYmVjYXVzZSB3ZSB0cnkgdG8gcHJlc2VydmUgaWRlbnRpdHkgb2YgYWN0b3JzIGNyZWF0ZWQgd2l0aGluIGluaXRpYWwgYXNzaWduc1xuICAgIF9ldmVudCA9PT0gaW5pdEV2ZW50KSAmJiB0aGlzLm9wdGlvbnMuZXhlY3V0ZSkge1xuICAgICAgdGhpcy5leGVjdXRlKHRoaXMuc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcblxuICAgICAgd2hpbGUgKGl0ZW0gPSB0aGlzLl9vdXRnb2luZ1F1ZXVlLnNoaWZ0KCkpIHtcbiAgICAgICAgaXRlbVswXS5zZW5kKGl0ZW1bMV0pO1xuICAgICAgfVxuICAgIH0gLy8gVXBkYXRlIGNoaWxkcmVuXG5cblxuICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIF90aGlzLnN0YXRlLmNoaWxkcmVuW2NoaWxkLmlkXSA9IGNoaWxkO1xuICAgIH0pOyAvLyBEZXYgdG9vbHNcblxuICAgIGlmICh0aGlzLmRldlRvb2xzKSB7XG4gICAgICB0aGlzLmRldlRvb2xzLnNlbmQoX2V2ZW50LmRhdGEsIHN0YXRlKTtcbiAgICB9IC8vIEV4ZWN1dGUgbGlzdGVuZXJzXG5cblxuICAgIGlmIChzdGF0ZS5ldmVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2UgPSBfX3ZhbHVlcyh0aGlzLmV2ZW50TGlzdGVuZXJzKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IF9mLnZhbHVlO1xuICAgICAgICAgIGxpc3RlbmVyKHN0YXRlLmV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV8yXzEpIHtcbiAgICAgICAgZV8yID0ge1xuICAgICAgICAgIGVycm9yOiBlXzJfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9hID0gX2UucmV0dXJuKSkgX2EuY2FsbChfZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9nID0gX192YWx1ZXModGhpcy5saXN0ZW5lcnMpLCBfaCA9IF9nLm5leHQoKTsgIV9oLmRvbmU7IF9oID0gX2cubmV4dCgpKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9oLnZhbHVlO1xuICAgICAgICBsaXN0ZW5lcihzdGF0ZSwgc3RhdGUuZXZlbnQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfM18xKSB7XG4gICAgICBlXzMgPSB7XG4gICAgICAgIGVycm9yOiBlXzNfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9oICYmICFfaC5kb25lICYmIChfYiA9IF9nLnJldHVybikpIF9iLmNhbGwoX2cpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaiA9IF9fdmFsdWVzKHRoaXMuY29udGV4dExpc3RlbmVycyksIF9rID0gX2oubmV4dCgpOyAhX2suZG9uZTsgX2sgPSBfai5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGNvbnRleHRMaXN0ZW5lciA9IF9rLnZhbHVlO1xuICAgICAgICBjb250ZXh0TGlzdGVuZXIodGhpcy5zdGF0ZS5jb250ZXh0LCB0aGlzLnN0YXRlLmhpc3RvcnkgPyB0aGlzLnN0YXRlLmhpc3RvcnkuY29udGV4dCA6IHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV80XzEpIHtcbiAgICAgIGVfNCA9IHtcbiAgICAgICAgZXJyb3I6IGVfNF8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2sgJiYgIV9rLmRvbmUgJiYgKF9jID0gX2oucmV0dXJuKSkgX2MuY2FsbChfaik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuZG9uZSkge1xuICAgICAgLy8gZ2V0IGZpbmFsIGNoaWxkIHN0YXRlIG5vZGVcbiAgICAgIHZhciBmaW5hbENoaWxkU3RhdGVOb2RlID0gc3RhdGUuY29uZmlndXJhdGlvbi5maW5kKGZ1bmN0aW9uIChzbikge1xuICAgICAgICByZXR1cm4gc24udHlwZSA9PT0gJ2ZpbmFsJyAmJiBzbi5wYXJlbnQgPT09IF90aGlzLm1hY2hpbmU7XG4gICAgICB9KTtcbiAgICAgIHZhciBkb25lRGF0YSA9IGZpbmFsQ2hpbGRTdGF0ZU5vZGUgJiYgZmluYWxDaGlsZFN0YXRlTm9kZS5kb25lRGF0YSA/IG1hcENvbnRleHQoZmluYWxDaGlsZFN0YXRlTm9kZS5kb25lRGF0YSwgc3RhdGUuY29udGV4dCwgX2V2ZW50KSA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2RvbmVFdmVudCA9IGRvbmVJbnZva2UodGhpcy5pZCwgZG9uZURhdGEpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfbCA9IF9fdmFsdWVzKHRoaXMuZG9uZUxpc3RlbmVycyksIF9tID0gX2wubmV4dCgpOyAhX20uZG9uZTsgX20gPSBfbC5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBfbS52YWx1ZTtcbiAgICAgICAgICBsaXN0ZW5lcih0aGlzLl9kb25lRXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlXzVfMSkge1xuICAgICAgICBlXzUgPSB7XG4gICAgICAgICAgZXJyb3I6IGVfNV8xXG4gICAgICAgIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChfbSAmJiAhX20uZG9uZSAmJiAoX2QgPSBfbC5yZXR1cm4pKSBfZC5jYWxsKF9sKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3RvcCgpO1xuXG4gICAgICB0aGlzLl9zdG9wQ2hpbGRyZW4oKTtcblxuICAgICAgcmVnaXN0cnkuZnJlZSh0aGlzLnNlc3Npb25JZCk7XG4gICAgfVxuICB9O1xuICAvKlxyXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IGlzIG5vdGlmaWVkIHdoZW5ldmVyIGEgc3RhdGUgdHJhbnNpdGlvbiBoYXBwZW5zLiBUaGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdpdGhcclxuICAgKiB0aGUgbmV4dCBzdGF0ZSBhbmQgdGhlIGV2ZW50IG9iamVjdCB0aGF0IGNhdXNlZCB0aGUgc3RhdGUgdHJhbnNpdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgc3RhdGUgbGlzdGVuZXJcclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5vblRyYW5zaXRpb24gPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpOyAvLyBTZW5kIGN1cnJlbnQgc3RhdGUgdG8gbGlzdGVuZXJcblxuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gSW50ZXJwcmV0ZXJTdGF0dXMuUnVubmluZykge1xuICAgICAgbGlzdGVuZXIodGhpcy5zdGF0ZSwgdGhpcy5zdGF0ZS5ldmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChuZXh0TGlzdGVuZXJPck9ic2VydmVyLCBfLCAvLyBUT0RPOiBlcnJvciBsaXN0ZW5lclxuICBjb21wbGV0ZUxpc3RlbmVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvYnNlcnZlciA9IHRvT2JzZXJ2ZXIobmV4dExpc3RlbmVyT3JPYnNlcnZlciwgXywgY29tcGxldGVMaXN0ZW5lcik7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKG9ic2VydmVyLm5leHQpOyAvLyBTZW5kIGN1cnJlbnQgc3RhdGUgdG8gbGlzdGVuZXJcblxuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gSW50ZXJwcmV0ZXJTdGF0dXMuTm90U3RhcnRlZCkge1xuICAgICAgb2JzZXJ2ZXIubmV4dCh0aGlzLnN0YXRlKTtcbiAgICB9XG5cbiAgICB2YXIgY29tcGxldGVPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZG9uZUxpc3RlbmVycy5kZWxldGUoY29tcGxldGVPbmNlKTtcblxuICAgICAgX3RoaXMuc3RvcExpc3RlbmVycy5kZWxldGUoY29tcGxldGVPbmNlKTtcblxuICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBJbnRlcnByZXRlclN0YXR1cy5TdG9wcGVkKSB7XG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uRG9uZShjb21wbGV0ZU9uY2UpO1xuICAgICAgdGhpcy5vblN0b3AoY29tcGxldGVPbmNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMubGlzdGVuZXJzLmRlbGV0ZShvYnNlcnZlci5uZXh0KTtcblxuICAgICAgICBfdGhpcy5kb25lTGlzdGVuZXJzLmRlbGV0ZShjb21wbGV0ZU9uY2UpO1xuXG4gICAgICAgIF90aGlzLnN0b3BMaXN0ZW5lcnMuZGVsZXRlKGNvbXBsZXRlT25jZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgLyoqXHJcbiAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIG5vdGlmaWVkIHdoZW5ldmVyIGFuIGV2ZW50IGlzIHNlbnQgdG8gdGhlIHJ1bm5pbmcgaW50ZXJwcmV0ZXIuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBldmVudCBsaXN0ZW5lclxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLm9uRXZlbnQgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxyXG4gICAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBpcyBub3RpZmllZCB3aGVuZXZlciBhIGBzZW5kYCBldmVudCBvY2N1cnMuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBldmVudCBsaXN0ZW5lclxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLm9uU2VuZCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHRoaXMuc2VuZExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcclxuICAgKiBBZGRzIGEgY29udGV4dCBsaXN0ZW5lciB0aGF0IGlzIG5vdGlmaWVkIHdoZW5ldmVyIHRoZSBzdGF0ZSBjb250ZXh0IGNoYW5nZXMuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjb250ZXh0IGxpc3RlbmVyXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICB0aGlzLmNvbnRleHRMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgbWFjaGluZSBpcyBzdG9wcGVkLlxyXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXJcclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5vblN0b3AgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXHJcbiAgICogQWRkcyBhIHN0YXRlIGxpc3RlbmVyIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgc3RhdGVjaGFydCBoYXMgcmVhY2hlZCBpdHMgZmluYWwgc3RhdGUuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBzdGF0ZSBsaXN0ZW5lclxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLm9uRG9uZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gSW50ZXJwcmV0ZXJTdGF0dXMuU3RvcHBlZCAmJiB0aGlzLl9kb25lRXZlbnQpIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMuX2RvbmVFdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9uZUxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcclxuICAgKiBSZW1vdmVzIGEgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byByZW1vdmVcclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB0aGlzLnNlbmRMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB0aGlzLnN0b3BMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB0aGlzLmRvbmVMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB0aGlzLmNvbnRleHRMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXHJcbiAgICogU3RhcnRzIHRoZSBpbnRlcnByZXRlciBmcm9tIHRoZSBnaXZlbiBzdGF0ZSwgb3IgdGhlIGluaXRpYWwgc3RhdGUuXHJcbiAgICogQHBhcmFtIGluaXRpYWxTdGF0ZSBUaGUgc3RhdGUgdG8gc3RhcnQgdGhlIHN0YXRlY2hhcnQgZnJvbVxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEludGVycHJldGVyU3RhdHVzLlJ1bm5pbmcpIHtcbiAgICAgIC8vIERvIG5vdCByZXN0YXJ0IHRoZSBzZXJ2aWNlIGlmIGl0IGlzIGFscmVhZHkgc3RhcnRlZFxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyB5ZXMsIGl0J3MgYSBoYWNrIGJ1dCB3ZSBuZWVkIHRoZSByZWxhdGVkIGNhY2hlIHRvIGJlIHBvcHVsYXRlZCBmb3Igc29tZSB0aGluZ3MgdG8gd29yayAobGlrZSBkZWxheWVkIHRyYW5zaXRpb25zKVxuICAgIC8vIHRoaXMgaXMgdXN1YWxseSBjYWxsZWQgYnkgYG1hY2hpbmUuZ2V0SW5pdGlhbFN0YXRlYCBidXQgaWYgd2UgcmVoeWRyYXRlIGZyb20gYSBzdGF0ZSB3ZSBtaWdodCBieXBhc3MgdGhpcyBjYWxsXG4gICAgLy8gd2UgYWxzbyBkb24ndCB3YW50IHRvIGNhbGwgdGhpcyBtZXRob2QgaGVyZSBhcyBpdCByZXNvbHZlcyB0aGUgZnVsbCBpbml0aWFsIHN0YXRlIHdoaWNoIG1pZ2h0IGludm9sdmUgY2FsbGluZyBhc3NpZ24gYWN0aW9uc1xuICAgIC8vIGFuZCB0aGF0IGNvdWxkIHBvdGVudGlhbGx5IGxlYWQgdG8gc29tZSB1bndhbnRlZCBzaWRlLWVmZmVjdHMgKGV2ZW4gc3VjaCBhcyBjcmVhdGluZyBzb21lIHJvZ3VlIGFjdG9ycylcblxuXG4gICAgdGhpcy5tYWNoaW5lLl9pbml0KCk7XG5cbiAgICByZWdpc3RyeS5yZWdpc3Rlcih0aGlzLnNlc3Npb25JZCwgdGhpcyk7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5zdGF0dXMgPSBJbnRlcnByZXRlclN0YXR1cy5SdW5uaW5nO1xuICAgIHZhciByZXNvbHZlZFN0YXRlID0gaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQgPyB0aGlzLmluaXRpYWxTdGF0ZSA6IHByb3ZpZGUodGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGlzU3RhdGVDb25maWcoaW5pdGlhbFN0YXRlKSA/IF90aGlzLm1hY2hpbmUucmVzb2x2ZVN0YXRlKGluaXRpYWxTdGF0ZSkgOiBfdGhpcy5tYWNoaW5lLnJlc29sdmVTdGF0ZShTdGF0ZS5mcm9tKGluaXRpYWxTdGF0ZSwgX3RoaXMubWFjaGluZS5jb250ZXh0KSk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRldlRvb2xzKSB7XG4gICAgICB0aGlzLmF0dGFjaERldigpO1xuICAgIH1cblxuICAgIHRoaXMuc2NoZWR1bGVyLmluaXRpYWxpemUoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMudXBkYXRlKHJlc29sdmVkU3RhdGUsIGluaXRFdmVudCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLl9zdG9wQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ETzogdGhpbmsgYWJvdXQgY29udmVydGluZyB0aG9zZSB0byBhY3Rpb25zXG4gICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oY2hpbGQuc3RvcCkpIHtcbiAgICAgICAgY2hpbGQuc3RvcCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuX3N0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVfNiwgX2EsIGVfNywgX2IsIGVfOCwgX2MsIGVfOSwgX2QsIGVfMTAsIF9lO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9mID0gX192YWx1ZXModGhpcy5saXN0ZW5lcnMpLCBfZyA9IF9mLm5leHQoKTsgIV9nLmRvbmU7IF9nID0gX2YubmV4dCgpKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9nLnZhbHVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfNl8xKSB7XG4gICAgICBlXzYgPSB7XG4gICAgICAgIGVycm9yOiBlXzZfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9nICYmICFfZy5kb25lICYmIChfYSA9IF9mLnJldHVybikpIF9hLmNhbGwoX2YpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfNikgdGhyb3cgZV82LmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaCA9IF9fdmFsdWVzKHRoaXMuc3RvcExpc3RlbmVycyksIF9qID0gX2gubmV4dCgpOyAhX2ouZG9uZTsgX2ogPSBfaC5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gX2oudmFsdWU7IC8vIGNhbGwgbGlzdGVuZXIsIHRoZW4gcmVtb3ZlXG5cbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5zdG9wTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV83XzEpIHtcbiAgICAgIGVfNyA9IHtcbiAgICAgICAgZXJyb3I6IGVfN18xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2ogJiYgIV9qLmRvbmUgJiYgKF9iID0gX2gucmV0dXJuKSkgX2IuY2FsbChfaCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV83KSB0aHJvdyBlXzcuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9rID0gX192YWx1ZXModGhpcy5jb250ZXh0TGlzdGVuZXJzKSwgX2wgPSBfay5uZXh0KCk7ICFfbC5kb25lOyBfbCA9IF9rLm5leHQoKSkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBfbC52YWx1ZTtcbiAgICAgICAgdGhpcy5jb250ZXh0TGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV84XzEpIHtcbiAgICAgIGVfOCA9IHtcbiAgICAgICAgZXJyb3I6IGVfOF8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2wgJiYgIV9sLmRvbmUgJiYgKF9jID0gX2sucmV0dXJuKSkgX2MuY2FsbChfayk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV84KSB0aHJvdyBlXzguZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9tID0gX192YWx1ZXModGhpcy5kb25lTGlzdGVuZXJzKSwgX28gPSBfbS5uZXh0KCk7ICFfby5kb25lOyBfbyA9IF9tLm5leHQoKSkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBfby52YWx1ZTtcbiAgICAgICAgdGhpcy5kb25lTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV85XzEpIHtcbiAgICAgIGVfOSA9IHtcbiAgICAgICAgZXJyb3I6IGVfOV8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX28gJiYgIV9vLmRvbmUgJiYgKF9kID0gX20ucmV0dXJuKSkgX2QuY2FsbChfbSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV85KSB0aHJvdyBlXzkuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAvLyBJbnRlcnByZXRlciBhbHJlYWR5IHN0b3BwZWQ7IGRvIG5vdGhpbmdcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXR1cyA9IEludGVycHJldGVyU3RhdHVzLlN0b3BwZWQ7XG4gICAgdGhpcy5faW5pdGlhbFN0YXRlID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIHdlIGFyZSBnb2luZyB0byBzdG9wIHdpdGhpbiB0aGUgY3VycmVudCBzeW5jIGZyYW1lXG4gICAgICAvLyBzbyB3ZSBjYW4gc2FmZWx5IGp1c3QgY2FuY2VsIHRoaXMgaGVyZSBhcyBub3RoaW5nIGFzeW5jIHNob3VsZCBiZSBmaXJlZCBhbnl3YXlcbiAgICAgIGZvciAodmFyIF9wID0gX192YWx1ZXMoT2JqZWN0LmtleXModGhpcy5kZWxheWVkRXZlbnRzTWFwKSksIF9xID0gX3AubmV4dCgpOyAhX3EuZG9uZTsgX3EgPSBfcC5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGtleSA9IF9xLnZhbHVlO1xuICAgICAgICB0aGlzLmNsb2NrLmNsZWFyVGltZW91dCh0aGlzLmRlbGF5ZWRFdmVudHNNYXBba2V5XSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8xMF8xKSB7XG4gICAgICBlXzEwID0ge1xuICAgICAgICBlcnJvcjogZV8xMF8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX3EgJiYgIV9xLmRvbmUgJiYgKF9lID0gX3AucmV0dXJuKSkgX2UuY2FsbChfcCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8xMCkgdGhyb3cgZV8xMC5lcnJvcjtcbiAgICAgIH1cbiAgICB9IC8vIGNsZWFyIGV2ZXJ5dGhpbmcgdGhhdCBtaWdodCBiZSBlbnF1ZXVlZFxuXG5cbiAgICB0aGlzLnNjaGVkdWxlci5jbGVhcigpO1xuICAgIHRoaXMuc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcih7XG4gICAgICBkZWZlckV2ZW50czogdGhpcy5vcHRpb25zLmRlZmVyRXZlbnRzXG4gICAgfSk7XG4gIH07XG4gIC8qKlxyXG4gICAqIFN0b3BzIHRoZSBpbnRlcnByZXRlciBhbmQgdW5zdWJzY3JpYmUgYWxsIGxpc3RlbmVycy5cclxuICAgKlxyXG4gICAqIFRoaXMgd2lsbCBhbHNvIG5vdGlmeSB0aGUgYG9uU3RvcGAgbGlzdGVuZXJzLlxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ETzogYWRkIHdhcm5pbmcgZm9yIHN0b3BwaW5nIG5vbi1yb290IGludGVycHJldGVyc1xuICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIGdyYWIgdGhlIGN1cnJlbnQgc2NoZWR1bGVyIGFzIGl0IHdpbGwgYmUgcmVwbGFjZWQgaW4gX3N0b3BcblxuXG4gICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuXG4gICAgdGhpcy5fc3RvcCgpOyAvLyBsZXQgd2hhdCBpcyBjdXJyZW50bHkgcHJvY2Vzc2VkIHRvIGJlIGZpbmlzaGVkXG5cblxuICAgIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGlmICgoX2EgPSBfdGhpcy5fc3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kb25lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaXQgZmVlbHMgd2VpcmQgdG8gaGFuZGxlIHRoaXMgaGVyZSBidXQgd2UgbmVlZCB0byBoYW5kbGUgdGhpcyBldmVuIHNsaWdodGx5IFwib3V0IG9mIGJhbmRcIlxuXG5cbiAgICAgIHZhciBfZXZlbnQgPSB0b1NDWE1MRXZlbnQoe1xuICAgICAgICB0eXBlOiAneHN0YXRlLnN0b3AnXG4gICAgICB9KTtcblxuICAgICAgdmFyIG5leHRTdGF0ZSA9IHByb3ZpZGUoX3RoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV4aXRBY3Rpb25zID0gZmxhdHRlbihfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoX3RoaXMuc3RhdGUuY29uZmlndXJhdGlvbiksIGZhbHNlKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGIub3JkZXIgLSBhLm9yZGVyO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHN0YXRlTm9kZSkge1xuICAgICAgICAgIHJldHVybiB0b0FjdGlvbk9iamVjdHMoc3RhdGVOb2RlLm9uRXhpdCwgX3RoaXMubWFjaGluZS5vcHRpb25zLmFjdGlvbnMpO1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgdmFyIF9hID0gX19yZWFkKHJlc29sdmVBY3Rpb25zKF90aGlzLm1hY2hpbmUsIF90aGlzLnN0YXRlLCBfdGhpcy5zdGF0ZS5jb250ZXh0LCBfZXZlbnQsIFt7XG4gICAgICAgICAgdHlwZTogJ2V4aXQnLFxuICAgICAgICAgIGFjdGlvbnM6IGV4aXRBY3Rpb25zXG4gICAgICAgIH1dLCBfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyA/IF90aGlzLl9leGVjIDogdW5kZWZpbmVkLCBfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyB8fCBfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVzZXJ2ZUFjdGlvbk9yZGVyKSwgMiksXG4gICAgICAgICAgICByZXNvbHZlZEFjdGlvbnMgPSBfYVswXSxcbiAgICAgICAgICAgIHVwZGF0ZWRDb250ZXh0ID0gX2FbMV07XG5cbiAgICAgICAgdmFyIG5ld1N0YXRlID0gbmV3IFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZTogX3RoaXMuc3RhdGUudmFsdWUsXG4gICAgICAgICAgY29udGV4dDogdXBkYXRlZENvbnRleHQsXG4gICAgICAgICAgX2V2ZW50OiBfZXZlbnQsXG4gICAgICAgICAgX3Nlc3Npb25pZDogX3RoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgIGhpc3RvcnlWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGhpc3Rvcnk6IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGFjdGlvbnM6IHJlc29sdmVkQWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuICFpc1JhaXNhYmxlQWN0aW9uKGFjdGlvbik7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgYWN0aXZpdGllczoge30sXG4gICAgICAgICAgZXZlbnRzOiBbXSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uOiBbXSxcbiAgICAgICAgICB0cmFuc2l0aW9uczogW10sXG4gICAgICAgICAgY2hpbGRyZW46IHt9LFxuICAgICAgICAgIGRvbmU6IF90aGlzLnN0YXRlLmRvbmUsXG4gICAgICAgICAgdGFnczogX3RoaXMuc3RhdGUudGFncyxcbiAgICAgICAgICBtYWNoaW5lOiBfdGhpcy5tYWNoaW5lXG4gICAgICAgIH0pO1xuICAgICAgICBuZXdTdGF0ZS5jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnVwZGF0ZShuZXh0U3RhdGUsIF9ldmVudCk7XG5cbiAgICAgIF90aGlzLl9zdG9wQ2hpbGRyZW4oKTtcblxuICAgICAgcmVnaXN0cnkuZnJlZShfdGhpcy5zZXNzaW9uSWQpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5iYXRjaCA9IGZ1bmN0aW9uIChldmVudHMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBJbnRlcnByZXRlclN0YXR1cy5Ob3RTdGFydGVkICYmIHRoaXMub3B0aW9ucy5kZWZlckV2ZW50cykge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICB3YXJuKGZhbHNlLCBcIlwiLmNvbmNhdChldmVudHMubGVuZ3RoLCBcIiBldmVudChzKSB3ZXJlIHNlbnQgdG8gdW5pbml0aWFsaXplZCBzZXJ2aWNlIFxcXCJcIikuY29uY2F0KHRoaXMubWFjaGluZS5pZCwgXCJcXFwiIGFuZCBhcmUgZGVmZXJyZWQuIE1ha2Ugc3VyZSAuc3RhcnQoKSBpcyBjYWxsZWQgZm9yIHRoaXMgc2VydmljZS5cXG5FdmVudDogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShldmVudCkpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzICE9PSBJbnRlcnByZXRlclN0YXR1cy5SdW5uaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgIFwiXCIuY29uY2F0KGV2ZW50cy5sZW5ndGgsIFwiIGV2ZW50KHMpIHdlcmUgc2VudCB0byB1bmluaXRpYWxpemVkIHNlcnZpY2UgXFxcIlwiKS5jb25jYXQodGhpcy5tYWNoaW5lLmlkLCBcIlxcXCIuIE1ha2Ugc3VyZSAuc3RhcnQoKSBpcyBjYWxsZWQgZm9yIHRoaXMgc2VydmljZSwgb3Igc2V0IHsgZGVmZXJFdmVudHM6IHRydWUgfSBpbiB0aGUgc2VydmljZSBvcHRpb25zLlwiKSk7XG4gICAgfVxuXG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGV4ZWMgPSAhIXRoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMgJiYgdGhpcy5fZXhlYztcbiAgICB0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZV8xMSwgX2E7XG5cbiAgICAgIHZhciBuZXh0U3RhdGUgPSBfdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBiYXRjaENoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHZhciBiYXRjaGVkQWN0aW9ucyA9IFtdO1xuXG4gICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChldmVudF8xKSB7XG4gICAgICAgIHZhciBfZXZlbnQgPSB0b1NDWE1MRXZlbnQoZXZlbnRfMSk7XG5cbiAgICAgICAgX3RoaXMuZm9yd2FyZChfZXZlbnQpO1xuXG4gICAgICAgIG5leHRTdGF0ZSA9IHByb3ZpZGUoX3RoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMubWFjaGluZS50cmFuc2l0aW9uKG5leHRTdGF0ZSwgX2V2ZW50LCB1bmRlZmluZWQsIGV4ZWMgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJhdGNoZWRBY3Rpb25zLnB1c2guYXBwbHkoYmF0Y2hlZEFjdGlvbnMsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyA/IG5leHRTdGF0ZS5hY3Rpb25zIDogbmV4dFN0YXRlLmFjdGlvbnMubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgcmV0dXJuIGJpbmRBY3Rpb25Ub1N0YXRlKGEsIG5leHRTdGF0ZSk7XG4gICAgICAgIH0pKSwgZmFsc2UpKTtcbiAgICAgICAgYmF0Y2hDaGFuZ2VkID0gYmF0Y2hDaGFuZ2VkIHx8ICEhbmV4dFN0YXRlLmNoYW5nZWQ7XG4gICAgICB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBldmVudHNfMSA9IF9fdmFsdWVzKGV2ZW50cyksIGV2ZW50c18xXzEgPSBldmVudHNfMS5uZXh0KCk7ICFldmVudHNfMV8xLmRvbmU7IGV2ZW50c18xXzEgPSBldmVudHNfMS5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgZXZlbnRfMSA9IGV2ZW50c18xXzEudmFsdWU7XG5cbiAgICAgICAgICBfbG9vcF8xKGV2ZW50XzEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlXzExXzEpIHtcbiAgICAgICAgZV8xMSA9IHtcbiAgICAgICAgICBlcnJvcjogZV8xMV8xXG4gICAgICAgIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChldmVudHNfMV8xICYmICFldmVudHNfMV8xLmRvbmUgJiYgKF9hID0gZXZlbnRzXzEucmV0dXJuKSkgX2EuY2FsbChldmVudHNfMSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGVfMTEpIHRocm93IGVfMTEuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmV4dFN0YXRlLmNoYW5nZWQgPSBiYXRjaENoYW5nZWQ7XG4gICAgICBuZXh0U3RhdGUuYWN0aW9ucyA9IGJhdGNoZWRBY3Rpb25zO1xuXG4gICAgICBfdGhpcy51cGRhdGUobmV4dFN0YXRlLCB0b1NDWE1MRXZlbnQoZXZlbnRzW2V2ZW50cy5sZW5ndGggLSAxXSkpO1xuICAgIH0pO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIGEgc2VuZCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIGludGVycHJldGVyIGluc3RhbmNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBiZSBzZW50IGJ5IHRoZSBzZW5kZXIuXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc2VuZGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZC5iaW5kKHRoaXMsIGV2ZW50KTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuX25leHRTdGF0ZSA9IGZ1bmN0aW9uIChldmVudCwgZXhlYykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoZXhlYyA9PT0gdm9pZCAwKSB7XG4gICAgICBleGVjID0gISF0aGlzLm1hY2hpbmUuY29uZmlnLnByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzICYmIHRoaXMuX2V4ZWM7XG4gICAgfVxuXG4gICAgdmFyIF9ldmVudCA9IHRvU0NYTUxFdmVudChldmVudCk7XG5cbiAgICBpZiAoX2V2ZW50Lm5hbWUuaW5kZXhPZihlcnJvclBsYXRmb3JtKSA9PT0gMCAmJiAhdGhpcy5zdGF0ZS5uZXh0RXZlbnRzLnNvbWUoZnVuY3Rpb24gKG5leHRFdmVudCkge1xuICAgICAgcmV0dXJuIG5leHRFdmVudC5pbmRleE9mKGVycm9yUGxhdGZvcm0pID09PSAwO1xuICAgIH0pKSB7XG4gICAgICB0aHJvdyBfZXZlbnQuZGF0YS5kYXRhO1xuICAgIH1cblxuICAgIHZhciBuZXh0U3RhdGUgPSBwcm92aWRlKHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5tYWNoaW5lLnRyYW5zaXRpb24oX3RoaXMuc3RhdGUsIF9ldmVudCwgdW5kZWZpbmVkLCBleGVjIHx8IHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfTtcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbmV4dCBzdGF0ZSBnaXZlbiB0aGUgaW50ZXJwcmV0ZXIncyBjdXJyZW50IHN0YXRlIGFuZCB0aGUgZXZlbnQuXHJcbiAgICpcclxuICAgKiBUaGlzIGlzIGEgcHVyZSBtZXRob2QgdGhhdCBkb2VzIF9ub3RfIHVwZGF0ZSB0aGUgaW50ZXJwcmV0ZXIncyBzdGF0ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gZGV0ZXJtaW5lIHRoZSBuZXh0IHN0YXRlXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUubmV4dFN0YXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX25leHRTdGF0ZShldmVudCwgZmFsc2UpO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5mb3J3YXJkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGVfMTIsIF9hO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5mb3J3YXJkVG8pLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgIHZhciBpZCA9IF9jLnZhbHVlO1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuLmdldChpZCk7XG5cbiAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmb3J3YXJkIGV2ZW50ICdcIi5jb25jYXQoZXZlbnQsIFwiJyBmcm9tIGludGVycHJldGVyICdcIikuY29uY2F0KHRoaXMuaWQsIFwiJyB0byBub25leGlzdGFudCBjaGlsZCAnXCIpLmNvbmNhdChpZCwgXCInLlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZC5zZW5kKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzEyXzEpIHtcbiAgICAgIGVfMTIgPSB7XG4gICAgICAgIGVycm9yOiBlXzEyXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzEyKSB0aHJvdyBlXzEyLmVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuZGVmZXIgPSBmdW5jdGlvbiAoc2VuZEFjdGlvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgdGltZXJJZCA9IHRoaXMuY2xvY2suc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJ3RvJyBpbiBzZW5kQWN0aW9uICYmIHNlbmRBY3Rpb24udG8pIHtcbiAgICAgICAgX3RoaXMuc2VuZFRvKHNlbmRBY3Rpb24uX2V2ZW50LCBzZW5kQWN0aW9uLnRvLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNlbmQoc2VuZEFjdGlvbi5fZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIHNlbmRBY3Rpb24uZGVsYXkpO1xuXG4gICAgaWYgKHNlbmRBY3Rpb24uaWQpIHtcbiAgICAgIHRoaXMuZGVsYXllZEV2ZW50c01hcFtzZW5kQWN0aW9uLmlkXSA9IHRpbWVySWQ7XG4gICAgfVxuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoc2VuZElkKSB7XG4gICAgdGhpcy5jbG9jay5jbGVhclRpbWVvdXQodGhpcy5kZWxheWVkRXZlbnRzTWFwW3NlbmRJZF0pO1xuICAgIGRlbGV0ZSB0aGlzLmRlbGF5ZWRFdmVudHNNYXBbc2VuZElkXTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uIChhY3Rpb24sIHN0YXRlLCBhY3Rpb25GdW5jdGlvbk1hcCkge1xuICAgIGlmIChhY3Rpb25GdW5jdGlvbk1hcCA9PT0gdm9pZCAwKSB7XG4gICAgICBhY3Rpb25GdW5jdGlvbk1hcCA9IHRoaXMubWFjaGluZS5vcHRpb25zLmFjdGlvbnM7XG4gICAgfVxuXG4gICAgdGhpcy5fZXhlYyhhY3Rpb24sIHN0YXRlLmNvbnRleHQsIHN0YXRlLl9ldmVudCwgYWN0aW9uRnVuY3Rpb25NYXApO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZElkKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5kZWxldGUoY2hpbGRJZCk7XG4gICAgdGhpcy5mb3J3YXJkVG8uZGVsZXRlKGNoaWxkSWQpOyAvLyB0aGlzLnN0YXRlIG1pZ2h0IG5vdCBleGlzdCBhdCB0aGUgdGltZSB0aGlzIGlzIGNhbGxlZCxcbiAgICAvLyBzdWNoIGFzIHdoZW4gYSBjaGlsZCBpcyBhZGRlZCB0aGVuIHJlbW92ZWQgd2hpbGUgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZVxuXG4gICAgKF9hID0gdGhpcy5zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHRydWUgOiBkZWxldGUgX2EuY2hpbGRyZW5bY2hpbGRJZF07XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnN0b3BDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZElkKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbi5nZXQoY2hpbGRJZCk7XG5cbiAgICBpZiAoIWNoaWxkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZElkKTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNoaWxkLnN0b3ApKSB7XG4gICAgICBjaGlsZC5zdG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5zcGF3biA9IGZ1bmN0aW9uIChlbnRpdHksIG5hbWUsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgIT09IEludGVycHJldGVyU3RhdHVzLlJ1bm5pbmcpIHtcbiAgICAgIHJldHVybiBjcmVhdGVEZWZlcnJlZEFjdG9yKGVudGl0eSwgbmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzUHJvbWlzZUxpa2UoZW50aXR5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Bhd25Qcm9taXNlKFByb21pc2UucmVzb2x2ZShlbnRpdHkpLCBuYW1lKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZW50aXR5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Bhd25DYWxsYmFjayhlbnRpdHksIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoaXNTcGF3bmVkQWN0b3IoZW50aXR5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Bhd25BY3RvcihlbnRpdHksIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlKGVudGl0eSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYXduT2JzZXJ2YWJsZShlbnRpdHksIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoaXNNYWNoaW5lKGVudGl0eSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYXduTWFjaGluZShlbnRpdHksIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwge1xuICAgICAgICBpZDogbmFtZVxuICAgICAgfSkpO1xuICAgIH0gZWxzZSBpZiAoaXNCZWhhdmlvcihlbnRpdHkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGF3bkJlaGF2aW9yKGVudGl0eSwgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzcGF3biBlbnRpdHkgXFxcIlwiLmNvbmNhdChuYW1lLCBcIlxcXCIgb2YgdHlwZSBcXFwiXCIpLmNvbmNhdCh0eXBlb2YgZW50aXR5LCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduTWFjaGluZSA9IGZ1bmN0aW9uIChtYWNoaW5lLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRTZXJ2aWNlID0gbmV3IEludGVycHJldGVyKG1hY2hpbmUsIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICBpZDogb3B0aW9ucy5pZCB8fCBtYWNoaW5lLmlkXG4gICAgfSkpO1xuXG4gICAgdmFyIHJlc29sdmVkT3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX1NQQVdOX09QVElPTlMpLCBvcHRpb25zKTtcblxuICAgIGlmIChyZXNvbHZlZE9wdGlvbnMuc3luYykge1xuICAgICAgY2hpbGRTZXJ2aWNlLm9uVHJhbnNpdGlvbihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgX3RoaXMuc2VuZCh1cGRhdGUsIHtcbiAgICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgICAgaWQ6IGNoaWxkU2VydmljZS5pZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBhY3RvciA9IGNoaWxkU2VydmljZTtcbiAgICB0aGlzLmNoaWxkcmVuLnNldChjaGlsZFNlcnZpY2UuaWQsIGFjdG9yKTtcblxuICAgIGlmIChyZXNvbHZlZE9wdGlvbnMuYXV0b0ZvcndhcmQpIHtcbiAgICAgIHRoaXMuZm9yd2FyZFRvLmFkZChjaGlsZFNlcnZpY2UuaWQpO1xuICAgIH1cblxuICAgIGNoaWxkU2VydmljZS5vbkRvbmUoZnVuY3Rpb24gKGRvbmVFdmVudCkge1xuICAgICAgX3RoaXMucmVtb3ZlQ2hpbGQoY2hpbGRTZXJ2aWNlLmlkKTtcblxuICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQoZG9uZUV2ZW50LCB7XG4gICAgICAgIG9yaWdpbjogY2hpbGRTZXJ2aWNlLmlkXG4gICAgICB9KSk7XG4gICAgfSkuc3RhcnQoKTtcbiAgICByZXR1cm4gYWN0b3I7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduQmVoYXZpb3IgPSBmdW5jdGlvbiAoYmVoYXZpb3IsIGlkKSB7XG4gICAgdmFyIGFjdG9yUmVmID0gc3Bhd25CZWhhdmlvcihiZWhhdmlvciwge1xuICAgICAgaWQ6IGlkLFxuICAgICAgcGFyZW50OiB0aGlzXG4gICAgfSk7XG4gICAgdGhpcy5jaGlsZHJlbi5zZXQoaWQsIGFjdG9yUmVmKTtcbiAgICByZXR1cm4gYWN0b3JSZWY7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlLCBpZCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2FuY2VsZWQgPSBmYWxzZTtcbiAgICB2YXIgcmVzb2x2ZWREYXRhO1xuICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmICghY2FuY2VsZWQpIHtcbiAgICAgICAgcmVzb2x2ZWREYXRhID0gcmVzcG9uc2U7XG5cbiAgICAgICAgX3RoaXMucmVtb3ZlQ2hpbGQoaWQpO1xuXG4gICAgICAgIF90aGlzLnNlbmQodG9TQ1hNTEV2ZW50KGRvbmVJbnZva2UoaWQsIHJlc3BvbnNlKSwge1xuICAgICAgICAgIG9yaWdpbjogaWRcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnJvckRhdGEpIHtcbiAgICAgIGlmICghY2FuY2VsZWQpIHtcbiAgICAgICAgX3RoaXMucmVtb3ZlQ2hpbGQoaWQpO1xuXG4gICAgICAgIHZhciBlcnJvckV2ZW50ID0gZXJyb3IoaWQsIGVycm9yRGF0YSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTZW5kIFwiZXJyb3IucGxhdGZvcm0uaWRcIiB0byB0aGlzIChwYXJlbnQpLlxuICAgICAgICAgIF90aGlzLnNlbmQodG9TQ1hNTEV2ZW50KGVycm9yRXZlbnQsIHtcbiAgICAgICAgICAgIG9yaWdpbjogaWRcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVwb3J0VW5oYW5kbGVkRXhjZXB0aW9uT25JbnZvY2F0aW9uKGVycm9yRGF0YSwgZXJyb3IsIGlkKTtcblxuICAgICAgICAgIGlmIChfdGhpcy5kZXZUb29scykge1xuICAgICAgICAgICAgX3RoaXMuZGV2VG9vbHMuc2VuZChlcnJvckV2ZW50LCBfdGhpcy5zdGF0ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzLm1hY2hpbmUuc3RyaWN0KSB7XG4gICAgICAgICAgICAvLyBpdCB3b3VsZCBiZSBiZXR0ZXIgdG8gYWx3YXlzIHN0b3AgdGhlIHN0YXRlIG1hY2hpbmUgaWYgdW5oYW5kbGVkXG4gICAgICAgICAgICAvLyBleGNlcHRpb24vcHJvbWlzZSByZWplY3Rpb24gaGFwcGVucyBidXQgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgICAgICAvLyBicmVhayBleGlzdGluZyBjb2RlIHNvIGVuZm9yY2UgaXQgb24gc3RyaWN0IG1vZGUgb25seSBlc3BlY2lhbGx5IHNvXG4gICAgICAgICAgICAvLyBiZWNhdXNlIGRvY3VtZW50YXRpb24gc2F5cyB0aGF0IG9uRXJyb3IgaXMgb3B0aW9uYWxcbiAgICAgICAgICAgIF90aGlzLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgYWN0b3IgPSAoX2EgPSB7XG4gICAgICBpZDogaWQsXG4gICAgICBzZW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAobmV4dCwgaGFuZGxlRXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRvT2JzZXJ2ZXIobmV4dCwgaGFuZGxlRXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHVuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9ic2VydmVyLm5leHQocmVzcG9uc2UpO1xuXG4gICAgICAgICAgaWYgKHVuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpZiAodW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbmNlbGVkID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICB0b0pTT046IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogaWRcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWREYXRhO1xuICAgICAgfVxuICAgIH0sIF9hW3N5bWJvbE9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX2EpO1xuICAgIHRoaXMuY2hpbGRyZW4uc2V0KGlkLCBhY3Rvcik7XG4gICAgcmV0dXJuIGFjdG9yO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5zcGF3bkNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBpZCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2FuY2VsZWQgPSBmYWxzZTtcbiAgICB2YXIgcmVjZWl2ZXJzID0gbmV3IFNldCgpO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGVtaXR0ZWQ7XG5cbiAgICB2YXIgcmVjZWl2ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlbWl0dGVkID0gZTtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gbGlzdGVuZXIoZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGNhbmNlbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQoZSwge1xuICAgICAgICBvcmlnaW46IGlkXG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIHZhciBjYWxsYmFja1N0b3A7XG5cbiAgICB0cnkge1xuICAgICAgY2FsbGJhY2tTdG9wID0gY2FsbGJhY2socmVjZWl2ZSwgZnVuY3Rpb24gKG5ld0xpc3RlbmVyKSB7XG4gICAgICAgIHJlY2VpdmVycy5hZGQobmV3TGlzdGVuZXIpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLnNlbmQoZXJyb3IoaWQsIGVycikpO1xuICAgIH1cblxuICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrU3RvcCkpIHtcbiAgICAgIC8vIGl0IHR1cm5lZCBvdXQgdG8gYmUgYW4gYXN5bmMgZnVuY3Rpb24sIGNhbid0IHJlbGlhYmx5IGNoZWNrIHRoaXMgYmVmb3JlIGNhbGxpbmcgYGNhbGxiYWNrYFxuICAgICAgLy8gYmVjYXVzZSB0cmFuc3BpbGVkIGFzeW5jIGZ1bmN0aW9ucyBhcmUgbm90IHJlY29nbml6YWJsZVxuICAgICAgcmV0dXJuIHRoaXMuc3Bhd25Qcm9taXNlKGNhbGxiYWNrU3RvcCwgaWQpO1xuICAgIH1cblxuICAgIHZhciBhY3RvciA9IChfYSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHNlbmQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gcmVjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlY2VpdmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY2VpdmVyKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSB0b09ic2VydmVyKG5leHQpO1xuICAgICAgICBsaXN0ZW5lcnMuYWRkKG9ic2VydmVyLm5leHQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKG9ic2VydmVyLm5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbmNlbGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFja1N0b3ApKSB7XG4gICAgICAgICAgY2FsbGJhY2tTdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0b0pTT046IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogaWRcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZW1pdHRlZDtcbiAgICAgIH1cbiAgICB9LCBfYVtzeW1ib2xPYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9hKTtcbiAgICB0aGlzLmNoaWxkcmVuLnNldChpZCwgYWN0b3IpO1xuICAgIHJldHVybiBhY3RvcjtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Bhd25PYnNlcnZhYmxlID0gZnVuY3Rpb24gKHNvdXJjZSwgaWQpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGVtaXR0ZWQ7XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBlbWl0dGVkID0gdmFsdWU7XG5cbiAgICAgIF90aGlzLnNlbmQodG9TQ1hNTEV2ZW50KHZhbHVlLCB7XG4gICAgICAgIG9yaWdpbjogaWRcbiAgICAgIH0pKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBfdGhpcy5yZW1vdmVDaGlsZChpZCk7XG5cbiAgICAgIF90aGlzLnNlbmQodG9TQ1hNTEV2ZW50KGVycm9yKGlkLCBlcnIpLCB7XG4gICAgICAgIG9yaWdpbjogaWRcbiAgICAgIH0pKTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZW1vdmVDaGlsZChpZCk7XG5cbiAgICAgIF90aGlzLnNlbmQodG9TQ1hNTEV2ZW50KGRvbmVJbnZva2UoaWQpLCB7XG4gICAgICAgIG9yaWdpbjogaWRcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgICB2YXIgYWN0b3IgPSAoX2EgPSB7XG4gICAgICBpZDogaWQsXG4gICAgICBzZW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAobmV4dCwgaGFuZGxlRXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5leHQsIGhhbmRsZUVycm9yLCBjb21wbGV0ZSk7XG4gICAgICB9LFxuICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICAgZ2V0U25hcHNob3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZWQ7XG4gICAgICB9LFxuICAgICAgdG9KU09OOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGlkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX2Fbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfYSk7XG4gICAgdGhpcy5jaGlsZHJlbi5zZXQoaWQsIGFjdG9yKTtcbiAgICByZXR1cm4gYWN0b3I7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduQWN0b3IgPSBmdW5jdGlvbiAoYWN0b3IsIG5hbWUpIHtcbiAgICB0aGlzLmNoaWxkcmVuLnNldChuYW1lLCBhY3Rvcik7XG4gICAgcmV0dXJuIGFjdG9yO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5zcGF3bkFjdGl2aXR5ID0gZnVuY3Rpb24gKGFjdGl2aXR5KSB7XG4gICAgdmFyIGltcGxlbWVudGF0aW9uID0gdGhpcy5tYWNoaW5lLm9wdGlvbnMgJiYgdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aXZpdGllcyA/IHRoaXMubWFjaGluZS5vcHRpb25zLmFjdGl2aXRpZXNbYWN0aXZpdHkudHlwZV0gOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIWltcGxlbWVudGF0aW9uKSB7XG4gICAgICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICAgICAgd2FybihmYWxzZSwgXCJObyBpbXBsZW1lbnRhdGlvbiBmb3VuZCBmb3IgYWN0aXZpdHkgJ1wiLmNvbmNhdChhY3Rpdml0eS50eXBlLCBcIidcIikpO1xuICAgICAgfSAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuXG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFN0YXJ0IGltcGxlbWVudGF0aW9uXG5cblxuICAgIHZhciBkaXNwb3NlID0gaW1wbGVtZW50YXRpb24odGhpcy5zdGF0ZS5jb250ZXh0LCBhY3Rpdml0eSk7XG4gICAgdGhpcy5zcGF3bkVmZmVjdChhY3Rpdml0eS5pZCwgZGlzcG9zZSk7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduRWZmZWN0ID0gZnVuY3Rpb24gKGlkLCBkaXNwb3NlKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5zZXQoaWQsIChfYSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgc3RvcDogZGlzcG9zZSB8fCB1bmRlZmluZWQsXG4gICAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSxcbiAgICAgIHRvSlNPTjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIF9hW3N5bWJvbE9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX2EpKTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuYXR0YWNoRGV2ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWwoKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGV2VG9vbHMgJiYgZ2xvYmFsKSB7XG4gICAgICBpZiAoZ2xvYmFsLl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX18pIHtcbiAgICAgICAgdmFyIGRldlRvb2xzT3B0aW9ucyA9IHR5cGVvZiB0aGlzLm9wdGlvbnMuZGV2VG9vbHMgPT09ICdvYmplY3QnID8gdGhpcy5vcHRpb25zLmRldlRvb2xzIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRldlRvb2xzID0gZ2xvYmFsLl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX18uY29ubmVjdChfX2Fzc2lnbihfX2Fzc2lnbih7XG4gICAgICAgICAgbmFtZTogdGhpcy5pZCxcbiAgICAgICAgICBhdXRvUGF1c2U6IHRydWUsXG4gICAgICAgICAgc3RhdGVTYW5pdGl6ZXI6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICBjb250ZXh0OiBzdGF0ZS5jb250ZXh0LFxuICAgICAgICAgICAgICBhY3Rpb25zOiBzdGF0ZS5hY3Rpb25zXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZGV2VG9vbHNPcHRpb25zKSwge1xuICAgICAgICAgIGZlYXR1cmVzOiBfX2Fzc2lnbih7XG4gICAgICAgICAgICBqdW1wOiBmYWxzZSxcbiAgICAgICAgICAgIHNraXA6IGZhbHNlXG4gICAgICAgICAgfSwgZGV2VG9vbHNPcHRpb25zID8gZGV2VG9vbHNPcHRpb25zLmZlYXR1cmVzIDogdW5kZWZpbmVkKVxuICAgICAgICB9KSwgdGhpcy5tYWNoaW5lKTtcbiAgICAgICAgdGhpcy5kZXZUb29scy5pbml0KHRoaXMuc3RhdGUpO1xuICAgICAgfSAvLyBhZGQgWFN0YXRlLXNwZWNpZmljIGRldiB0b29saW5nIGhvb2tcblxuXG4gICAgICByZWdpc3RlclNlcnZpY2UodGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkXG4gICAgfTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGVbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLmdldFNuYXBzaG90ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gSW50ZXJwcmV0ZXJTdGF0dXMuTm90U3RhcnRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfTtcbiAgLyoqXHJcbiAgICogVGhlIGRlZmF1bHQgaW50ZXJwcmV0ZXIgb3B0aW9uczpcclxuICAgKlxyXG4gICAqIC0gYGNsb2NrYCB1c2VzIHRoZSBnbG9iYWwgYHNldFRpbWVvdXRgIGFuZCBgY2xlYXJUaW1lb3V0YCBmdW5jdGlvbnNcclxuICAgKiAtIGBsb2dnZXJgIHVzZXMgdGhlIGdsb2JhbCBgY29uc29sZS5sb2coKWAgbWV0aG9kXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBleGVjdXRlOiB0cnVlLFxuICAgIGRlZmVyRXZlbnRzOiB0cnVlLFxuICAgIGNsb2NrOiB7XG4gICAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoZm4sIG1zKSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZuLCBtcyk7XG4gICAgICB9LFxuICAgICAgY2xlYXJUaW1lb3V0OiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsb2dnZXI6IC8qI19fUFVSRV9fKi9jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLFxuICAgIGRldlRvb2xzOiBmYWxzZVxuICB9O1xuICBJbnRlcnByZXRlci5pbnRlcnByZXQgPSBpbnRlcnByZXQ7XG4gIHJldHVybiBJbnRlcnByZXRlcjtcbn0oKTtcblxudmFyIHJlc29sdmVTcGF3bk9wdGlvbnMgPSBmdW5jdGlvbiAobmFtZU9yT3B0aW9ucykge1xuICBpZiAoaXNTdHJpbmcobmFtZU9yT3B0aW9ucykpIHtcbiAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfU1BBV05fT1BUSU9OUyksIHtcbiAgICAgIG5hbWU6IG5hbWVPck9wdGlvbnNcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9TUEFXTl9PUFRJT05TKSwge1xuICAgIG5hbWU6IHVuaXF1ZUlkKClcbiAgfSksIG5hbWVPck9wdGlvbnMpO1xufTtcblxuZnVuY3Rpb24gc3Bhd24oZW50aXR5LCBuYW1lT3JPcHRpb25zKSB7XG4gIHZhciByZXNvbHZlZE9wdGlvbnMgPSByZXNvbHZlU3Bhd25PcHRpb25zKG5hbWVPck9wdGlvbnMpO1xuICByZXR1cm4gY29uc3VtZShmdW5jdGlvbiAoc2VydmljZSkge1xuICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgdmFyIGlzTGF6eUVudGl0eSA9IGlzTWFjaGluZShlbnRpdHkpIHx8IGlzRnVuY3Rpb24oZW50aXR5KTtcbiAgICAgIHdhcm4oISFzZXJ2aWNlIHx8IGlzTGF6eUVudGl0eSwgXCJBdHRlbXB0ZWQgdG8gc3Bhd24gYW4gQWN0b3IgKElEOiBcXFwiXCIuY29uY2F0KGlzTWFjaGluZShlbnRpdHkpID8gZW50aXR5LmlkIDogJ3VuZGVmaW5lZCcsIFwiXFxcIikgb3V0c2lkZSBvZiBhIHNlcnZpY2UuIFRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cIikpO1xuICAgIH1cblxuICAgIGlmIChzZXJ2aWNlKSB7XG4gICAgICByZXR1cm4gc2VydmljZS5zcGF3bihlbnRpdHksIHJlc29sdmVkT3B0aW9ucy5uYW1lLCByZXNvbHZlZE9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlRGVmZXJyZWRBY3RvcihlbnRpdHksIHJlc29sdmVkT3B0aW9ucy5uYW1lKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgSW50ZXJwcmV0ZXIgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBtYWNoaW5lIHdpdGggdGhlIHByb3ZpZGVkIG9wdGlvbnMsIGlmIGFueS5cclxuICpcclxuICogQHBhcmFtIG1hY2hpbmUgVGhlIG1hY2hpbmUgdG8gaW50ZXJwcmV0XHJcbiAqIEBwYXJhbSBvcHRpb25zIEludGVycHJldGVyIG9wdGlvbnNcclxuICovXG5cbmZ1bmN0aW9uIGludGVycHJldChtYWNoaW5lLCBvcHRpb25zKSB7XG4gIHZhciBpbnRlcnByZXRlciA9IG5ldyBJbnRlcnByZXRlcihtYWNoaW5lLCBvcHRpb25zKTtcbiAgcmV0dXJuIGludGVycHJldGVyO1xufVxuXG5leHBvcnQgeyBJbnRlcnByZXRlciwgSW50ZXJwcmV0ZXJTdGF0dXMsIGludGVycHJldCwgc3Bhd24gfTtcbiJdLCJuYW1lcyI6WyJfX3ZhbHVlcyIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJfX2Fzc2lnbiIsIlNwZWNpYWxUYXJnZXRzIiwiQWN0aW9uVHlwZXMiLCJpc1N0YXRlQ29uZmlnIiwiU3RhdGUiLCJiaW5kQWN0aW9uVG9TdGF0ZSIsImVycm9yUGxhdGZvcm0iLCJ1cGRhdGUiLCJlcnJvciIsImVycm9yJDEiLCJsb2ciLCJzdG9wIiwic3RhcnQiLCJjYW5jZWwiLCJzZW5kIiwicmFpc2UiLCJpbml0RXZlbnQiLCJkb25lSW52b2tlIiwidG9BY3Rpb25PYmplY3RzIiwicmVzb2x2ZUFjdGlvbnMiLCJnZXRBY3Rpb25GdW5jdGlvbiIsIklTX1BST0RVQ1RJT04iLCJ3YXJuIiwibWFwQ29udGV4dCIsInRvT2JzZXJ2ZXIiLCJpc0Z1bmN0aW9uIiwidG9TQ1hNTEV2ZW50IiwiZmxhdHRlbiIsImlzUmFpc2FibGVBY3Rpb24iLCJpc1Byb21pc2VMaWtlIiwiaXNPYnNlcnZhYmxlIiwiaXNNYWNoaW5lIiwiaXNCZWhhdmlvciIsInJlcG9ydFVuaGFuZGxlZEV4Y2VwdGlvbk9uSW52b2NhdGlvbiIsInN5bWJvbE9ic2VydmFibGUiLCJpc0FycmF5IiwidG9FdmVudE9iamVjdCIsImlzU3RyaW5nIiwiaXNBY3RvciIsInRvSW52b2tlU291cmNlIiwidW5pcXVlSWQiLCJTY2hlZHVsZXIiLCJjcmVhdGVEZWZlcnJlZEFjdG9yIiwiaXNTcGF3bmVkQWN0b3IiLCJyZWdpc3RyeSIsImdldEdsb2JhbCIsInJlZ2lzdGVyU2VydmljZSIsInByb3ZpZGUiLCJjb25zdW1lIiwic3Bhd25CZWhhdmlvciIsIkRFRkFVTFRfU1BBV05fT1BUSU9OUyIsInN5bmMiLCJhdXRvRm9yd2FyZCIsIkludGVycHJldGVyU3RhdHVzIiwiSW50ZXJwcmV0ZXIiLCJtYWNoaW5lIiwib3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiX3RoaXMiLCJkZWxheWVkRXZlbnRzTWFwIiwibGlzdGVuZXJzIiwiU2V0IiwiY29udGV4dExpc3RlbmVycyIsInN0b3BMaXN0ZW5lcnMiLCJkb25lTGlzdGVuZXJzIiwiZXZlbnRMaXN0ZW5lcnMiLCJzZW5kTGlzdGVuZXJzIiwiaW5pdGlhbGl6ZWQiLCJzdGF0dXMiLCJOb3RTdGFydGVkIiwiY2hpbGRyZW4iLCJNYXAiLCJmb3J3YXJkVG8iLCJfb3V0Z29pbmdRdWV1ZSIsImluaXQiLCJldmVudCIsInBheWxvYWQiLCJiYXRjaCIsInN0YXRlIiwiX2V2ZW50IiwiU3RvcHBlZCIsImNvbmNhdCIsIm5hbWUiLCJpZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiUnVubmluZyIsImRlZmVyRXZlbnRzIiwiRXJyb3IiLCJzY2hlZHVsZXIiLCJzY2hlZHVsZSIsImZvcndhcmQiLCJuZXh0U3RhdGUiLCJfbmV4dFN0YXRlIiwiX3N0YXRlIiwic2VuZFRvIiwidG8iLCJpbW1lZGlhdGUiLCJpc1BhcmVudCIsInBhcmVudCIsIlBhcmVudCIsInRhcmdldCIsIkludGVybmFsIiwiZ2V0IiwidW5kZWZpbmVkIiwidHlwZSIsImRvbmUiLCJzY3htbEV2ZW50Iiwib3JpZ2luIiwic2Vzc2lvbklkIiwiY29uZmlnIiwicHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMiLCJwdXNoIiwiX2V4ZWMiLCJhY3Rpb24iLCJjb250ZXh0IiwiYWN0aW9uRnVuY3Rpb25NYXAiLCJhY3Rpb25zIiwiYWN0aW9uT3JFeGVjIiwiZXhlYyIsImVyciIsInNlbmRBY3Rpb25fMSIsImRlZmVyIiwic2VuZEFjdGlvbiIsImRlbGF5Iiwic2VuZElkIiwiYWN0aXZpdHkiLCJhY3Rpdml0aWVzIiwiSW52b2tlIiwiaW52b2tlU291cmNlIiwic3JjIiwic2VydmljZUNyZWF0b3IiLCJzZXJ2aWNlcyIsInJlc29sdmVkRGF0YSIsInNvdXJjZSIsIm1ldGEiLCJ3aXRoQ29udGV4dCIsInNwYXduIiwic3Bhd25BY3Rpdml0eSIsInN0b3BDaGlsZCIsIl9hIiwibGFiZWwiLCJ2YWx1ZSIsImxvZ2dlciIsInJlc29sdmVkT3B0aW9ucyIsImNsb2NrIiwicmVzb2x2ZWRJZCIsImJvb2tJZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG90eXBlIiwiX2luaXRpYWxTdGF0ZSIsImluaXRpYWxTdGF0ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJleGVjdXRlIiwiYWN0aW9uc0NvbmZpZyIsImVfMSIsIl9iIiwiX2MiLCJuZXh0IiwiZV8xXzEiLCJyZXR1cm4iLCJjYWxsIiwiZV8yIiwiZV8zIiwiZV80IiwiZV81IiwiX2QiLCJfc2Vzc2lvbmlkIiwiaXRlbSIsInNoaWZ0IiwiZm9yRWFjaCIsImNoaWxkIiwiZGV2VG9vbHMiLCJfZSIsIl9mIiwibGlzdGVuZXIiLCJlXzJfMSIsIl9nIiwiX2giLCJlXzNfMSIsIl9qIiwiX2siLCJjb250ZXh0TGlzdGVuZXIiLCJoaXN0b3J5IiwiZV80XzEiLCJmaW5hbENoaWxkU3RhdGVOb2RlIiwiY29uZmlndXJhdGlvbiIsImZpbmQiLCJzbiIsImRvbmVEYXRhIiwiX2RvbmVFdmVudCIsIl9sIiwiX20iLCJlXzVfMSIsIl9zdG9wIiwiX3N0b3BDaGlsZHJlbiIsImZyZWUiLCJvblRyYW5zaXRpb24iLCJhZGQiLCJzdWJzY3JpYmUiLCJuZXh0TGlzdGVuZXJPck9ic2VydmVyIiwiXyIsImNvbXBsZXRlTGlzdGVuZXIiLCJvYnNlcnZlciIsImNvbXBsZXRlT25jZSIsImRlbGV0ZSIsImNvbXBsZXRlIiwib25Eb25lIiwib25TdG9wIiwidW5zdWJzY3JpYmUiLCJvbkV2ZW50Iiwib25TZW5kIiwib25DaGFuZ2UiLCJvZmYiLCJfaW5pdCIsInJlZ2lzdGVyIiwicmVzb2x2ZWRTdGF0ZSIsInJlc29sdmVTdGF0ZSIsImZyb20iLCJhdHRhY2hEZXYiLCJpbml0aWFsaXplIiwiY2xlYXIiLCJlXzYiLCJlXzciLCJlXzgiLCJlXzkiLCJlXzEwIiwiZV82XzEiLCJlXzdfMSIsImVfOF8xIiwiX28iLCJlXzlfMSIsIl9wIiwia2V5cyIsIl9xIiwia2V5IiwiY2xlYXJUaW1lb3V0IiwiZV8xMF8xIiwiZXhpdEFjdGlvbnMiLCJzb3J0IiwiYSIsImIiLCJvcmRlciIsIm1hcCIsInN0YXRlTm9kZSIsIm9uRXhpdCIsInByZXNlcnZlQWN0aW9uT3JkZXIiLCJyZXNvbHZlZEFjdGlvbnMiLCJ1cGRhdGVkQ29udGV4dCIsIm5ld1N0YXRlIiwiaGlzdG9yeVZhbHVlIiwiZmlsdGVyIiwiZXZlbnRzIiwidHJhbnNpdGlvbnMiLCJ0YWdzIiwiY2hhbmdlZCIsImxlbmd0aCIsImVfMTEiLCJiYXRjaENoYW5nZWQiLCJiYXRjaGVkQWN0aW9ucyIsIl9sb29wXzEiLCJldmVudF8xIiwidHJhbnNpdGlvbiIsImFwcGx5IiwiZXZlbnRzXzEiLCJldmVudHNfMV8xIiwiZV8xMV8xIiwic2VuZGVyIiwiYmluZCIsImluZGV4T2YiLCJuZXh0RXZlbnRzIiwic29tZSIsIm5leHRFdmVudCIsImVfMTIiLCJlXzEyXzEiLCJ0aW1lcklkIiwic2V0VGltZW91dCIsInJlbW92ZUNoaWxkIiwiY2hpbGRJZCIsImVudGl0eSIsInNwYXduUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic3Bhd25DYWxsYmFjayIsInNwYXduQWN0b3IiLCJzcGF3bk9ic2VydmFibGUiLCJzcGF3bk1hY2hpbmUiLCJjaGlsZFNlcnZpY2UiLCJhY3RvciIsInNldCIsImRvbmVFdmVudCIsImJlaGF2aW9yIiwiYWN0b3JSZWYiLCJwcm9taXNlIiwiY2FuY2VsZWQiLCJ0aGVuIiwicmVzcG9uc2UiLCJlcnJvckRhdGEiLCJlcnJvckV2ZW50Iiwic3RyaWN0IiwiaGFuZGxlRXJyb3IiLCJ1bnN1YnNjcmliZWQiLCJ0b0pTT04iLCJnZXRTbmFwc2hvdCIsImNhbGxiYWNrIiwicmVjZWl2ZXJzIiwiZW1pdHRlZCIsInJlY2VpdmUiLCJlIiwiY2FsbGJhY2tTdG9wIiwibmV3TGlzdGVuZXIiLCJyZWNlaXZlciIsInN1YnNjcmlwdGlvbiIsImltcGxlbWVudGF0aW9uIiwiZGlzcG9zZSIsInNwYXduRWZmZWN0IiwiZ2xvYmFsIiwiX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXyIsImRldlRvb2xzT3B0aW9ucyIsImNvbm5lY3QiLCJhdXRvUGF1c2UiLCJzdGF0ZVNhbml0aXplciIsImZlYXR1cmVzIiwianVtcCIsInNraXAiLCJmbiIsIm1zIiwiY29uc29sZSIsImludGVycHJldCIsInJlc29sdmVTcGF3bk9wdGlvbnMiLCJuYW1lT3JPcHRpb25zIiwic2VydmljZSIsImlzTGF6eUVudGl0eSIsImludGVycHJldGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/interpreter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/invokeUtils.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/invokeUtils.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toInvokeDefinition: () => (/* binding */ toInvokeDefinition),\n/* harmony export */   toInvokeSource: () => (/* binding */ toInvokeSource)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n\n\n\n\n\nfunction toInvokeSource(src) {\n    if (typeof src === \"string\") {\n        var simpleSrc = {\n            type: src\n        };\n        simpleSrc.toString = function() {\n            return src;\n        }; // v4 compat - TODO: remove in v5\n        return simpleSrc;\n    }\n    return src;\n}\nfunction toInvokeDefinition(invokeConfig) {\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)({\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_1__.invoke\n    }, invokeConfig), {\n        toJSON: function() {\n            invokeConfig.onDone;\n            invokeConfig.onError;\n            var invokeDef = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__rest)(invokeConfig, [\n                \"onDone\",\n                \"onError\"\n            ]);\n            return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, invokeDef), {\n                type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_1__.invoke,\n                src: toInvokeSource(invokeConfig.src)\n            });\n        }\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2ludm9rZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDcEM7QUFDc0I7QUFDdEI7QUFDTTtBQUUxQixTQUFTRyxlQUFlQyxHQUFHO0lBQ3pCLElBQUksT0FBT0EsUUFBUSxVQUFVO1FBQzNCLElBQUlDLFlBQVk7WUFDZEMsTUFBTUY7UUFDUjtRQUVBQyxVQUFVRSxRQUFRLEdBQUc7WUFDbkIsT0FBT0g7UUFDVCxHQUFHLGlDQUFpQztRQUdwQyxPQUFPQztJQUNUO0lBRUEsT0FBT0Q7QUFDVDtBQUNBLFNBQVNJLG1CQUFtQkMsWUFBWTtJQUN0QyxPQUFPVCwyREFBUUEsQ0FBQ0EsMkRBQVFBLENBQUM7UUFDdkJNLE1BQU1KLG1EQUFNQTtJQUNkLEdBQUdPLGVBQWU7UUFDaEJDLFFBQVE7WUFDTkQsYUFBYUUsTUFBTTtZQUNmRixhQUFhRyxPQUFPO1lBQ3BCLElBQUlDLFlBQVlaLHlEQUFNQSxDQUFDUSxjQUFjO2dCQUFDO2dCQUFVO2FBQVU7WUFFOUQsT0FBT1QsMkRBQVFBLENBQUNBLDJEQUFRQSxDQUFDLENBQUMsR0FBR2EsWUFBWTtnQkFDdkNQLE1BQU1KLG1EQUFNQTtnQkFDWkUsS0FBS0QsZUFBZU0sYUFBYUwsR0FBRztZQUN0QztRQUNGO0lBQ0Y7QUFDRjtBQUU4QyIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9pbnZva2VVdGlscy5qcz9mODdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduLCBfX3Jlc3QgfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgaW52b2tlIH0gZnJvbSAnLi9hY3Rpb25UeXBlcy5qcyc7XG5pbXBvcnQgJy4vdXRpbHMuanMnO1xuaW1wb3J0ICcuL2Vudmlyb25tZW50LmpzJztcblxuZnVuY3Rpb24gdG9JbnZva2VTb3VyY2Uoc3JjKSB7XG4gIGlmICh0eXBlb2Ygc3JjID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzaW1wbGVTcmMgPSB7XG4gICAgICB0eXBlOiBzcmNcbiAgICB9O1xuXG4gICAgc2ltcGxlU3JjLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNyYztcbiAgICB9OyAvLyB2NCBjb21wYXQgLSBUT0RPOiByZW1vdmUgaW4gdjVcblxuXG4gICAgcmV0dXJuIHNpbXBsZVNyYztcbiAgfVxuXG4gIHJldHVybiBzcmM7XG59XG5mdW5jdGlvbiB0b0ludm9rZURlZmluaXRpb24oaW52b2tlQ29uZmlnKSB7XG4gIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7XG4gICAgdHlwZTogaW52b2tlXG4gIH0sIGludm9rZUNvbmZpZyksIHtcbiAgICB0b0pTT046IGZ1bmN0aW9uICgpIHtcbiAgICAgIGludm9rZUNvbmZpZy5vbkRvbmU7XG4gICAgICAgICAgaW52b2tlQ29uZmlnLm9uRXJyb3I7XG4gICAgICAgICAgdmFyIGludm9rZURlZiA9IF9fcmVzdChpbnZva2VDb25maWcsIFtcIm9uRG9uZVwiLCBcIm9uRXJyb3JcIl0pO1xuXG4gICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGludm9rZURlZiksIHtcbiAgICAgICAgdHlwZTogaW52b2tlLFxuICAgICAgICBzcmM6IHRvSW52b2tlU291cmNlKGludm9rZUNvbmZpZy5zcmMpXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyB0b0ludm9rZURlZmluaXRpb24sIHRvSW52b2tlU291cmNlIH07XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJfX3Jlc3QiLCJpbnZva2UiLCJ0b0ludm9rZVNvdXJjZSIsInNyYyIsInNpbXBsZVNyYyIsInR5cGUiLCJ0b1N0cmluZyIsInRvSW52b2tlRGVmaW5pdGlvbiIsImludm9rZUNvbmZpZyIsInRvSlNPTiIsIm9uRG9uZSIsIm9uRXJyb3IiLCJpbnZva2VEZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/invokeUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/mapState.js":
/*!********************************************!*\
  !*** ./node_modules/xstate/es/mapState.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapState: () => (/* binding */ mapState)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\nfunction mapState(stateMap, stateId) {\n    var e_1, _a;\n    var foundStateId;\n    try {\n        for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__values)(Object.keys(stateMap)), _c = _b.next(); !_c.done; _c = _b.next()){\n            var mappedStateId = _c.value;\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.matchesState)(mappedStateId, stateId) && (!foundStateId || stateId.length > foundStateId.length)) {\n                foundStateId = mappedStateId;\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return stateMap[foundStateId];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL21hcFN0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNOO0FBRTFDLFNBQVNFLFNBQVNDLFFBQVEsRUFBRUMsT0FBTztJQUNqQyxJQUFJQyxLQUFLQztJQUVULElBQUlDO0lBRUosSUFBSTtRQUNGLElBQUssSUFBSUMsS0FBS1IsMkRBQVFBLENBQUNTLE9BQU9DLElBQUksQ0FBQ1AsWUFBWVEsS0FBS0gsR0FBR0ksSUFBSSxJQUFJLENBQUNELEdBQUdFLElBQUksRUFBRUYsS0FBS0gsR0FBR0ksSUFBSSxHQUFJO1lBQ3ZGLElBQUlFLGdCQUFnQkgsR0FBR0ksS0FBSztZQUU1QixJQUFJZCx1REFBWUEsQ0FBQ2EsZUFBZVYsWUFBYSxFQUFDRyxnQkFBZ0JILFFBQVFZLE1BQU0sR0FBR1QsYUFBYVMsTUFBTSxHQUFHO2dCQUNuR1QsZUFBZU87WUFDakI7UUFDRjtJQUNGLEVBQUUsT0FBT0csT0FBTztRQUNkWixNQUFNO1lBQ0phLE9BQU9EO1FBQ1Q7SUFDRixTQUFVO1FBQ1IsSUFBSTtZQUNGLElBQUlOLE1BQU0sQ0FBQ0EsR0FBR0UsSUFBSSxJQUFLUCxDQUFBQSxLQUFLRSxHQUFHVyxNQUFNLEdBQUdiLEdBQUdjLElBQUksQ0FBQ1o7UUFDbEQsU0FBVTtZQUNSLElBQUlILEtBQUssTUFBTUEsSUFBSWEsS0FBSztRQUMxQjtJQUNGO0lBRUEsT0FBT2YsUUFBUSxDQUFDSSxhQUFhO0FBQy9CO0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL21hcFN0YXRlLmpzP2I5ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX192YWx1ZXMgfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBtYXRjaGVzU3RhdGUgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuZnVuY3Rpb24gbWFwU3RhdGUoc3RhdGVNYXAsIHN0YXRlSWQpIHtcbiAgdmFyIGVfMSwgX2E7XG5cbiAgdmFyIGZvdW5kU3RhdGVJZDtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMoc3RhdGVNYXApKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgdmFyIG1hcHBlZFN0YXRlSWQgPSBfYy52YWx1ZTtcblxuICAgICAgaWYgKG1hdGNoZXNTdGF0ZShtYXBwZWRTdGF0ZUlkLCBzdGF0ZUlkKSAmJiAoIWZvdW5kU3RhdGVJZCB8fCBzdGF0ZUlkLmxlbmd0aCA+IGZvdW5kU3RhdGVJZC5sZW5ndGgpKSB7XG4gICAgICAgIGZvdW5kU3RhdGVJZCA9IG1hcHBlZFN0YXRlSWQ7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzFfMSkge1xuICAgIGVfMSA9IHtcbiAgICAgIGVycm9yOiBlXzFfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdGF0ZU1hcFtmb3VuZFN0YXRlSWRdO1xufVxuXG5leHBvcnQgeyBtYXBTdGF0ZSB9O1xuIl0sIm5hbWVzIjpbIl9fdmFsdWVzIiwibWF0Y2hlc1N0YXRlIiwibWFwU3RhdGUiLCJzdGF0ZU1hcCIsInN0YXRlSWQiLCJlXzEiLCJfYSIsImZvdW5kU3RhdGVJZCIsIl9iIiwiT2JqZWN0Iiwia2V5cyIsIl9jIiwibmV4dCIsImRvbmUiLCJtYXBwZWRTdGF0ZUlkIiwidmFsdWUiLCJsZW5ndGgiLCJlXzFfMSIsImVycm9yIiwicmV0dXJuIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/mapState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/match.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/match.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   matchState: () => (/* binding */ matchState)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n\n\nfunction matchState(state, patterns, defaultValue) {\n    var e_1, _a;\n    var resolvedState = _State_js__WEBPACK_IMPORTED_MODULE_0__.State.from(state, state instanceof _State_js__WEBPACK_IMPORTED_MODULE_0__.State ? state.context : undefined);\n    try {\n        for(var patterns_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(patterns), patterns_1_1 = patterns_1.next(); !patterns_1_1.done; patterns_1_1 = patterns_1.next()){\n            var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(patterns_1_1.value, 2), stateValue = _b[0], getValue = _b[1];\n            if (resolvedState.matches(stateValue)) {\n                return getValue(resolvedState);\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (patterns_1_1 && !patterns_1_1.done && (_a = patterns_1.return)) _a.call(patterns_1);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return defaultValue(resolvedState);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL21hdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3RDtBQUNyQjtBQUVuQyxTQUFTRyxXQUFXQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsWUFBWTtJQUMvQyxJQUFJQyxLQUFLQztJQUVULElBQUlDLGdCQUFnQlAsNENBQUtBLENBQUNRLElBQUksQ0FBQ04sT0FBT0EsaUJBQWlCRiw0Q0FBS0EsR0FBR0UsTUFBTU8sT0FBTyxHQUFHQztJQUUvRSxJQUFJO1FBQ0YsSUFBSyxJQUFJQyxhQUFhYiwyREFBUUEsQ0FBQ0ssV0FBV1MsZUFBZUQsV0FBV0UsSUFBSSxJQUFJLENBQUNELGFBQWFFLElBQUksRUFBRUYsZUFBZUQsV0FBV0UsSUFBSSxHQUFJO1lBQ2hJLElBQUlFLEtBQUtoQix5REFBTUEsQ0FBQ2EsYUFBYUksS0FBSyxFQUFFLElBQ2hDQyxhQUFhRixFQUFFLENBQUMsRUFBRSxFQUNsQkcsV0FBV0gsRUFBRSxDQUFDLEVBQUU7WUFFcEIsSUFBSVIsY0FBY1ksT0FBTyxDQUFDRixhQUFhO2dCQUNyQyxPQUFPQyxTQUFTWDtZQUNsQjtRQUNGO0lBQ0YsRUFBRSxPQUFPYSxPQUFPO1FBQ2RmLE1BQU07WUFDSmdCLE9BQU9EO1FBQ1Q7SUFDRixTQUFVO1FBQ1IsSUFBSTtZQUNGLElBQUlSLGdCQUFnQixDQUFDQSxhQUFhRSxJQUFJLElBQUtSLENBQUFBLEtBQUtLLFdBQVdXLE1BQU0sR0FBR2hCLEdBQUdpQixJQUFJLENBQUNaO1FBQzlFLFNBQVU7WUFDUixJQUFJTixLQUFLLE1BQU1BLElBQUlnQixLQUFLO1FBQzFCO0lBQ0Y7SUFFQSxPQUFPakIsYUFBYUc7QUFDdEI7QUFFc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvbWF0Y2guanM/NGUxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3ZhbHVlcywgX19yZWFkIH0gZnJvbSAnLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL1N0YXRlLmpzJztcblxuZnVuY3Rpb24gbWF0Y2hTdGF0ZShzdGF0ZSwgcGF0dGVybnMsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgZV8xLCBfYTtcblxuICB2YXIgcmVzb2x2ZWRTdGF0ZSA9IFN0YXRlLmZyb20oc3RhdGUsIHN0YXRlIGluc3RhbmNlb2YgU3RhdGUgPyBzdGF0ZS5jb250ZXh0IDogdW5kZWZpbmVkKTtcblxuICB0cnkge1xuICAgIGZvciAodmFyIHBhdHRlcm5zXzEgPSBfX3ZhbHVlcyhwYXR0ZXJucyksIHBhdHRlcm5zXzFfMSA9IHBhdHRlcm5zXzEubmV4dCgpOyAhcGF0dGVybnNfMV8xLmRvbmU7IHBhdHRlcm5zXzFfMSA9IHBhdHRlcm5zXzEubmV4dCgpKSB7XG4gICAgICB2YXIgX2IgPSBfX3JlYWQocGF0dGVybnNfMV8xLnZhbHVlLCAyKSxcbiAgICAgICAgICBzdGF0ZVZhbHVlID0gX2JbMF0sXG4gICAgICAgICAgZ2V0VmFsdWUgPSBfYlsxXTtcblxuICAgICAgaWYgKHJlc29sdmVkU3RhdGUubWF0Y2hlcyhzdGF0ZVZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZ2V0VmFsdWUocmVzb2x2ZWRTdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzFfMSkge1xuICAgIGVfMSA9IHtcbiAgICAgIGVycm9yOiBlXzFfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChwYXR0ZXJuc18xXzEgJiYgIXBhdHRlcm5zXzFfMS5kb25lICYmIChfYSA9IHBhdHRlcm5zXzEucmV0dXJuKSkgX2EuY2FsbChwYXR0ZXJuc18xKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWZhdWx0VmFsdWUocmVzb2x2ZWRTdGF0ZSk7XG59XG5cbmV4cG9ydCB7IG1hdGNoU3RhdGUgfTtcbiJdLCJuYW1lcyI6WyJfX3ZhbHVlcyIsIl9fcmVhZCIsIlN0YXRlIiwibWF0Y2hTdGF0ZSIsInN0YXRlIiwicGF0dGVybnMiLCJkZWZhdWx0VmFsdWUiLCJlXzEiLCJfYSIsInJlc29sdmVkU3RhdGUiLCJmcm9tIiwiY29udGV4dCIsInVuZGVmaW5lZCIsInBhdHRlcm5zXzEiLCJwYXR0ZXJuc18xXzEiLCJuZXh0IiwiZG9uZSIsIl9iIiwidmFsdWUiLCJzdGF0ZVZhbHVlIiwiZ2V0VmFsdWUiLCJtYXRjaGVzIiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/match.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/registry.js":
/*!********************************************!*\
  !*** ./node_modules/xstate/es/registry.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registry: () => (/* binding */ registry)\n/* harmony export */ });\nvar children = /*#__PURE__*/ new Map();\nvar sessionIdIndex = 0;\nvar registry = {\n    bookId: function() {\n        return \"x:\".concat(sessionIdIndex++);\n    },\n    register: function(id, actor) {\n        children.set(id, actor);\n        return id;\n    },\n    get: function(id) {\n        return children.get(id);\n    },\n    free: function(id) {\n        children.delete(id);\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3JlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxXQUFXLFdBQVcsR0FBRSxJQUFJQztBQUNoQyxJQUFJQyxpQkFBaUI7QUFDckIsSUFBSUMsV0FBVztJQUNiQyxRQUFRO1FBQ04sT0FBTyxLQUFLQyxNQUFNLENBQUNIO0lBQ3JCO0lBQ0FJLFVBQVUsU0FBVUMsRUFBRSxFQUFFQyxLQUFLO1FBQzNCUixTQUFTUyxHQUFHLENBQUNGLElBQUlDO1FBQ2pCLE9BQU9EO0lBQ1Q7SUFDQUcsS0FBSyxTQUFVSCxFQUFFO1FBQ2YsT0FBT1AsU0FBU1UsR0FBRyxDQUFDSDtJQUN0QjtJQUNBSSxNQUFNLFNBQVVKLEVBQUU7UUFDaEJQLFNBQVNZLE1BQU0sQ0FBQ0w7SUFDbEI7QUFDRjtBQUVvQiIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9yZWdpc3RyeS5qcz83MDk2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBjaGlsZHJlbiA9IC8qI19fUFVSRV9fKi9uZXcgTWFwKCk7XG52YXIgc2Vzc2lvbklkSW5kZXggPSAwO1xudmFyIHJlZ2lzdHJ5ID0ge1xuICBib29rSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJ4OlwiLmNvbmNhdChzZXNzaW9uSWRJbmRleCsrKTtcbiAgfSxcbiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChpZCwgYWN0b3IpIHtcbiAgICBjaGlsZHJlbi5zZXQoaWQsIGFjdG9yKTtcbiAgICByZXR1cm4gaWQ7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuLmdldChpZCk7XG4gIH0sXG4gIGZyZWU6IGZ1bmN0aW9uIChpZCkge1xuICAgIGNoaWxkcmVuLmRlbGV0ZShpZCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IHJlZ2lzdHJ5IH07XG4iXSwibmFtZXMiOlsiY2hpbGRyZW4iLCJNYXAiLCJzZXNzaW9uSWRJbmRleCIsInJlZ2lzdHJ5IiwiYm9va0lkIiwiY29uY2F0IiwicmVnaXN0ZXIiLCJpZCIsImFjdG9yIiwic2V0IiwiZ2V0IiwiZnJlZSIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/scheduler.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/scheduler.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scheduler: () => (/* binding */ Scheduler)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n\nvar defaultOptions = {\n    deferEvents: false\n};\nvar Scheduler = /*#__PURE__*/ /** @class */ function() {\n    function Scheduler(options) {\n        this.processingEvent = false;\n        this.queue = [];\n        this.initialized = false;\n        this.options = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, defaultOptions), options);\n    }\n    Scheduler.prototype.initialize = function(callback) {\n        this.initialized = true;\n        if (callback) {\n            if (!this.options.deferEvents) {\n                this.schedule(callback);\n                return;\n            }\n            this.process(callback);\n        }\n        this.flushEvents();\n    };\n    Scheduler.prototype.schedule = function(task) {\n        if (!this.initialized || this.processingEvent) {\n            this.queue.push(task);\n            return;\n        }\n        if (this.queue.length !== 0) {\n            throw new Error(\"Event queue should be empty when it is not processing events\");\n        }\n        this.process(task);\n        this.flushEvents();\n    };\n    Scheduler.prototype.clear = function() {\n        this.queue = [];\n    };\n    Scheduler.prototype.flushEvents = function() {\n        var nextCallback = this.queue.shift();\n        while(nextCallback){\n            this.process(nextCallback);\n            nextCallback = this.queue.shift();\n        }\n    };\n    Scheduler.prototype.process = function(callback) {\n        this.processingEvent = true;\n        try {\n            callback();\n        } catch (e) {\n            // there is no use to keep the future events\n            // as the situation is not anymore the same\n            this.clear();\n            throw e;\n        } finally{\n            this.processingEvent = false;\n        }\n    };\n    return Scheduler;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NjaGVkdWxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRDtBQUVoRCxJQUFJQyxpQkFBaUI7SUFDbkJDLGFBQWE7QUFDZjtBQUVBLElBQUlDLFlBQ0osV0FBVyxHQUVYLFdBQVcsR0FDWDtJQUNFLFNBQVNBLFVBQVVDLE9BQU87UUFDeEIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxLQUFLLEdBQUcsRUFBRTtRQUNmLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0gsT0FBTyxHQUFHSiwyREFBUUEsQ0FBQ0EsMkRBQVFBLENBQUMsQ0FBQyxHQUFHQyxpQkFBaUJHO0lBQ3hEO0lBRUFELFVBQVVLLFNBQVMsQ0FBQ0MsVUFBVSxHQUFHLFNBQVVDLFFBQVE7UUFDakQsSUFBSSxDQUFDSCxXQUFXLEdBQUc7UUFFbkIsSUFBSUcsVUFBVTtZQUNaLElBQUksQ0FBQyxJQUFJLENBQUNOLE9BQU8sQ0FBQ0YsV0FBVyxFQUFFO2dCQUM3QixJQUFJLENBQUNTLFFBQVEsQ0FBQ0Q7Z0JBQ2Q7WUFDRjtZQUVBLElBQUksQ0FBQ0UsT0FBTyxDQUFDRjtRQUNmO1FBRUEsSUFBSSxDQUFDRyxXQUFXO0lBQ2xCO0lBRUFWLFVBQVVLLFNBQVMsQ0FBQ0csUUFBUSxHQUFHLFNBQVVHLElBQUk7UUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQ1AsV0FBVyxJQUFJLElBQUksQ0FBQ0YsZUFBZSxFQUFFO1lBQzdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDUyxJQUFJLENBQUNEO1lBQ2hCO1FBQ0Y7UUFFQSxJQUFJLElBQUksQ0FBQ1IsS0FBSyxDQUFDVSxNQUFNLEtBQUssR0FBRztZQUMzQixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxJQUFJLENBQUNMLE9BQU8sQ0FBQ0U7UUFDYixJQUFJLENBQUNELFdBQVc7SUFDbEI7SUFFQVYsVUFBVUssU0FBUyxDQUFDVSxLQUFLLEdBQUc7UUFDMUIsSUFBSSxDQUFDWixLQUFLLEdBQUcsRUFBRTtJQUNqQjtJQUVBSCxVQUFVSyxTQUFTLENBQUNLLFdBQVcsR0FBRztRQUNoQyxJQUFJTSxlQUFlLElBQUksQ0FBQ2IsS0FBSyxDQUFDYyxLQUFLO1FBRW5DLE1BQU9ELGFBQWM7WUFDbkIsSUFBSSxDQUFDUCxPQUFPLENBQUNPO1lBQ2JBLGVBQWUsSUFBSSxDQUFDYixLQUFLLENBQUNjLEtBQUs7UUFDakM7SUFDRjtJQUVBakIsVUFBVUssU0FBUyxDQUFDSSxPQUFPLEdBQUcsU0FBVUYsUUFBUTtRQUM5QyxJQUFJLENBQUNMLGVBQWUsR0FBRztRQUV2QixJQUFJO1lBQ0ZLO1FBQ0YsRUFBRSxPQUFPVyxHQUFHO1lBQ1YsNENBQTRDO1lBQzVDLDJDQUEyQztZQUMzQyxJQUFJLENBQUNILEtBQUs7WUFDVixNQUFNRztRQUNSLFNBQVU7WUFDUixJQUFJLENBQUNoQixlQUFlLEdBQUc7UUFDekI7SUFDRjtJQUVBLE9BQU9GO0FBQ1Q7QUFFcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvc2NoZWR1bGVyLmpzPzFmZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5cbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZGVmZXJFdmVudHM6IGZhbHNlXG59O1xuXG52YXIgU2NoZWR1bGVyID1cbi8qI19fUFVSRV9fKi9cblxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY2hlZHVsZXIob3B0aW9ucykge1xuICAgIHRoaXMucHJvY2Vzc2luZ0V2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgfVxuXG4gIFNjaGVkdWxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5kZWZlckV2ZW50cykge1xuICAgICAgICB0aGlzLnNjaGVkdWxlKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb2Nlc3MoY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHRoaXMuZmx1c2hFdmVudHMoKTtcbiAgfTtcblxuICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQgfHwgdGhpcy5wcm9jZXNzaW5nRXZlbnQpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaCh0YXNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgcXVldWUgc2hvdWxkIGJlIGVtcHR5IHdoZW4gaXQgaXMgbm90IHByb2Nlc3NpbmcgZXZlbnRzJyk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9jZXNzKHRhc2spO1xuICAgIHRoaXMuZmx1c2hFdmVudHMoKTtcbiAgfTtcblxuICBTY2hlZHVsZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgfTtcblxuICBTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0Q2FsbGJhY2sgPSB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG5cbiAgICB3aGlsZSAobmV4dENhbGxiYWNrKSB7XG4gICAgICB0aGlzLnByb2Nlc3MobmV4dENhbGxiYWNrKTtcbiAgICAgIG5leHRDYWxsYmFjayA9IHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICB9XG4gIH07XG5cbiAgU2NoZWR1bGVyLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wcm9jZXNzaW5nRXZlbnQgPSB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gdGhlcmUgaXMgbm8gdXNlIHRvIGtlZXAgdGhlIGZ1dHVyZSBldmVudHNcbiAgICAgIC8vIGFzIHRoZSBzaXR1YXRpb24gaXMgbm90IGFueW1vcmUgdGhlIHNhbWVcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMucHJvY2Vzc2luZ0V2ZW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTY2hlZHVsZXI7XG59KCk7XG5cbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiZGVmYXVsdE9wdGlvbnMiLCJkZWZlckV2ZW50cyIsIlNjaGVkdWxlciIsIm9wdGlvbnMiLCJwcm9jZXNzaW5nRXZlbnQiLCJxdWV1ZSIsImluaXRpYWxpemVkIiwicHJvdG90eXBlIiwiaW5pdGlhbGl6ZSIsImNhbGxiYWNrIiwic2NoZWR1bGUiLCJwcm9jZXNzIiwiZmx1c2hFdmVudHMiLCJ0YXNrIiwicHVzaCIsImxlbmd0aCIsIkVycm9yIiwiY2xlYXIiLCJuZXh0Q2FsbGJhY2siLCJzaGlmdCIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/scheduler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/schema.js":
/*!******************************************!*\
  !*** ./node_modules/xstate/es/schema.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSchema: () => (/* binding */ createSchema),\n/* harmony export */   t: () => (/* binding */ t)\n/* harmony export */ });\nfunction createSchema(schema) {\n    return schema;\n}\nvar t = createSchema;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLGFBQWFDLE1BQU07SUFDMUIsT0FBT0E7QUFDVDtBQUNBLElBQUlDLElBQUlGO0FBRW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NjaGVtYS5qcz80Y2Q4Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNyZWF0ZVNjaGVtYShzY2hlbWEpIHtcbiAgcmV0dXJuIHNjaGVtYTtcbn1cbnZhciB0ID0gY3JlYXRlU2NoZW1hO1xuXG5leHBvcnQgeyBjcmVhdGVTY2hlbWEsIHQgfTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVTY2hlbWEiLCJzY2hlbWEiLCJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/serviceScope.js":
/*!************************************************!*\
  !*** ./node_modules/xstate/es/serviceScope.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consume: () => (/* binding */ consume),\n/* harmony export */   provide: () => (/* binding */ provide)\n/* harmony export */ });\n/**\r\n * Maintains a stack of the current service in scope.\r\n * This is used to provide the correct service to spawn().\r\n */ var serviceStack = [];\nvar provide = function(service, fn) {\n    serviceStack.push(service);\n    var result = fn(service);\n    serviceStack.pop();\n    return result;\n};\nvar consume = function(fn) {\n    return fn(serviceStack[serviceStack.length - 1]);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NlcnZpY2VTY29wZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Q0FHQyxHQUNELElBQUlBLGVBQWUsRUFBRTtBQUNyQixJQUFJQyxVQUFVLFNBQVVDLE9BQU8sRUFBRUMsRUFBRTtJQUNqQ0gsYUFBYUksSUFBSSxDQUFDRjtJQUNsQixJQUFJRyxTQUFTRixHQUFHRDtJQUNoQkYsYUFBYU0sR0FBRztJQUNoQixPQUFPRDtBQUNUO0FBQ0EsSUFBSUUsVUFBVSxTQUFVSixFQUFFO0lBQ3hCLE9BQU9BLEdBQUdILFlBQVksQ0FBQ0EsYUFBYVEsTUFBTSxHQUFHLEVBQUU7QUFDakQ7QUFFNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvc2VydmljZVNjb3BlLmpzPzdkZGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1haW50YWlucyBhIHN0YWNrIG9mIHRoZSBjdXJyZW50IHNlcnZpY2UgaW4gc2NvcGUuXHJcbiAqIFRoaXMgaXMgdXNlZCB0byBwcm92aWRlIHRoZSBjb3JyZWN0IHNlcnZpY2UgdG8gc3Bhd24oKS5cclxuICovXG52YXIgc2VydmljZVN0YWNrID0gW107XG52YXIgcHJvdmlkZSA9IGZ1bmN0aW9uIChzZXJ2aWNlLCBmbikge1xuICBzZXJ2aWNlU3RhY2sucHVzaChzZXJ2aWNlKTtcbiAgdmFyIHJlc3VsdCA9IGZuKHNlcnZpY2UpO1xuICBzZXJ2aWNlU3RhY2sucG9wKCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xudmFyIGNvbnN1bWUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgcmV0dXJuIGZuKHNlcnZpY2VTdGFja1tzZXJ2aWNlU3RhY2subGVuZ3RoIC0gMV0pO1xufTtcblxuZXhwb3J0IHsgY29uc3VtZSwgcHJvdmlkZSB9O1xuIl0sIm5hbWVzIjpbInNlcnZpY2VTdGFjayIsInByb3ZpZGUiLCJzZXJ2aWNlIiwiZm4iLCJwdXNoIiwicmVzdWx0IiwicG9wIiwiY29uc3VtZSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/serviceScope.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/stateUtils.js":
/*!**********************************************!*\
  !*** ./node_modules/xstate/es/stateUtils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdjList: () => (/* binding */ getAdjList),\n/* harmony export */   getAllChildren: () => (/* binding */ getAllChildren),\n/* harmony export */   getAllStateNodes: () => (/* binding */ getAllStateNodes),\n/* harmony export */   getChildren: () => (/* binding */ getChildren),\n/* harmony export */   getConfiguration: () => (/* binding */ getConfiguration),\n/* harmony export */   getMeta: () => (/* binding */ getMeta),\n/* harmony export */   getTagsFromConfiguration: () => (/* binding */ getTagsFromConfiguration),\n/* harmony export */   getValue: () => (/* binding */ getValue),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isInFinalState: () => (/* binding */ isInFinalState),\n/* harmony export */   isLeafNode: () => (/* binding */ isLeafNode),\n/* harmony export */   nextEvents: () => (/* binding */ nextEvents)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\nvar isLeafNode = function(stateNode) {\n    return stateNode.type === \"atomic\" || stateNode.type === \"final\";\n};\nfunction getAllChildren(stateNode) {\n    return Object.keys(stateNode.states).map(function(key) {\n        return stateNode.states[key];\n    });\n}\nfunction getChildren(stateNode) {\n    return getAllChildren(stateNode).filter(function(sn) {\n        return sn.type !== \"history\";\n    });\n}\nfunction getAllStateNodes(stateNode) {\n    var stateNodes = [\n        stateNode\n    ];\n    if (isLeafNode(stateNode)) {\n        return stateNodes;\n    }\n    return stateNodes.concat((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(getChildren(stateNode).map(getAllStateNodes)));\n}\nfunction getConfiguration(prevStateNodes, stateNodes) {\n    var e_1, _a, e_2, _b, e_3, _c, e_4, _d;\n    var prevConfiguration = new Set(prevStateNodes);\n    var prevAdjList = getAdjList(prevConfiguration);\n    var configuration = new Set(stateNodes);\n    try {\n        // add all ancestors\n        for(var configuration_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_1_1 = configuration_1.next(); !configuration_1_1.done; configuration_1_1 = configuration_1.next()){\n            var s = configuration_1_1.value;\n            var m = s.parent;\n            while(m && !configuration.has(m)){\n                configuration.add(m);\n                m = m.parent;\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (configuration_1_1 && !configuration_1_1.done && (_a = configuration_1.return)) _a.call(configuration_1);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    var adjList = getAdjList(configuration);\n    try {\n        // add descendants\n        for(var configuration_2 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_2_1 = configuration_2.next(); !configuration_2_1.done; configuration_2_1 = configuration_2.next()){\n            var s = configuration_2_1.value; // if previously active, add existing child nodes\n            if (s.type === \"compound\" && (!adjList.get(s) || !adjList.get(s).length)) {\n                if (prevAdjList.get(s)) {\n                    prevAdjList.get(s).forEach(function(sn) {\n                        return configuration.add(sn);\n                    });\n                } else {\n                    s.initialStateNodes.forEach(function(sn) {\n                        return configuration.add(sn);\n                    });\n                }\n            } else {\n                if (s.type === \"parallel\") {\n                    try {\n                        for(var _e = (e_3 = void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(getChildren(s))), _f = _e.next(); !_f.done; _f = _e.next()){\n                            var child = _f.value;\n                            if (!configuration.has(child)) {\n                                configuration.add(child);\n                                if (prevAdjList.get(child)) {\n                                    prevAdjList.get(child).forEach(function(sn) {\n                                        return configuration.add(sn);\n                                    });\n                                } else {\n                                    child.initialStateNodes.forEach(function(sn) {\n                                        return configuration.add(sn);\n                                    });\n                                }\n                            }\n                        }\n                    } catch (e_3_1) {\n                        e_3 = {\n                            error: e_3_1\n                        };\n                    } finally{\n                        try {\n                            if (_f && !_f.done && (_c = _e.return)) _c.call(_e);\n                        } finally{\n                            if (e_3) throw e_3.error;\n                        }\n                    }\n                }\n            }\n        }\n    } catch (e_2_1) {\n        e_2 = {\n            error: e_2_1\n        };\n    } finally{\n        try {\n            if (configuration_2_1 && !configuration_2_1.done && (_b = configuration_2.return)) _b.call(configuration_2);\n        } finally{\n            if (e_2) throw e_2.error;\n        }\n    }\n    try {\n        // add all ancestors\n        for(var configuration_3 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_3_1 = configuration_3.next(); !configuration_3_1.done; configuration_3_1 = configuration_3.next()){\n            var s = configuration_3_1.value;\n            var m = s.parent;\n            while(m && !configuration.has(m)){\n                configuration.add(m);\n                m = m.parent;\n            }\n        }\n    } catch (e_4_1) {\n        e_4 = {\n            error: e_4_1\n        };\n    } finally{\n        try {\n            if (configuration_3_1 && !configuration_3_1.done && (_d = configuration_3.return)) _d.call(configuration_3);\n        } finally{\n            if (e_4) throw e_4.error;\n        }\n    }\n    return configuration;\n}\nfunction getValueFromAdj(baseNode, adjList) {\n    var childStateNodes = adjList.get(baseNode);\n    if (!childStateNodes) {\n        return {}; // todo: fix?\n    }\n    if (baseNode.type === \"compound\") {\n        var childStateNode = childStateNodes[0];\n        if (childStateNode) {\n            if (isLeafNode(childStateNode)) {\n                return childStateNode.key;\n            }\n        } else {\n            return {};\n        }\n    }\n    var stateValue = {};\n    childStateNodes.forEach(function(csn) {\n        stateValue[csn.key] = getValueFromAdj(csn, adjList);\n    });\n    return stateValue;\n}\nfunction getAdjList(configuration) {\n    var e_5, _a;\n    var adjList = new Map();\n    try {\n        for(var configuration_4 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_4_1 = configuration_4.next(); !configuration_4_1.done; configuration_4_1 = configuration_4.next()){\n            var s = configuration_4_1.value;\n            if (!adjList.has(s)) {\n                adjList.set(s, []);\n            }\n            if (s.parent) {\n                if (!adjList.has(s.parent)) {\n                    adjList.set(s.parent, []);\n                }\n                adjList.get(s.parent).push(s);\n            }\n        }\n    } catch (e_5_1) {\n        e_5 = {\n            error: e_5_1\n        };\n    } finally{\n        try {\n            if (configuration_4_1 && !configuration_4_1.done && (_a = configuration_4.return)) _a.call(configuration_4);\n        } finally{\n            if (e_5) throw e_5.error;\n        }\n    }\n    return adjList;\n}\nfunction getValue(rootNode, configuration) {\n    var config = getConfiguration([\n        rootNode\n    ], configuration);\n    return getValueFromAdj(rootNode, getAdjList(config));\n}\nfunction has(iterable, item) {\n    if (Array.isArray(iterable)) {\n        return iterable.some(function(member) {\n            return member === item;\n        });\n    }\n    if (iterable instanceof Set) {\n        return iterable.has(item);\n    }\n    return false; // TODO: fix\n}\nfunction nextEvents(configuration) {\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(new Set((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(configuration.map(function(sn) {\n        return sn.ownEvents;\n    })), false)))), false);\n}\nfunction isInFinalState(configuration, stateNode) {\n    if (stateNode.type === \"compound\") {\n        return getChildren(stateNode).some(function(s) {\n            return s.type === \"final\" && has(configuration, s);\n        });\n    }\n    if (stateNode.type === \"parallel\") {\n        return getChildren(stateNode).every(function(sn) {\n            return isInFinalState(configuration, sn);\n        });\n    }\n    return false;\n}\nfunction getMeta(configuration) {\n    if (configuration === void 0) {\n        configuration = [];\n    }\n    return configuration.reduce(function(acc, stateNode) {\n        if (stateNode.meta !== undefined) {\n            acc[stateNode.id] = stateNode.meta;\n        }\n        return acc;\n    }, {});\n}\nfunction getTagsFromConfiguration(configuration) {\n    return new Set((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(configuration.map(function(sn) {\n        return sn.tags;\n    })));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3N0YXRlVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUU7QUFDbEM7QUFFckMsSUFBSUksYUFBYSxTQUFVQyxTQUFTO0lBQ2xDLE9BQU9BLFVBQVVDLElBQUksS0FBSyxZQUFZRCxVQUFVQyxJQUFJLEtBQUs7QUFDM0Q7QUFDQSxTQUFTQyxlQUFlRixTQUFTO0lBQy9CLE9BQU9HLE9BQU9DLElBQUksQ0FBQ0osVUFBVUssTUFBTSxFQUFFQyxHQUFHLENBQUMsU0FBVUMsR0FBRztRQUNwRCxPQUFPUCxVQUFVSyxNQUFNLENBQUNFLElBQUk7SUFDOUI7QUFDRjtBQUNBLFNBQVNDLFlBQVlSLFNBQVM7SUFDNUIsT0FBT0UsZUFBZUYsV0FBV1MsTUFBTSxDQUFDLFNBQVVDLEVBQUU7UUFDbEQsT0FBT0EsR0FBR1QsSUFBSSxLQUFLO0lBQ3JCO0FBQ0Y7QUFDQSxTQUFTVSxpQkFBaUJYLFNBQVM7SUFDakMsSUFBSVksYUFBYTtRQUFDWjtLQUFVO0lBRTVCLElBQUlELFdBQVdDLFlBQVk7UUFDekIsT0FBT1k7SUFDVDtJQUVBLE9BQU9BLFdBQVdDLE1BQU0sQ0FBQ2Ysa0RBQU9BLENBQUNVLFlBQVlSLFdBQVdNLEdBQUcsQ0FBQ0s7QUFDOUQ7QUFDQSxTQUFTRyxpQkFBaUJDLGNBQWMsRUFBRUgsVUFBVTtJQUNsRCxJQUFJSSxLQUFLQyxJQUFJQyxLQUFLQyxJQUFJQyxLQUFLQyxJQUFJQyxLQUFLQztJQUVwQyxJQUFJQyxvQkFBb0IsSUFBSUMsSUFBSVY7SUFDaEMsSUFBSVcsY0FBY0MsV0FBV0g7SUFDN0IsSUFBSUksZ0JBQWdCLElBQUlILElBQUliO0lBRTVCLElBQUk7UUFDRixvQkFBb0I7UUFDcEIsSUFBSyxJQUFJaUIsa0JBQWtCbEMsMkRBQVFBLENBQUNpQyxnQkFBZ0JFLG9CQUFvQkQsZ0JBQWdCRSxJQUFJLElBQUksQ0FBQ0Qsa0JBQWtCRSxJQUFJLEVBQUVGLG9CQUFvQkQs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QyxJQUFJLEtBQUssWUFBWTtRQUNqQyxPQUFPTyxZQUFZUixXQUFXbUYsS0FBSyxDQUFDLFNBQVV6RSxFQUFFO1lBQzlDLE9BQU93RSxlQUFldEQsZUFBZWxCO1FBQ3ZDO0lBQ0Y7SUFFQSxPQUFPO0FBQ1Q7QUFDQSxTQUFTMEUsUUFBUXhELGFBQWE7SUFDNUIsSUFBSUEsa0JBQWtCLEtBQUssR0FBRztRQUM1QkEsZ0JBQWdCLEVBQUU7SUFDcEI7SUFFQSxPQUFPQSxjQUFjeUQsTUFBTSxDQUFDLFNBQVVDLEdBQUcsRUFBRXRGLFNBQVM7UUFDbEQsSUFBSUEsVUFBVXVGLElBQUksS0FBS0MsV0FBVztZQUNoQ0YsR0FBRyxDQUFDdEYsVUFBVXlGLEVBQUUsQ0FBQyxHQUFHekYsVUFBVXVGLElBQUk7UUFDcEM7UUFFQSxPQUFPRDtJQUNULEdBQUcsQ0FBQztBQUNOO0FBQ0EsU0FBU0kseUJBQXlCOUQsYUFBYTtJQUM3QyxPQUFPLElBQUlILElBQUkzQixrREFBT0EsQ0FBQzhCLGNBQWN0QixHQUFHLENBQUMsU0FBVUksRUFBRTtRQUNuRCxPQUFPQSxHQUFHaUYsSUFBSTtJQUNoQjtBQUNGO0FBRWlMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gtbWFrZXIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3N0YXRlVXRpbHMuanM/MWVhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3ZhbHVlcywgX19zcHJlYWRBcnJheSwgX19yZWFkIH0gZnJvbSAnLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG52YXIgaXNMZWFmTm9kZSA9IGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgcmV0dXJuIHN0YXRlTm9kZS50eXBlID09PSAnYXRvbWljJyB8fCBzdGF0ZU5vZGUudHlwZSA9PT0gJ2ZpbmFsJztcbn07XG5mdW5jdGlvbiBnZXRBbGxDaGlsZHJlbihzdGF0ZU5vZGUpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHN0YXRlTm9kZS5zdGF0ZXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHN0YXRlTm9kZS5zdGF0ZXNba2V5XTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRDaGlsZHJlbihzdGF0ZU5vZGUpIHtcbiAgcmV0dXJuIGdldEFsbENoaWxkcmVuKHN0YXRlTm9kZSkuZmlsdGVyKGZ1bmN0aW9uIChzbikge1xuICAgIHJldHVybiBzbi50eXBlICE9PSAnaGlzdG9yeSc7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0QWxsU3RhdGVOb2RlcyhzdGF0ZU5vZGUpIHtcbiAgdmFyIHN0YXRlTm9kZXMgPSBbc3RhdGVOb2RlXTtcblxuICBpZiAoaXNMZWFmTm9kZShzdGF0ZU5vZGUpKSB7XG4gICAgcmV0dXJuIHN0YXRlTm9kZXM7XG4gIH1cblxuICByZXR1cm4gc3RhdGVOb2Rlcy5jb25jYXQoZmxhdHRlbihnZXRDaGlsZHJlbihzdGF0ZU5vZGUpLm1hcChnZXRBbGxTdGF0ZU5vZGVzKSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29uZmlndXJhdGlvbihwcmV2U3RhdGVOb2Rlcywgc3RhdGVOb2Rlcykge1xuICB2YXIgZV8xLCBfYSwgZV8yLCBfYiwgZV8zLCBfYywgZV80LCBfZDtcblxuICB2YXIgcHJldkNvbmZpZ3VyYXRpb24gPSBuZXcgU2V0KHByZXZTdGF0ZU5vZGVzKTtcbiAgdmFyIHByZXZBZGpMaXN0ID0gZ2V0QWRqTGlzdChwcmV2Q29uZmlndXJhdGlvbik7XG4gIHZhciBjb25maWd1cmF0aW9uID0gbmV3IFNldChzdGF0ZU5vZGVzKTtcblxuICB0cnkge1xuICAgIC8vIGFkZCBhbGwgYW5jZXN0b3JzXG4gICAgZm9yICh2YXIgY29uZmlndXJhdGlvbl8xID0gX192YWx1ZXMoY29uZmlndXJhdGlvbiksIGNvbmZpZ3VyYXRpb25fMV8xID0gY29uZmlndXJhdGlvbl8xLm5leHQoKTsgIWNvbmZpZ3VyYXRpb25fMV8xLmRvbmU7IGNvbmZpZ3VyYXRpb25fMV8xID0gY29uZmlndXJhdGlvbl8xLm5leHQoKSkge1xuICAgICAgdmFyIHMgPSBjb25maWd1cmF0aW9uXzFfMS52YWx1ZTtcbiAgICAgIHZhciBtID0gcy5wYXJlbnQ7XG5cbiAgICAgIHdoaWxlIChtICYmICFjb25maWd1cmF0aW9uLmhhcyhtKSkge1xuICAgICAgICBjb25maWd1cmF0aW9uLmFkZChtKTtcbiAgICAgICAgbSA9IG0ucGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICBlXzEgPSB7XG4gICAgICBlcnJvcjogZV8xXzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoY29uZmlndXJhdGlvbl8xXzEgJiYgIWNvbmZpZ3VyYXRpb25fMV8xLmRvbmUgJiYgKF9hID0gY29uZmlndXJhdGlvbl8xLnJldHVybikpIF9hLmNhbGwoY29uZmlndXJhdGlvbl8xKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGpMaXN0ID0gZ2V0QWRqTGlzdChjb25maWd1cmF0aW9uKTtcblxuICB0cnkge1xuICAgIC8vIGFkZCBkZXNjZW5kYW50c1xuICAgIGZvciAodmFyIGNvbmZpZ3VyYXRpb25fMiA9IF9fdmFsdWVzKGNvbmZpZ3VyYXRpb24pLCBjb25maWd1cmF0aW9uXzJfMSA9IGNvbmZpZ3VyYXRpb25fMi5uZXh0KCk7ICFjb25maWd1cmF0aW9uXzJfMS5kb25lOyBjb25maWd1cmF0aW9uXzJfMSA9IGNvbmZpZ3VyYXRpb25fMi5uZXh0KCkpIHtcbiAgICAgIHZhciBzID0gY29uZmlndXJhdGlvbl8yXzEudmFsdWU7IC8vIGlmIHByZXZpb3VzbHkgYWN0aXZlLCBhZGQgZXhpc3RpbmcgY2hpbGQgbm9kZXNcblxuICAgICAgaWYgKHMudHlwZSA9PT0gJ2NvbXBvdW5kJyAmJiAoIWFkakxpc3QuZ2V0KHMpIHx8ICFhZGpMaXN0LmdldChzKS5sZW5ndGgpKSB7XG4gICAgICAgIGlmIChwcmV2QWRqTGlzdC5nZXQocykpIHtcbiAgICAgICAgICBwcmV2QWRqTGlzdC5nZXQocykuZm9yRWFjaChmdW5jdGlvbiAoc24pIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWd1cmF0aW9uLmFkZChzbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5pbml0aWFsU3RhdGVOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYXRpb24uYWRkKHNuKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHMudHlwZSA9PT0gJ3BhcmFsbGVsJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZSA9IChlXzMgPSB2b2lkIDAsIF9fdmFsdWVzKGdldENoaWxkcmVuKHMpKSksIF9mID0gX2UubmV4dCgpOyAhX2YuZG9uZTsgX2YgPSBfZS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgdmFyIGNoaWxkID0gX2YudmFsdWU7XG5cbiAgICAgICAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uLmhhcyhjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmFkZChjaGlsZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJldkFkakxpc3QuZ2V0KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgcHJldkFkakxpc3QuZ2V0KGNoaWxkKS5mb3JFYWNoKGZ1bmN0aW9uIChzbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlndXJhdGlvbi5hZGQoc24pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNoaWxkLmluaXRpYWxTdGF0ZU5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHNuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWd1cmF0aW9uLmFkZChzbik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlXzNfMSkge1xuICAgICAgICAgICAgZV8zID0ge1xuICAgICAgICAgICAgICBlcnJvcjogZV8zXzFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2MgPSBfZS5yZXR1cm4pKSBfYy5jYWxsKF9lKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfMl8xKSB7XG4gICAgZV8yID0ge1xuICAgICAgZXJyb3I6IGVfMl8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGNvbmZpZ3VyYXRpb25fMl8xICYmICFjb25maWd1cmF0aW9uXzJfMS5kb25lICYmIChfYiA9IGNvbmZpZ3VyYXRpb25fMi5yZXR1cm4pKSBfYi5jYWxsKGNvbmZpZ3VyYXRpb25fMik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIC8vIGFkZCBhbGwgYW5jZXN0b3JzXG4gICAgZm9yICh2YXIgY29uZmlndXJhdGlvbl8zID0gX192YWx1ZXMoY29uZmlndXJhdGlvbiksIGNvbmZpZ3VyYXRpb25fM18xID0gY29uZmlndXJhdGlvbl8zLm5leHQoKTsgIWNvbmZpZ3VyYXRpb25fM18xLmRvbmU7IGNvbmZpZ3VyYXRpb25fM18xID0gY29uZmlndXJhdGlvbl8zLm5leHQoKSkge1xuICAgICAgdmFyIHMgPSBjb25maWd1cmF0aW9uXzNfMS52YWx1ZTtcbiAgICAgIHZhciBtID0gcy5wYXJlbnQ7XG5cbiAgICAgIHdoaWxlIChtICYmICFjb25maWd1cmF0aW9uLmhhcyhtKSkge1xuICAgICAgICBjb25maWd1cmF0aW9uLmFkZChtKTtcbiAgICAgICAgbSA9IG0ucGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZV80XzEpIHtcbiAgICBlXzQgPSB7XG4gICAgICBlcnJvcjogZV80XzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoY29uZmlndXJhdGlvbl8zXzEgJiYgIWNvbmZpZ3VyYXRpb25fM18xLmRvbmUgJiYgKF9kID0gY29uZmlndXJhdGlvbl8zLnJldHVybikpIF9kLmNhbGwoY29uZmlndXJhdGlvbl8zKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWd1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZUZyb21BZGooYmFzZU5vZGUsIGFkakxpc3QpIHtcbiAgdmFyIGNoaWxkU3RhdGVOb2RlcyA9IGFkakxpc3QuZ2V0KGJhc2VOb2RlKTtcblxuICBpZiAoIWNoaWxkU3RhdGVOb2Rlcykge1xuICAgIHJldHVybiB7fTsgLy8gdG9kbzogZml4P1xuICB9XG5cbiAgaWYgKGJhc2VOb2RlLnR5cGUgPT09ICdjb21wb3VuZCcpIHtcbiAgICB2YXIgY2hpbGRTdGF0ZU5vZGUgPSBjaGlsZFN0YXRlTm9kZXNbMF07XG5cbiAgICBpZiAoY2hpbGRTdGF0ZU5vZGUpIHtcbiAgICAgIGlmIChpc0xlYWZOb2RlKGNoaWxkU3RhdGVOb2RlKSkge1xuICAgICAgICByZXR1cm4gY2hpbGRTdGF0ZU5vZGUua2V5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgdmFyIHN0YXRlVmFsdWUgPSB7fTtcbiAgY2hpbGRTdGF0ZU5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGNzbikge1xuICAgIHN0YXRlVmFsdWVbY3NuLmtleV0gPSBnZXRWYWx1ZUZyb21BZGooY3NuLCBhZGpMaXN0KTtcbiAgfSk7XG4gIHJldHVybiBzdGF0ZVZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRBZGpMaXN0KGNvbmZpZ3VyYXRpb24pIHtcbiAgdmFyIGVfNSwgX2E7XG5cbiAgdmFyIGFkakxpc3QgPSBuZXcgTWFwKCk7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBjb25maWd1cmF0aW9uXzQgPSBfX3ZhbHVlcyhjb25maWd1cmF0aW9uKSwgY29uZmlndXJhdGlvbl80XzEgPSBjb25maWd1cmF0aW9uXzQubmV4dCgpOyAhY29uZmlndXJhdGlvbl80XzEuZG9uZTsgY29uZmlndXJhdGlvbl80XzEgPSBjb25maWd1cmF0aW9uXzQubmV4dCgpKSB7XG4gICAgICB2YXIgcyA9IGNvbmZpZ3VyYXRpb25fNF8xLnZhbHVlO1xuXG4gICAgICBpZiAoIWFkakxpc3QuaGFzKHMpKSB7XG4gICAgICAgIGFkakxpc3Quc2V0KHMsIFtdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHMucGFyZW50KSB7XG4gICAgICAgIGlmICghYWRqTGlzdC5oYXMocy5wYXJlbnQpKSB7XG4gICAgICAgICAgYWRqTGlzdC5zZXQocy5wYXJlbnQsIFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkakxpc3QuZ2V0KHMucGFyZW50KS5wdXNoKHMpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZV81XzEpIHtcbiAgICBlXzUgPSB7XG4gICAgICBlcnJvcjogZV81XzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoY29uZmlndXJhdGlvbl80XzEgJiYgIWNvbmZpZ3VyYXRpb25fNF8xLmRvbmUgJiYgKF9hID0gY29uZmlndXJhdGlvbl80LnJldHVybikpIF9hLmNhbGwoY29uZmlndXJhdGlvbl80KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhZGpMaXN0O1xufVxuZnVuY3Rpb24gZ2V0VmFsdWUocm9vdE5vZGUsIGNvbmZpZ3VyYXRpb24pIHtcbiAgdmFyIGNvbmZpZyA9IGdldENvbmZpZ3VyYXRpb24oW3Jvb3ROb2RlXSwgY29uZmlndXJhdGlvbik7XG4gIHJldHVybiBnZXRWYWx1ZUZyb21BZGoocm9vdE5vZGUsIGdldEFkakxpc3QoY29uZmlnKSk7XG59XG5mdW5jdGlvbiBoYXMoaXRlcmFibGUsIGl0ZW0pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaXRlcmFibGUpKSB7XG4gICAgcmV0dXJuIGl0ZXJhYmxlLnNvbWUoZnVuY3Rpb24gKG1lbWJlcikge1xuICAgICAgcmV0dXJuIG1lbWJlciA9PT0gaXRlbTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpdGVyYWJsZSBpbnN0YW5jZW9mIFNldCkge1xuICAgIHJldHVybiBpdGVyYWJsZS5oYXMoaXRlbSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7IC8vIFRPRE86IGZpeFxufVxuZnVuY3Rpb24gbmV4dEV2ZW50cyhjb25maWd1cmF0aW9uKSB7XG4gIHJldHVybiBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQobmV3IFNldChmbGF0dGVuKF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChjb25maWd1cmF0aW9uLm1hcChmdW5jdGlvbiAoc24pIHtcbiAgICByZXR1cm4gc24ub3duRXZlbnRzO1xuICB9KSksIGZhbHNlKSkpKSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gaXNJbkZpbmFsU3RhdGUoY29uZmlndXJhdGlvbiwgc3RhdGVOb2RlKSB7XG4gIGlmIChzdGF0ZU5vZGUudHlwZSA9PT0gJ2NvbXBvdW5kJykge1xuICAgIHJldHVybiBnZXRDaGlsZHJlbihzdGF0ZU5vZGUpLnNvbWUoZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBzLnR5cGUgPT09ICdmaW5hbCcgJiYgaGFzKGNvbmZpZ3VyYXRpb24sIHMpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHN0YXRlTm9kZS50eXBlID09PSAncGFyYWxsZWwnKSB7XG4gICAgcmV0dXJuIGdldENoaWxkcmVuKHN0YXRlTm9kZSkuZXZlcnkoZnVuY3Rpb24gKHNuKSB7XG4gICAgICByZXR1cm4gaXNJbkZpbmFsU3RhdGUoY29uZmlndXJhdGlvbiwgc24pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0TWV0YShjb25maWd1cmF0aW9uKSB7XG4gIGlmIChjb25maWd1cmF0aW9uID09PSB2b2lkIDApIHtcbiAgICBjb25maWd1cmF0aW9uID0gW107XG4gIH1cblxuICByZXR1cm4gY29uZmlndXJhdGlvbi5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgc3RhdGVOb2RlKSB7XG4gICAgaWYgKHN0YXRlTm9kZS5tZXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFjY1tzdGF0ZU5vZGUuaWRdID0gc3RhdGVOb2RlLm1ldGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0VGFnc0Zyb21Db25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgcmV0dXJuIG5ldyBTZXQoZmxhdHRlbihjb25maWd1cmF0aW9uLm1hcChmdW5jdGlvbiAoc24pIHtcbiAgICByZXR1cm4gc24udGFncztcbiAgfSkpKTtcbn1cblxuZXhwb3J0IHsgZ2V0QWRqTGlzdCwgZ2V0QWxsQ2hpbGRyZW4sIGdldEFsbFN0YXRlTm9kZXMsIGdldENoaWxkcmVuLCBnZXRDb25maWd1cmF0aW9uLCBnZXRNZXRhLCBnZXRUYWdzRnJvbUNvbmZpZ3VyYXRpb24sIGdldFZhbHVlLCBoYXMsIGlzSW5GaW5hbFN0YXRlLCBpc0xlYWZOb2RlLCBuZXh0RXZlbnRzIH07XG4iXSwibmFtZXMiOlsiX192YWx1ZXMiLCJfX3NwcmVhZEFycmF5IiwiX19yZWFkIiwiZmxhdHRlbiIsImlzTGVhZk5vZGUiLCJzdGF0ZU5vZGUiLCJ0eXBlIiwiZ2V0QWxsQ2hpbGRyZW4iLCJPYmplY3QiLCJrZXlzIiwic3RhdGVzIiwibWFwIiwia2V5IiwiZ2V0Q2hpbGRyZW4iLCJmaWx0ZXIiLCJzbiIsImdldEFsbFN0YXRlTm9kZXMiLCJzdGF0ZU5vZGVzIiwiY29uY2F0IiwiZ2V0Q29uZmlndXJhdGlvbiIsInByZXZTdGF0ZU5vZGVzIiwiZV8xIiwiX2EiLCJlXzIiLCJfYiIsImVfMyIsIl9jIiwiZV80IiwiX2QiLCJwcmV2Q29uZmlndXJhdGlvbiIsIlNldCIsInByZXZBZGpMaXN0IiwiZ2V0QWRqTGlzdCIsImNvbmZpZ3VyYXRpb24iLCJjb25maWd1cmF0aW9uXzEiLCJjb25maWd1cmF0aW9uXzFfMSIsIm5leHQiLCJkb25lIiwicyIsInZhbHVlIiwibSIsInBhcmVudCIsImhhcyIsImFkZCIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJjYWxsIiwiYWRqTGlzdCIsImNvbmZpZ3VyYXRpb25fMiIsImNvbmZpZ3VyYXRpb25fMl8xIiwiZ2V0IiwibGVuZ3RoIiwiZm9yRWFjaCIsImluaXRpYWxTdGF0ZU5vZGVzIiwiX2UiLCJfZiIsImNoaWxkIiwiZV8zXzEiLCJlXzJfMSIsImNvbmZpZ3VyYXRpb25fMyIsImNvbmZpZ3VyYXRpb25fM18xIiwiZV80XzEiLCJnZXRWYWx1ZUZyb21BZGoiLCJiYXNlTm9kZSIsImNoaWxkU3RhdGVOb2RlcyIsImNoaWxkU3RhdGVOb2RlIiwic3RhdGVWYWx1ZSIsImNzbiIsImVfNSIsIk1hcCIsImNvbmZpZ3VyYXRpb25fNCIsImNvbmZpZ3VyYXRpb25fNF8xIiwic2V0IiwicHVzaCIsImVfNV8xIiwiZ2V0VmFsdWUiLCJyb290Tm9kZSIsImNvbmZpZyIsIml0ZXJhYmxlIiwiaXRlbSIsIkFycmF5IiwiaXNBcnJheSIsInNvbWUiLCJtZW1iZXIiLCJuZXh0RXZlbnRzIiwib3duRXZlbnRzIiwiaXNJbkZpbmFsU3RhdGUiLCJldmVyeSIsImdldE1ldGEiLCJyZWR1Y2UiLCJhY2MiLCJtZXRhIiwidW5kZWZpbmVkIiwiaWQiLCJnZXRUYWdzRnJvbUNvbmZpZ3VyYXRpb24iLCJ0YWdzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/stateUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/types.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/types.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionTypes: () => (/* binding */ ActionTypes),\n/* harmony export */   SpecialTargets: () => (/* binding */ SpecialTargets)\n/* harmony export */ });\nvar ActionTypes;\n(function(ActionTypes) {\n    ActionTypes[\"Start\"] = \"xstate.start\";\n    ActionTypes[\"Stop\"] = \"xstate.stop\";\n    ActionTypes[\"Raise\"] = \"xstate.raise\";\n    ActionTypes[\"Send\"] = \"xstate.send\";\n    ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n    ActionTypes[\"NullEvent\"] = \"\";\n    ActionTypes[\"Assign\"] = \"xstate.assign\";\n    ActionTypes[\"After\"] = \"xstate.after\";\n    ActionTypes[\"DoneState\"] = \"done.state\";\n    ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n    ActionTypes[\"Log\"] = \"xstate.log\";\n    ActionTypes[\"Init\"] = \"xstate.init\";\n    ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n    ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n    ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n    ActionTypes[\"ErrorPlatform\"] = \"error.platform\";\n    ActionTypes[\"ErrorCustom\"] = \"xstate.error\";\n    ActionTypes[\"Update\"] = \"xstate.update\";\n    ActionTypes[\"Pure\"] = \"xstate.pure\";\n    ActionTypes[\"Choose\"] = \"xstate.choose\";\n})(ActionTypes || (ActionTypes = {}));\nvar SpecialTargets;\n(function(SpecialTargets) {\n    SpecialTargets[\"Parent\"] = \"#_parent\";\n    SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUE7QUFFSCxVQUFVQSxXQUFXO0lBQ3BCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsWUFBWSxHQUFHO0lBQzNCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsWUFBWSxHQUFHO0lBQzNCQSxXQUFXLENBQUMsYUFBYSxHQUFHO0lBQzVCQSxXQUFXLENBQUMsTUFBTSxHQUFHO0lBQ3JCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsaUJBQWlCLEdBQUc7SUFDaENBLFdBQVcsQ0FBQyxxQkFBcUIsR0FBRztJQUNwQ0EsV0FBVyxDQUFDLGdCQUFnQixHQUFHO0lBQy9CQSxXQUFXLENBQUMsY0FBYyxHQUFHO0lBQzdCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0FBQzFCLEdBQUdBLGVBQWdCQSxDQUFBQSxjQUFjLENBQUM7QUFFbEMsSUFBSUM7QUFFSCxVQUFVQSxjQUFjO0lBQ3ZCQSxjQUFjLENBQUMsU0FBUyxHQUFHO0lBQzNCQSxjQUFjLENBQUMsV0FBVyxHQUFHO0FBQy9CLEdBQUdBLGtCQUFtQkEsQ0FBQUEsaUJBQWlCLENBQUM7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGNoLW1ha2VyLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy90eXBlcy5qcz81MTA3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBBY3Rpb25UeXBlcztcblxuKGZ1bmN0aW9uIChBY3Rpb25UeXBlcykge1xuICBBY3Rpb25UeXBlc1tcIlN0YXJ0XCJdID0gXCJ4c3RhdGUuc3RhcnRcIjtcbiAgQWN0aW9uVHlwZXNbXCJTdG9wXCJdID0gXCJ4c3RhdGUuc3RvcFwiO1xuICBBY3Rpb25UeXBlc1tcIlJhaXNlXCJdID0gXCJ4c3RhdGUucmFpc2VcIjtcbiAgQWN0aW9uVHlwZXNbXCJTZW5kXCJdID0gXCJ4c3RhdGUuc2VuZFwiO1xuICBBY3Rpb25UeXBlc1tcIkNhbmNlbFwiXSA9IFwieHN0YXRlLmNhbmNlbFwiO1xuICBBY3Rpb25UeXBlc1tcIk51bGxFdmVudFwiXSA9IFwiXCI7XG4gIEFjdGlvblR5cGVzW1wiQXNzaWduXCJdID0gXCJ4c3RhdGUuYXNzaWduXCI7XG4gIEFjdGlvblR5cGVzW1wiQWZ0ZXJcIl0gPSBcInhzdGF0ZS5hZnRlclwiO1xuICBBY3Rpb25UeXBlc1tcIkRvbmVTdGF0ZVwiXSA9IFwiZG9uZS5zdGF0ZVwiO1xuICBBY3Rpb25UeXBlc1tcIkRvbmVJbnZva2VcIl0gPSBcImRvbmUuaW52b2tlXCI7XG4gIEFjdGlvblR5cGVzW1wiTG9nXCJdID0gXCJ4c3RhdGUubG9nXCI7XG4gIEFjdGlvblR5cGVzW1wiSW5pdFwiXSA9IFwieHN0YXRlLmluaXRcIjtcbiAgQWN0aW9uVHlwZXNbXCJJbnZva2VcIl0gPSBcInhzdGF0ZS5pbnZva2VcIjtcbiAgQWN0aW9uVHlwZXNbXCJFcnJvckV4ZWN1dGlvblwiXSA9IFwiZXJyb3IuZXhlY3V0aW9uXCI7XG4gIEFjdGlvblR5cGVzW1wiRXJyb3JDb21tdW5pY2F0aW9uXCJdID0gXCJlcnJvci5jb21tdW5pY2F0aW9uXCI7XG4gIEFjdGlvblR5cGVzW1wiRXJyb3JQbGF0Zm9ybVwiXSA9IFwiZXJyb3IucGxhdGZvcm1cIjtcbiAgQWN0aW9uVHlwZXNbXCJFcnJvckN1c3RvbVwiXSA9IFwieHN0YXRlLmVycm9yXCI7XG4gIEFjdGlvblR5cGVzW1wiVXBkYXRlXCJdID0gXCJ4c3RhdGUudXBkYXRlXCI7XG4gIEFjdGlvblR5cGVzW1wiUHVyZVwiXSA9IFwieHN0YXRlLnB1cmVcIjtcbiAgQWN0aW9uVHlwZXNbXCJDaG9vc2VcIl0gPSBcInhzdGF0ZS5jaG9vc2VcIjtcbn0pKEFjdGlvblR5cGVzIHx8IChBY3Rpb25UeXBlcyA9IHt9KSk7XG5cbnZhciBTcGVjaWFsVGFyZ2V0cztcblxuKGZ1bmN0aW9uIChTcGVjaWFsVGFyZ2V0cykge1xuICBTcGVjaWFsVGFyZ2V0c1tcIlBhcmVudFwiXSA9IFwiI19wYXJlbnRcIjtcbiAgU3BlY2lhbFRhcmdldHNbXCJJbnRlcm5hbFwiXSA9IFwiI19pbnRlcm5hbFwiO1xufSkoU3BlY2lhbFRhcmdldHMgfHwgKFNwZWNpYWxUYXJnZXRzID0ge30pKTtcblxuZXhwb3J0IHsgQWN0aW9uVHlwZXMsIFNwZWNpYWxUYXJnZXRzIH07XG4iXSwibmFtZXMiOlsiQWN0aW9uVHlwZXMiLCJTcGVjaWFsVGFyZ2V0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/utils.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInvokeId: () => (/* binding */ createInvokeId),\n/* harmony export */   evaluateGuard: () => (/* binding */ evaluateGuard),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   getActionType: () => (/* binding */ getActionType),\n/* harmony export */   getEventType: () => (/* binding */ getEventType),\n/* harmony export */   interopSymbols: () => (/* binding */ interopSymbols),\n/* harmony export */   isActor: () => (/* binding */ isActor),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isBehavior: () => (/* binding */ isBehavior),\n/* harmony export */   isBuiltInEvent: () => (/* binding */ isBuiltInEvent),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isMachine: () => (/* binding */ isMachine),\n/* harmony export */   isObservable: () => (/* binding */ isObservable),\n/* harmony export */   isPromiseLike: () => (/* binding */ isPromiseLike),\n/* harmony export */   isRaisableAction: () => (/* binding */ isRaisableAction),\n/* harmony export */   isStateLike: () => (/* binding */ isStateLike),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   mapContext: () => (/* binding */ mapContext),\n/* harmony export */   mapFilterValues: () => (/* binding */ mapFilterValues),\n/* harmony export */   mapValues: () => (/* binding */ mapValues),\n/* harmony export */   matchesState: () => (/* binding */ matchesState),\n/* harmony export */   nestedPath: () => (/* binding */ nestedPath),\n/* harmony export */   normalizeTarget: () => (/* binding */ normalizeTarget),\n/* harmony export */   partition: () => (/* binding */ partition),\n/* harmony export */   path: () => (/* binding */ path),\n/* harmony export */   pathToStateValue: () => (/* binding */ pathToStateValue),\n/* harmony export */   pathsToStateValue: () => (/* binding */ pathsToStateValue),\n/* harmony export */   reportUnhandledExceptionOnInvocation: () => (/* binding */ reportUnhandledExceptionOnInvocation),\n/* harmony export */   symbolObservable: () => (/* binding */ symbolObservable),\n/* harmony export */   toArray: () => (/* binding */ toArray),\n/* harmony export */   toArrayStrict: () => (/* binding */ toArrayStrict),\n/* harmony export */   toEventObject: () => (/* binding */ toEventObject),\n/* harmony export */   toGuard: () => (/* binding */ toGuard),\n/* harmony export */   toInvokeSource: () => (/* binding */ toInvokeSource),\n/* harmony export */   toObserver: () => (/* binding */ toObserver),\n/* harmony export */   toSCXMLEvent: () => (/* binding */ toSCXMLEvent),\n/* harmony export */   toStatePath: () => (/* binding */ toStatePath),\n/* harmony export */   toStatePaths: () => (/* binding */ toStatePaths),\n/* harmony export */   toStateValue: () => (/* binding */ toStateValue),\n/* harmony export */   toTransitionConfigArray: () => (/* binding */ toTransitionConfigArray),\n/* harmony export */   uniqueId: () => (/* binding */ uniqueId),\n/* harmony export */   updateContext: () => (/* binding */ updateContext),\n/* harmony export */   updateHistoryStates: () => (/* binding */ updateHistoryStates),\n/* harmony export */   updateHistoryValue: () => (/* binding */ updateHistoryValue),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/xstate/es/constants.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\n\n\n\nvar _a;\nfunction keys(value) {\n    return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n    if (delimiter === void 0) {\n        delimiter = _constants_js__WEBPACK_IMPORTED_MODULE_0__.STATE_DELIMITER;\n    }\n    var parentStateValue = toStateValue(parentStateId, delimiter);\n    var childStateValue = toStateValue(childStateId, delimiter);\n    if (isString(childStateValue)) {\n        if (isString(parentStateValue)) {\n            return childStateValue === parentStateValue;\n        } // Parent more specific than child\n        return false;\n    }\n    if (isString(parentStateValue)) {\n        return parentStateValue in childStateValue;\n    }\n    return Object.keys(parentStateValue).every(function(key) {\n        if (!(key in childStateValue)) {\n            return false;\n        }\n        return matchesState(parentStateValue[key], childStateValue[key]);\n    });\n}\nfunction getEventType(event) {\n    try {\n        return isString(event) || typeof event === \"number\" ? \"\".concat(event) : event.type;\n    } catch (e) {\n        throw new Error(\"Events must be strings or objects with a string event.type property.\");\n    }\n}\nfunction getActionType(action) {\n    try {\n        return isString(action) || typeof action === \"number\" ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n    } catch (e) {\n        throw new Error(\"Actions must be strings or objects with a string action.type property.\");\n    }\n}\nfunction toStatePath(stateId, delimiter) {\n    try {\n        if (isArray(stateId)) {\n            return stateId;\n        }\n        return stateId.toString().split(delimiter);\n    } catch (e) {\n        throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n    }\n}\nfunction isStateLike(state) {\n    return typeof state === \"object\" && \"value\" in state && \"context\" in state && \"event\" in state && \"_event\" in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n    if (isStateLike(stateValue)) {\n        return stateValue.value;\n    }\n    if (isArray(stateValue)) {\n        return pathToStateValue(stateValue);\n    }\n    if (typeof stateValue !== \"string\") {\n        return stateValue;\n    }\n    var statePath = toStatePath(stateValue, delimiter);\n    return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n    if (statePath.length === 1) {\n        return statePath[0];\n    }\n    var value = {};\n    var marker = value;\n    for(var i = 0; i < statePath.length - 1; i++){\n        if (i === statePath.length - 2) {\n            marker[statePath[i]] = statePath[i + 1];\n        } else {\n            marker[statePath[i]] = {};\n            marker = marker[statePath[i]];\n        }\n    }\n    return value;\n}\nfunction mapValues(collection, iteratee) {\n    var result = {};\n    var collectionKeys = Object.keys(collection);\n    for(var i = 0; i < collectionKeys.length; i++){\n        var key = collectionKeys[i];\n        result[key] = iteratee(collection[key], key, collection, i);\n    }\n    return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n    var e_1, _a;\n    var result = {};\n    try {\n        for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()){\n            var key = _c.value;\n            var item = collection[key];\n            if (!predicate(item)) {\n                continue;\n            }\n            result[key] = iteratee(item, key, collection);\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */ var path = function(props) {\n    return function(object) {\n        var e_2, _a;\n        var result = object;\n        try {\n            for(var props_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()){\n                var prop = props_1_1.value;\n                result = result[prop];\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        return result;\n    };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */ function nestedPath(props, accessorProp) {\n    return function(object) {\n        var e_3, _a;\n        var result = object;\n        try {\n            for(var props_2 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()){\n                var prop = props_2_1.value;\n                result = result[accessorProp][prop];\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        return result;\n    };\n}\nfunction toStatePaths(stateValue) {\n    if (!stateValue) {\n        return [\n            []\n        ];\n    }\n    if (isString(stateValue)) {\n        return [\n            [\n                stateValue\n            ]\n        ];\n    }\n    var result = flatten(Object.keys(stateValue).map(function(key) {\n        var subStateValue = stateValue[key];\n        if (typeof subStateValue !== \"string\" && (!subStateValue || !Object.keys(subStateValue).length)) {\n            return [\n                [\n                    key\n                ]\n            ];\n        }\n        return toStatePaths(stateValue[key]).map(function(subPath) {\n            return [\n                key\n            ].concat(subPath);\n        });\n    }));\n    return result;\n}\nfunction pathsToStateValue(paths) {\n    var e_4, _a;\n    var result = {};\n    if (paths && paths.length === 1 && paths[0].length === 1) {\n        return paths[0][0];\n    }\n    try {\n        for(var paths_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()){\n            var currentPath = paths_1_1.value;\n            var marker = result; // tslint:disable-next-line:prefer-for-of\n            for(var i = 0; i < currentPath.length; i++){\n                var subPath = currentPath[i];\n                if (i === currentPath.length - 2) {\n                    marker[subPath] = currentPath[i + 1];\n                    break;\n                }\n                marker[subPath] = marker[subPath] || {};\n                marker = marker[subPath];\n            }\n        }\n    } catch (e_4_1) {\n        e_4 = {\n            error: e_4_1\n        };\n    } finally{\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        } finally{\n            if (e_4) throw e_4.error;\n        }\n    }\n    return result;\n}\nfunction flatten(array) {\n    var _a;\n    return (_a = []).concat.apply(_a, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(array), false));\n}\nfunction toArrayStrict(value) {\n    if (isArray(value)) {\n        return value;\n    }\n    return [\n        value\n    ];\n}\nfunction toArray(value) {\n    if (value === undefined) {\n        return [];\n    }\n    return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n    var e_5, _a;\n    if (isFunction(mapper)) {\n        return mapper(context, _event.data);\n    }\n    var result = {};\n    try {\n        for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()){\n            var key = _c.value;\n            var subMapper = mapper[key];\n            if (isFunction(subMapper)) {\n                result[key] = subMapper(context, _event.data);\n            } else {\n                result[key] = subMapper;\n            }\n        }\n    } catch (e_5_1) {\n        e_5 = {\n            error: e_5_1\n        };\n    } finally{\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally{\n            if (e_5) throw e_5.error;\n        }\n    }\n    return result;\n}\nfunction isBuiltInEvent(eventType) {\n    return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n    if (value instanceof Promise) {\n        return true;\n    } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n    if (value !== null && (isFunction(value) || typeof value === \"object\") && isFunction(value.then)) {\n        return true;\n    }\n    return false;\n}\nfunction isBehavior(value) {\n    return value !== null && typeof value === \"object\" && \"transition\" in value && typeof value.transition === \"function\";\n}\nfunction partition(items, predicate) {\n    var e_6, _a;\n    var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)([\n        [],\n        []\n    ], 2), truthy = _b[0], falsy = _b[1];\n    try {\n        for(var items_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()){\n            var item = items_1_1.value;\n            if (predicate(item)) {\n                truthy.push(item);\n            } else {\n                falsy.push(item);\n            }\n        }\n    } catch (e_6_1) {\n        e_6 = {\n            error: e_6_1\n        };\n    } finally{\n        try {\n            if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n        } finally{\n            if (e_6) throw e_6.error;\n        }\n    }\n    return [\n        truthy,\n        falsy\n    ];\n}\nfunction updateHistoryStates(hist, stateValue) {\n    return mapValues(hist.states, function(subHist, key) {\n        if (!subHist) {\n            return undefined;\n        }\n        var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n        if (!subStateValue) {\n            return undefined;\n        }\n        return {\n            current: subStateValue,\n            states: updateHistoryStates(subHist, subStateValue)\n        };\n    });\n}\nfunction updateHistoryValue(hist, stateValue) {\n    return {\n        current: stateValue,\n        states: updateHistoryStates(hist, stateValue)\n    };\n}\nfunction updateContext(context, _event, assignActions, state) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION) {\n        warn(!!context, \"Attempting to update undefined context\");\n    }\n    var updatedContext = context ? assignActions.reduce(function(acc, assignAction) {\n        var e_7, _a;\n        var assignment = assignAction.assignment;\n        var meta = {\n            state: state,\n            action: assignAction,\n            _event: _event\n        };\n        var partialUpdate = {};\n        if (isFunction(assignment)) {\n            partialUpdate = assignment(acc, _event.data, meta);\n        } else {\n            try {\n                for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()){\n                    var key = _c.value;\n                    var propAssignment = assignment[key];\n                    partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n                }\n            } catch (e_7_1) {\n                e_7 = {\n                    error: e_7_1\n                };\n            } finally{\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                } finally{\n                    if (e_7) throw e_7.error;\n                }\n            }\n        }\n        return Object.assign({}, acc, partialUpdate);\n    }, context) : context;\n    return updatedContext;\n} // tslint:disable-next-line:no-empty\nvar warn = function() {};\nif (!_environment_js__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION) {\n    warn = function(condition, message) {\n        var error = condition instanceof Error ? condition : undefined;\n        if (!error && condition) {\n            return;\n        }\n        if (console !== undefined) {\n            var args = [\n                \"Warning: \".concat(message)\n            ];\n            if (error) {\n                args.push(error);\n            } // tslint:disable-next-line:no-console\n            console.warn.apply(console, args);\n        }\n    };\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\nfunction isString(value) {\n    return typeof value === \"string\";\n}\nfunction toGuard(condition, guardMap) {\n    if (!condition) {\n        return undefined;\n    }\n    if (isString(condition)) {\n        return {\n            type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_GUARD_TYPE,\n            name: condition,\n            predicate: guardMap ? guardMap[condition] : undefined\n        };\n    }\n    if (isFunction(condition)) {\n        return {\n            type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_GUARD_TYPE,\n            name: condition.name,\n            predicate: condition\n        };\n    }\n    return condition;\n}\nfunction isObservable(value) {\n    try {\n        return \"subscribe\" in value && isFunction(value.subscribe);\n    } catch (e) {\n        return false;\n    }\n}\nvar symbolObservable = /*#__PURE__*/ function() {\n    return typeof Symbol === \"function\" && Symbol.observable || \"@@observable\";\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function() {\n    return this;\n}, _a[Symbol.observable] = function() {\n    return this;\n}, _a);\nfunction isMachine(value) {\n    return !!value && \"__xstatenode\" in value;\n}\nfunction isActor(value) {\n    return !!value && typeof value.send === \"function\";\n}\nvar uniqueId = /*#__PURE__*/ function() {\n    var currentId = 0;\n    return function() {\n        currentId++;\n        return currentId.toString(16);\n    };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n    if (isString(event) || typeof event === \"number\") {\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            type: event\n        }, payload);\n    }\n    return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n    if (!isString(event) && \"$$type\" in event && event.$$type === \"scxml\") {\n        return event;\n    }\n    var eventObject = toEventObject(event);\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n        name: eventObject.type,\n        data: eventObject,\n        $$type: \"scxml\",\n        type: \"external\"\n    }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n    var transitions = toArrayStrict(configLike).map(function(transitionLike) {\n        if (typeof transitionLike === \"undefined\" || typeof transitionLike === \"string\" || isMachine(transitionLike)) {\n            return {\n                target: transitionLike,\n                event: event\n            };\n        }\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, transitionLike), {\n            event: event\n        });\n    });\n    return transitions;\n}\nfunction normalizeTarget(target) {\n    if (target === undefined || target === _constants_js__WEBPACK_IMPORTED_MODULE_0__.TARGETLESS_KEY) {\n        return undefined;\n    }\n    return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION) {\n        var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : \"\";\n        if (originalError === currentError) {\n            // tslint:disable-next-line:no-console\n            console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n        } else {\n            var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : \"\"; // tslint:disable-next-line:no-console\n            console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n        }\n    }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n    var guards = machine.options.guards;\n    var guardMeta = {\n        state: state,\n        cond: guard,\n        _event: _event\n    }; // TODO: do not hardcode!\n    if (guard.type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_GUARD_TYPE) {\n        return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n    }\n    var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n    if (!condFn) {\n        throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n    }\n    return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n    if (typeof src === \"string\") {\n        return {\n            type: src\n        };\n    }\n    return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n    var noop = function() {};\n    var isObserver = typeof nextHandler === \"object\";\n    var self = isObserver ? nextHandler : null;\n    return {\n        next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n        error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n        complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n    };\n}\nfunction createInvokeId(stateNodeId, index) {\n    return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n    return (action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_3__.raise || action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_3__.send && action.to === _types_js__WEBPACK_IMPORTED_MODULE_4__.SpecialTargets.Internal) && typeof action.delay !== \"number\";\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRjtBQUNyQztBQUNHO0FBQ3NDO0FBQ3BDO0FBRWpELElBQUlXO0FBQ0osU0FBU0MsS0FBS0MsS0FBSztJQUNqQixPQUFPQyxPQUFPRixJQUFJLENBQUNDO0FBQ3JCO0FBQ0EsU0FBU0UsYUFBYUMsYUFBYSxFQUFFQyxZQUFZLEVBQUVDLFNBQVM7SUFDMUQsSUFBSUEsY0FBYyxLQUFLLEdBQUc7UUFDeEJBLFlBQVlULDBEQUFlQTtJQUM3QjtJQUVBLElBQUlVLG1CQUFtQkMsYUFBYUosZUFBZUU7SUFDbkQsSUFBSUcsa0JBQWtCRCxhQUFhSCxjQUFjQztJQUVqRCxJQUFJSSxTQUFTRCxrQkFBa0I7UUFDN0IsSUFBSUMsU0FBU0gsbUJBQW1CO1lBQzlCLE9BQU9FLG9CQUFvQkY7UUFDN0IsRUFBRSxrQ0FBa0M7UUFHcEMsT0FBTztJQUNUO0lBRUEsSUFBSUcsU0FBU0gsbUJBQW1CO1FBQzlCLE9BQU9BLG9CQUFvQkU7SUFDN0I7SUFFQSxPQUFPUCxPQUFPRixJQUFJLENBQUNPLGtCQUFrQkksS0FBSyxDQUFDLFNBQVVDLEdBQUc7UUFDdEQsSUFBSSxDQUFFQSxDQUFBQSxPQUFPSCxlQUFjLEdBQUk7WUFDN0IsT0FBTztRQUNUO1FBRUEsT0FBT04sYUFBYUksZ0JBQWdCLENBQUNLLElBQUksRUFBRUgsZUFBZSxDQUFDRyxJQUFJO0lBQ2pFO0FBQ0Y7QUFDQSxTQUFTQyxhQUFhQyxLQUFLO0lBQ3pCLElBQUk7UUFDRixPQUFPSixTQUFTSSxVQUFVLE9BQU9BLFVBQVUsV0FBVyxHQUFHQyxNQUFNLENBQUNELFNBQVNBLE1BQU1FLElBQUk7SUFDckYsRUFBRSxPQUFPQyxHQUFHO1FBQ1YsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0FBQ0Y7QUFDQSxTQUFTQyxjQUFjQyxNQUFN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QUFXQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsaUJBQWlCO0lBQzlELElBQUlDLE9BQU8sWUFBYTtJQUV4QixJQUFJQyxhQUFhLE9BQU9KLGdCQUFnQjtJQUN4QyxJQUFJSyxPQUFPRCxhQUFhSixjQUFjO0lBQ3RDLE9BQU87UUFDTGxJLE1BQU0sQ0FBQyxDQUFDc0ksYUFBYUosWUFBWWxJLElBQUksR0FBR2tJLFdBQVUsS0FBTUcsSUFBRyxFQUFHRyxJQUFJLENBQUNEO1FBQ25FbkksT0FBTyxDQUFDLENBQUNrSSxhQUFhSixZQUFZOUgsS0FBSyxHQUFHK0gsWUFBVyxLQUFNRSxJQUFHLEVBQUdHLElBQUksQ0FBQ0Q7UUFDdEVFLFVBQVUsQ0FBQyxDQUFDSCxhQUFhSixZQUFZTyxRQUFRLEdBQUdMLGlCQUFnQixLQUFNQyxJQUFHLEVBQUdHLElBQUksQ0FBQ0Q7SUFDbkY7QUFDRjtBQUNBLFNBQVNHLGVBQWVDLFdBQVcsRUFBRUMsS0FBSztJQUN4QyxPQUFPLEdBQUczSyxNQUFNLENBQUMwSyxhQUFhLGdCQUFnQjFLLE1BQU0sQ0FBQzJLLE9BQU87QUFDOUQ7QUFDQSxTQUFTQyxpQkFBaUJ2SyxNQUFNO0lBQzlCLE9BQU8sQ0FBQ0EsT0FBT0osSUFBSSxLQUFLdkIsa0RBQUtBLElBQUkyQixPQUFPSixJQUFJLEtBQUt0QixpREFBSUEsSUFBSTBCLE9BQU93SyxFQUFFLEtBQUtwTSxxREFBY0EsQ0FBQ3FNLFFBQVEsS0FBSyxPQUFPekssT0FBTzBLLEtBQUssS0FBSztBQUM3SDtBQUVxcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRjaC1tYWtlci8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvdXRpbHMuanM/ODBiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3ZhbHVlcywgX19zcHJlYWRBcnJheSwgX19yZWFkLCBfX2Fzc2lnbiB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IFNwZWNpYWxUYXJnZXRzIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyByYWlzZSwgc2VuZCB9IGZyb20gJy4vYWN0aW9uVHlwZXMuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9HVUFSRF9UWVBFLCBUQVJHRVRMRVNTX0tFWSwgU1RBVEVfREVMSU1JVEVSIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgSVNfUFJPRFVDVElPTiB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuXG52YXIgX2E7XG5mdW5jdGlvbiBrZXlzKHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSk7XG59XG5mdW5jdGlvbiBtYXRjaGVzU3RhdGUocGFyZW50U3RhdGVJZCwgY2hpbGRTdGF0ZUlkLCBkZWxpbWl0ZXIpIHtcbiAgaWYgKGRlbGltaXRlciA9PT0gdm9pZCAwKSB7XG4gICAgZGVsaW1pdGVyID0gU1RBVEVfREVMSU1JVEVSO1xuICB9XG5cbiAgdmFyIHBhcmVudFN0YXRlVmFsdWUgPSB0b1N0YXRlVmFsdWUocGFyZW50U3RhdGVJZCwgZGVsaW1pdGVyKTtcbiAgdmFyIGNoaWxkU3RhdGVWYWx1ZSA9IHRvU3RhdGVWYWx1ZShjaGlsZFN0YXRlSWQsIGRlbGltaXRlcik7XG5cbiAgaWYgKGlzU3RyaW5nKGNoaWxkU3RhdGVWYWx1ZSkpIHtcbiAgICBpZiAoaXNTdHJpbmcocGFyZW50U3RhdGVWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBjaGlsZFN0YXRlVmFsdWUgPT09IHBhcmVudFN0YXRlVmFsdWU7XG4gICAgfSAvLyBQYXJlbnQgbW9yZSBzcGVjaWZpYyB0aGFuIGNoaWxkXG5cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhwYXJlbnRTdGF0ZVZhbHVlKSkge1xuICAgIHJldHVybiBwYXJlbnRTdGF0ZVZhbHVlIGluIGNoaWxkU3RhdGVWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyhwYXJlbnRTdGF0ZVZhbHVlKS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIGNoaWxkU3RhdGVWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlc1N0YXRlKHBhcmVudFN0YXRlVmFsdWVba2V5XSwgY2hpbGRTdGF0ZVZhbHVlW2tleV0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldEV2ZW50VHlwZShldmVudCkge1xuICB0cnkge1xuICAgIHJldHVybiBpc1N0cmluZyhldmVudCkgfHwgdHlwZW9mIGV2ZW50ID09PSAnbnVtYmVyJyA/IFwiXCIuY29uY2F0KGV2ZW50KSA6IGV2ZW50LnR5cGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50cyBtdXN0IGJlIHN0cmluZ3Mgb3Igb2JqZWN0cyB3aXRoIGEgc3RyaW5nIGV2ZW50LnR5cGUgcHJvcGVydHkuJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEFjdGlvblR5cGUoYWN0aW9uKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKGFjdGlvbikgfHwgdHlwZW9mIGFjdGlvbiA9PT0gJ251bWJlcicgPyBcIlwiLmNvbmNhdChhY3Rpb24pIDogaXNGdW5jdGlvbihhY3Rpb24pID8gYWN0aW9uLm5hbWUgOiBhY3Rpb24udHlwZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtdXN0IGJlIHN0cmluZ3Mgb3Igb2JqZWN0cyB3aXRoIGEgc3RyaW5nIGFjdGlvbi50eXBlIHByb3BlcnR5LicpO1xuICB9XG59XG5mdW5jdGlvbiB0b1N0YXRlUGF0aChzdGF0ZUlkLCBkZWxpbWl0ZXIpIHtcbiAgdHJ5IHtcbiAgICBpZiAoaXNBcnJheShzdGF0ZUlkKSkge1xuICAgICAgcmV0dXJuIHN0YXRlSWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlSWQudG9TdHJpbmcoKS5zcGxpdChkZWxpbWl0ZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiLmNvbmNhdChzdGF0ZUlkLCBcIicgaXMgbm90IGEgdmFsaWQgc3RhdGUgcGF0aC5cIikpO1xuICB9XG59XG5mdW5jdGlvbiBpc1N0YXRlTGlrZShzdGF0ZSkge1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSAnb2JqZWN0JyAmJiAndmFsdWUnIGluIHN0YXRlICYmICdjb250ZXh0JyBpbiBzdGF0ZSAmJiAnZXZlbnQnIGluIHN0YXRlICYmICdfZXZlbnQnIGluIHN0YXRlO1xufVxuZnVuY3Rpb24gdG9TdGF0ZVZhbHVlKHN0YXRlVmFsdWUsIGRlbGltaXRlcikge1xuICBpZiAoaXNTdGF0ZUxpa2Uoc3RhdGVWYWx1ZSkpIHtcbiAgICByZXR1cm4gc3RhdGVWYWx1ZS52YWx1ZTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KHN0YXRlVmFsdWUpKSB7XG4gICAgcmV0dXJuIHBhdGhUb1N0YXRlVmFsdWUoc3RhdGVWYWx1ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHN0YXRlVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0YXRlVmFsdWU7XG4gIH1cblxuICB2YXIgc3RhdGVQYXRoID0gdG9TdGF0ZVBhdGgoc3RhdGVWYWx1ZSwgZGVsaW1pdGVyKTtcbiAgcmV0dXJuIHBhdGhUb1N0YXRlVmFsdWUoc3RhdGVQYXRoKTtcbn1cbmZ1bmN0aW9uIHBhdGhUb1N0YXRlVmFsdWUoc3RhdGVQYXRoKSB7XG4gIGlmIChzdGF0ZVBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHN0YXRlUGF0aFswXTtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IHt9O1xuICB2YXIgbWFya2VyID0gdmFsdWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZVBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgaWYgKGkgPT09IHN0YXRlUGF0aC5sZW5ndGggLSAyKSB7XG4gICAgICBtYXJrZXJbc3RhdGVQYXRoW2ldXSA9IHN0YXRlUGF0aFtpICsgMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtlcltzdGF0ZVBhdGhbaV1dID0ge307XG4gICAgICBtYXJrZXIgPSBtYXJrZXJbc3RhdGVQYXRoW2ldXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBtYXBWYWx1ZXMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICB2YXIgY29sbGVjdGlvbktleXMgPSBPYmplY3Qua2V5cyhjb2xsZWN0aW9uKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxlY3Rpb25LZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGNvbGxlY3Rpb25LZXlzW2ldO1xuICAgIHJlc3VsdFtrZXldID0gaXRlcmF0ZWUoY29sbGVjdGlvbltrZXldLCBrZXksIGNvbGxlY3Rpb24sIGkpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1hcEZpbHRlclZhbHVlcyhjb2xsZWN0aW9uLCBpdGVyYXRlZSwgcHJlZGljYXRlKSB7XG4gIHZhciBlXzEsIF9hO1xuXG4gIHZhciByZXN1bHQgPSB7fTtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMoY29sbGVjdGlvbikpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICB2YXIga2V5ID0gX2MudmFsdWU7XG4gICAgICB2YXIgaXRlbSA9IGNvbGxlY3Rpb25ba2V5XTtcblxuICAgICAgaWYgKCFwcmVkaWNhdGUoaXRlbSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFtrZXldID0gaXRlcmF0ZWUoaXRlbSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgZV8xID0ge1xuICAgICAgZXJyb3I6IGVfMV8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxyXG4gKiBSZXRyaWV2ZXMgYSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcGF0aC5cclxuICogQHBhcmFtIHByb3BzIFRoZSBkZWVwIHBhdGggdG8gdGhlIHByb3Agb2YgdGhlIGRlc2lyZWQgdmFsdWVcclxuICovXG5cbnZhciBwYXRoID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGVfMiwgX2E7XG5cbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0O1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIHByb3BzXzEgPSBfX3ZhbHVlcyhwcm9wcyksIHByb3BzXzFfMSA9IHByb3BzXzEubmV4dCgpOyAhcHJvcHNfMV8xLmRvbmU7IHByb3BzXzFfMSA9IHByb3BzXzEubmV4dCgpKSB7XG4gICAgICAgIHZhciBwcm9wID0gcHJvcHNfMV8xLnZhbHVlO1xuICAgICAgICByZXN1bHQgPSByZXN1bHRbcHJvcF07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8yXzEpIHtcbiAgICAgIGVfMiA9IHtcbiAgICAgICAgZXJyb3I6IGVfMl8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocHJvcHNfMV8xICYmICFwcm9wc18xXzEuZG9uZSAmJiAoX2EgPSBwcm9wc18xLnJldHVybikpIF9hLmNhbGwocHJvcHNfMSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG4vKipcclxuICogUmV0cmlldmVzIGEgdmFsdWUgYXQgdGhlIGdpdmVuIHBhdGggdmlhIHRoZSBuZXN0ZWQgYWNjZXNzb3IgcHJvcC5cclxuICogQHBhcmFtIHByb3BzIFRoZSBkZWVwIHBhdGggdG8gdGhlIHByb3Agb2YgdGhlIGRlc2lyZWQgdmFsdWVcclxuICovXG5cbmZ1bmN0aW9uIG5lc3RlZFBhdGgocHJvcHMsIGFjY2Vzc29yUHJvcCkge1xuICByZXR1cm4gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHZhciBlXzMsIF9hO1xuXG4gICAgdmFyIHJlc3VsdCA9IG9iamVjdDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBwcm9wc18yID0gX192YWx1ZXMocHJvcHMpLCBwcm9wc18yXzEgPSBwcm9wc18yLm5leHQoKTsgIXByb3BzXzJfMS5kb25lOyBwcm9wc18yXzEgPSBwcm9wc18yLm5leHQoKSkge1xuICAgICAgICB2YXIgcHJvcCA9IHByb3BzXzJfMS52YWx1ZTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0W2FjY2Vzc29yUHJvcF1bcHJvcF07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8zXzEpIHtcbiAgICAgIGVfMyA9IHtcbiAgICAgICAgZXJyb3I6IGVfM18xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocHJvcHNfMl8xICYmICFwcm9wc18yXzEuZG9uZSAmJiAoX2EgPSBwcm9wc18yLnJldHVybikpIF9hLmNhbGwocHJvcHNfMik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbmZ1bmN0aW9uIHRvU3RhdGVQYXRocyhzdGF0ZVZhbHVlKSB7XG4gIGlmICghc3RhdGVWYWx1ZSkge1xuICAgIHJldHVybiBbW11dO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKHN0YXRlVmFsdWUpKSB7XG4gICAgcmV0dXJuIFtbc3RhdGVWYWx1ZV1dO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IGZsYXR0ZW4oT2JqZWN0LmtleXMoc3RhdGVWYWx1ZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc3ViU3RhdGVWYWx1ZSA9IHN0YXRlVmFsdWVba2V5XTtcblxuICAgIGlmICh0eXBlb2Ygc3ViU3RhdGVWYWx1ZSAhPT0gJ3N0cmluZycgJiYgKCFzdWJTdGF0ZVZhbHVlIHx8ICFPYmplY3Qua2V5cyhzdWJTdGF0ZVZhbHVlKS5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gW1trZXldXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9TdGF0ZVBhdGhzKHN0YXRlVmFsdWVba2V5XSkubWFwKGZ1bmN0aW9uIChzdWJQYXRoKSB7XG4gICAgICByZXR1cm4gW2tleV0uY29uY2F0KHN1YlBhdGgpO1xuICAgIH0pO1xuICB9KSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBwYXRoc1RvU3RhdGVWYWx1ZShwYXRocykge1xuICB2YXIgZV80LCBfYTtcblxuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgaWYgKHBhdGhzICYmIHBhdGhzLmxlbmd0aCA9PT0gMSAmJiBwYXRoc1swXS5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gcGF0aHNbMF1bMF07XG4gIH1cblxuICB0cnkge1xuICAgIGZvciAodmFyIHBhdGhzXzEgPSBfX3ZhbHVlcyhwYXRocyksIHBhdGhzXzFfMSA9IHBhdGhzXzEubmV4dCgpOyAhcGF0aHNfMV8xLmRvbmU7IHBhdGhzXzFfMSA9IHBhdGhzXzEubmV4dCgpKSB7XG4gICAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoc18xXzEudmFsdWU7XG4gICAgICB2YXIgbWFya2VyID0gcmVzdWx0OyAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLWZvci1vZlxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRQYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzdWJQYXRoID0gY3VycmVudFBhdGhbaV07XG5cbiAgICAgICAgaWYgKGkgPT09IGN1cnJlbnRQYXRoLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICBtYXJrZXJbc3ViUGF0aF0gPSBjdXJyZW50UGF0aFtpICsgMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrZXJbc3ViUGF0aF0gPSBtYXJrZXJbc3ViUGF0aF0gfHwge307XG4gICAgICAgIG1hcmtlciA9IG1hcmtlcltzdWJQYXRoXTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfNF8xKSB7XG4gICAgZV80ID0ge1xuICAgICAgZXJyb3I6IGVfNF8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHBhdGhzXzFfMSAmJiAhcGF0aHNfMV8xLmRvbmUgJiYgKF9hID0gcGF0aHNfMS5yZXR1cm4pKSBfYS5jYWxsKHBhdGhzXzEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgdmFyIF9hO1xuXG4gIHJldHVybiAoX2EgPSBbXSkuY29uY2F0LmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJyYXkpLCBmYWxzZSkpO1xufVxuZnVuY3Rpb24gdG9BcnJheVN0cmljdCh2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gW3ZhbHVlXTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gdG9BcnJheVN0cmljdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBtYXBDb250ZXh0KG1hcHBlciwgY29udGV4dCwgX2V2ZW50KSB7XG4gIHZhciBlXzUsIF9hO1xuXG4gIGlmIChpc0Z1bmN0aW9uKG1hcHBlcikpIHtcbiAgICByZXR1cm4gbWFwcGVyKGNvbnRleHQsIF9ldmVudC5kYXRhKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSB7fTtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMobWFwcGVyKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgIHZhciBrZXkgPSBfYy52YWx1ZTtcbiAgICAgIHZhciBzdWJNYXBwZXIgPSBtYXBwZXJba2V5XTtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24oc3ViTWFwcGVyKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IHN1Yk1hcHBlcihjb250ZXh0LCBfZXZlbnQuZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRba2V5XSA9IHN1Yk1hcHBlcjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfNV8xKSB7XG4gICAgZV81ID0ge1xuICAgICAgZXJyb3I6IGVfNV8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGlzQnVpbHRJbkV2ZW50KGV2ZW50VHlwZSkge1xuICByZXR1cm4gL14oZG9uZXxlcnJvcilcXC4vLnRlc3QoZXZlbnRUeXBlKTtcbn1cbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2UodmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIENoZWNrIGlmIHNoYXBlIG1hdGNoZXMgdGhlIFByb21pc2UvQSsgc3BlY2lmaWNhdGlvbiBmb3IgYSBcInRoZW5hYmxlXCIuXG5cblxuICBpZiAodmFsdWUgIT09IG51bGwgJiYgKGlzRnVuY3Rpb24odmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpICYmIGlzRnVuY3Rpb24odmFsdWUudGhlbikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzQmVoYXZpb3IodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ3RyYW5zaXRpb24nIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50cmFuc2l0aW9uID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gcGFydGl0aW9uKGl0ZW1zLCBwcmVkaWNhdGUpIHtcbiAgdmFyIGVfNiwgX2E7XG5cbiAgdmFyIF9iID0gX19yZWFkKFtbXSwgW11dLCAyKSxcbiAgICAgIHRydXRoeSA9IF9iWzBdLFxuICAgICAgZmFsc3kgPSBfYlsxXTtcblxuICB0cnkge1xuICAgIGZvciAodmFyIGl0ZW1zXzEgPSBfX3ZhbHVlcyhpdGVtcyksIGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpOyAhaXRlbXNfMV8xLmRvbmU7IGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpKSB7XG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zXzFfMS52YWx1ZTtcblxuICAgICAgaWYgKHByZWRpY2F0ZShpdGVtKSkge1xuICAgICAgICB0cnV0aHkucHVzaChpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZhbHN5LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzZfMSkge1xuICAgIGVfNiA9IHtcbiAgICAgIGVycm9yOiBlXzZfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpdGVtc18xXzEgJiYgIWl0ZW1zXzFfMS5kb25lICYmIChfYSA9IGl0ZW1zXzEucmV0dXJuKSkgX2EuY2FsbChpdGVtc18xKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfNikgdGhyb3cgZV82LmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbdHJ1dGh5LCBmYWxzeV07XG59XG5mdW5jdGlvbiB1cGRhdGVIaXN0b3J5U3RhdGVzKGhpc3QsIHN0YXRlVmFsdWUpIHtcbiAgcmV0dXJuIG1hcFZhbHVlcyhoaXN0LnN0YXRlcywgZnVuY3Rpb24gKHN1Ykhpc3QsIGtleSkge1xuICAgIGlmICghc3ViSGlzdCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgc3ViU3RhdGVWYWx1ZSA9IChpc1N0cmluZyhzdGF0ZVZhbHVlKSA/IHVuZGVmaW5lZCA6IHN0YXRlVmFsdWVba2V5XSkgfHwgKHN1Ykhpc3QgPyBzdWJIaXN0LmN1cnJlbnQgOiB1bmRlZmluZWQpO1xuXG4gICAgaWYgKCFzdWJTdGF0ZVZhbHVlKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50OiBzdWJTdGF0ZVZhbHVlLFxuICAgICAgc3RhdGVzOiB1cGRhdGVIaXN0b3J5U3RhdGVzKHN1Ykhpc3QsIHN1YlN0YXRlVmFsdWUpXG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVIaXN0b3J5VmFsdWUoaGlzdCwgc3RhdGVWYWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGN1cnJlbnQ6IHN0YXRlVmFsdWUsXG4gICAgc3RhdGVzOiB1cGRhdGVIaXN0b3J5U3RhdGVzKGhpc3QsIHN0YXRlVmFsdWUpXG4gIH07XG59XG5mdW5jdGlvbiB1cGRhdGVDb250ZXh0KGNvbnRleHQsIF9ldmVudCwgYXNzaWduQWN0aW9ucywgc3RhdGUpIHtcbiAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgd2FybighIWNvbnRleHQsICdBdHRlbXB0aW5nIHRvIHVwZGF0ZSB1bmRlZmluZWQgY29udGV4dCcpO1xuICB9XG5cbiAgdmFyIHVwZGF0ZWRDb250ZXh0ID0gY29udGV4dCA/IGFzc2lnbkFjdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGFzc2lnbkFjdGlvbikge1xuICAgIHZhciBlXzcsIF9hO1xuXG4gICAgdmFyIGFzc2lnbm1lbnQgPSBhc3NpZ25BY3Rpb24uYXNzaWdubWVudDtcbiAgICB2YXIgbWV0YSA9IHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIGFjdGlvbjogYXNzaWduQWN0aW9uLFxuICAgICAgX2V2ZW50OiBfZXZlbnRcbiAgICB9O1xuICAgIHZhciBwYXJ0aWFsVXBkYXRlID0ge307XG5cbiAgICBpZiAoaXNGdW5jdGlvbihhc3NpZ25tZW50KSkge1xuICAgICAgcGFydGlhbFVwZGF0ZSA9IGFzc2lnbm1lbnQoYWNjLCBfZXZlbnQuZGF0YSwgbWV0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMoYXNzaWdubWVudCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGtleSA9IF9jLnZhbHVlO1xuICAgICAgICAgIHZhciBwcm9wQXNzaWdubWVudCA9IGFzc2lnbm1lbnRba2V5XTtcbiAgICAgICAgICBwYXJ0aWFsVXBkYXRlW2tleV0gPSBpc0Z1bmN0aW9uKHByb3BBc3NpZ25tZW50KSA/IHByb3BBc3NpZ25tZW50KGFjYywgX2V2ZW50LmRhdGEsIG1ldGEpIDogcHJvcEFzc2lnbm1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfN18xKSB7XG4gICAgICAgIGVfNyA9IHtcbiAgICAgICAgICBlcnJvcjogZV83XzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChlXzcpIHRocm93IGVfNy5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhY2MsIHBhcnRpYWxVcGRhdGUpO1xuICB9LCBjb250ZXh0KSA6IGNvbnRleHQ7XG4gIHJldHVybiB1cGRhdGVkQ29udGV4dDtcbn0gLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XG5cbnZhciB3YXJuID0gZnVuY3Rpb24gKCkge307XG5cbmlmICghSVNfUFJPRFVDVElPTikge1xuICB3YXJuID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIHZhciBlcnJvciA9IGNvbmRpdGlvbiBpbnN0YW5jZW9mIEVycm9yID8gY29uZGl0aW9uIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFlcnJvciAmJiBjb25kaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29uc29sZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYXJncyA9IFtcIldhcm5pbmc6IFwiLmNvbmNhdChtZXNzYWdlKV07XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBhcmdzLnB1c2goZXJyb3IpO1xuICAgICAgfSAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuXG5cbiAgICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn0gLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmJhbi10eXBlc1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbn1cbmZ1bmN0aW9uIHRvR3VhcmQoY29uZGl0aW9uLCBndWFyZE1hcCkge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoY29uZGl0aW9uKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBERUZBVUxUX0dVQVJEX1RZUEUsXG4gICAgICBuYW1lOiBjb25kaXRpb24sXG4gICAgICBwcmVkaWNhdGU6IGd1YXJkTWFwID8gZ3VhcmRNYXBbY29uZGl0aW9uXSA6IHVuZGVmaW5lZFxuICAgIH07XG4gIH1cblxuICBpZiAoaXNGdW5jdGlvbihjb25kaXRpb24pKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IERFRkFVTFRfR1VBUkRfVFlQRSxcbiAgICAgIG5hbWU6IGNvbmRpdGlvbi5uYW1lLFxuICAgICAgcHJlZGljYXRlOiBjb25kaXRpb25cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbmRpdGlvbjtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZSh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiAnc3Vic2NyaWJlJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnN1YnNjcmliZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbnZhciBzeW1ib2xPYnNlcnZhYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZSc7XG59KCk7IC8vIFRPRE86IHRvIGJlIHJlbW92ZWQgaW4gdjUsIGxlZnQgaXQgb3V0IGp1c3QgdG8gbWluaW1pemUgdGhlIHNjb3BlIG9mIHRoZSBjaGFuZ2UgYW5kIG1haW50YWluIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBpbnRlZ3JhdGlvbiBwYWFja2FnZXNcblxudmFyIGludGVyb3BTeW1ib2xzID0gKF9hID0ge30sIF9hW3N5bWJvbE9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn0sIF9hW1N5bWJvbC5vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59LCBfYSk7XG5mdW5jdGlvbiBpc01hY2hpbmUodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgJ19feHN0YXRlbm9kZScgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBpc0FjdG9yKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zZW5kID09PSAnZnVuY3Rpb24nO1xufVxudmFyIHVuaXF1ZUlkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIGN1cnJlbnRJZCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY3VycmVudElkKys7XG4gICAgcmV0dXJuIGN1cnJlbnRJZC50b1N0cmluZygxNik7XG4gIH07XG59KCk7XG5mdW5jdGlvbiB0b0V2ZW50T2JqZWN0KGV2ZW50LCBwYXlsb2FkIC8vIGlkPzogVEV2ZW50Wyd0eXBlJ11cbikge1xuICBpZiAoaXNTdHJpbmcoZXZlbnQpIHx8IHR5cGVvZiBldmVudCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gX19hc3NpZ24oe1xuICAgICAgdHlwZTogZXZlbnRcbiAgICB9LCBwYXlsb2FkKTtcbiAgfVxuXG4gIHJldHVybiBldmVudDtcbn1cbmZ1bmN0aW9uIHRvU0NYTUxFdmVudChldmVudCwgc2N4bWxFdmVudCkge1xuICBpZiAoIWlzU3RyaW5nKGV2ZW50KSAmJiAnJCR0eXBlJyBpbiBldmVudCAmJiBldmVudC4kJHR5cGUgPT09ICdzY3htbCcpIHtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cblxuICB2YXIgZXZlbnRPYmplY3QgPSB0b0V2ZW50T2JqZWN0KGV2ZW50KTtcbiAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICBuYW1lOiBldmVudE9iamVjdC50eXBlLFxuICAgIGRhdGE6IGV2ZW50T2JqZWN0LFxuICAgICQkdHlwZTogJ3NjeG1sJyxcbiAgICB0eXBlOiAnZXh0ZXJuYWwnXG4gIH0sIHNjeG1sRXZlbnQpO1xufVxuZnVuY3Rpb24gdG9UcmFuc2l0aW9uQ29uZmlnQXJyYXkoZXZlbnQsIGNvbmZpZ0xpa2UpIHtcbiAgdmFyIHRyYW5zaXRpb25zID0gdG9BcnJheVN0cmljdChjb25maWdMaWtlKS5tYXAoZnVuY3Rpb24gKHRyYW5zaXRpb25MaWtlKSB7XG4gICAgaWYgKHR5cGVvZiB0cmFuc2l0aW9uTGlrZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHRyYW5zaXRpb25MaWtlID09PSAnc3RyaW5nJyB8fCBpc01hY2hpbmUodHJhbnNpdGlvbkxpa2UpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXQ6IHRyYW5zaXRpb25MaWtlLFxuICAgICAgICBldmVudDogZXZlbnRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0cmFuc2l0aW9uTGlrZSksIHtcbiAgICAgIGV2ZW50OiBldmVudFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRyYW5zaXRpb25zO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVGFyZ2V0KHRhcmdldCkge1xuICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBUQVJHRVRMRVNTX0tFWSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gdG9BcnJheSh0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVwb3J0VW5oYW5kbGVkRXhjZXB0aW9uT25JbnZvY2F0aW9uKG9yaWdpbmFsRXJyb3IsIGN1cnJlbnRFcnJvciwgaWQpIHtcbiAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgdmFyIG9yaWdpbmFsU3RhY2tUcmFjZSA9IG9yaWdpbmFsRXJyb3Iuc3RhY2sgPyBcIiBTdGFja3RyYWNlIHdhcyAnXCIuY29uY2F0KG9yaWdpbmFsRXJyb3Iuc3RhY2ssIFwiJ1wiKSA6ICcnO1xuXG4gICAgaWYgKG9yaWdpbmFsRXJyb3IgPT09IGN1cnJlbnRFcnJvcikge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNaXNzaW5nIG9uRXJyb3IgaGFuZGxlciBmb3IgaW52b2NhdGlvbiAnXCIuY29uY2F0KGlkLCBcIicsIGVycm9yIHdhcyAnXCIpLmNvbmNhdChvcmlnaW5hbEVycm9yLCBcIicuXCIpLmNvbmNhdChvcmlnaW5hbFN0YWNrVHJhY2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YWNrVHJhY2UgPSBjdXJyZW50RXJyb3Iuc3RhY2sgPyBcIiBTdGFja3RyYWNlIHdhcyAnXCIuY29uY2F0KGN1cnJlbnRFcnJvci5zdGFjaywgXCInXCIpIDogJyc7IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNaXNzaW5nIG9uRXJyb3IgaGFuZGxlciBhbmQvb3IgdW5oYW5kbGVkIGV4Y2VwdGlvbi9wcm9taXNlIHJlamVjdGlvbiBmb3IgaW52b2NhdGlvbiAnXCIuY29uY2F0KGlkLCBcIicuIFwiKSArIFwiT3JpZ2luYWwgZXJyb3I6ICdcIi5jb25jYXQob3JpZ2luYWxFcnJvciwgXCInLiBcIikuY29uY2F0KG9yaWdpbmFsU3RhY2tUcmFjZSwgXCIgQ3VycmVudCBlcnJvciBpcyAnXCIpLmNvbmNhdChjdXJyZW50RXJyb3IsIFwiJy5cIikuY29uY2F0KHN0YWNrVHJhY2UpKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGV2YWx1YXRlR3VhcmQobWFjaGluZSwgZ3VhcmQsIGNvbnRleHQsIF9ldmVudCwgc3RhdGUpIHtcbiAgdmFyIGd1YXJkcyA9IG1hY2hpbmUub3B0aW9ucy5ndWFyZHM7XG4gIHZhciBndWFyZE1ldGEgPSB7XG4gICAgc3RhdGU6IHN0YXRlLFxuICAgIGNvbmQ6IGd1YXJkLFxuICAgIF9ldmVudDogX2V2ZW50XG4gIH07IC8vIFRPRE86IGRvIG5vdCBoYXJkY29kZSFcblxuICBpZiAoZ3VhcmQudHlwZSA9PT0gREVGQVVMVF9HVUFSRF9UWVBFKSB7XG4gICAgcmV0dXJuICgoZ3VhcmRzID09PSBudWxsIHx8IGd1YXJkcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3VhcmRzW2d1YXJkLm5hbWVdKSB8fCBndWFyZC5wcmVkaWNhdGUpKGNvbnRleHQsIF9ldmVudC5kYXRhLCBndWFyZE1ldGEpO1xuICB9XG5cbiAgdmFyIGNvbmRGbiA9IGd1YXJkcyA9PT0gbnVsbCB8fCBndWFyZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGd1YXJkc1tndWFyZC50eXBlXTtcblxuICBpZiAoIWNvbmRGbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkd1YXJkICdcIi5jb25jYXQoZ3VhcmQudHlwZSwgXCInIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiBtYWNoaW5lICdcIikuY29uY2F0KG1hY2hpbmUuaWQsIFwiJy5cIikpO1xuICB9XG5cbiAgcmV0dXJuIGNvbmRGbihjb250ZXh0LCBfZXZlbnQuZGF0YSwgZ3VhcmRNZXRhKTtcbn1cbmZ1bmN0aW9uIHRvSW52b2tlU291cmNlKHNyYykge1xuICBpZiAodHlwZW9mIHNyYyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogc3JjXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBzcmM7XG59XG5mdW5jdGlvbiB0b09ic2VydmVyKG5leHRIYW5kbGVyLCBlcnJvckhhbmRsZXIsIGNvbXBsZXRpb25IYW5kbGVyKSB7XG4gIHZhciBub29wID0gZnVuY3Rpb24gKCkge307XG5cbiAgdmFyIGlzT2JzZXJ2ZXIgPSB0eXBlb2YgbmV4dEhhbmRsZXIgPT09ICdvYmplY3QnO1xuICB2YXIgc2VsZiA9IGlzT2JzZXJ2ZXIgPyBuZXh0SGFuZGxlciA6IG51bGw7XG4gIHJldHVybiB7XG4gICAgbmV4dDogKChpc09ic2VydmVyID8gbmV4dEhhbmRsZXIubmV4dCA6IG5leHRIYW5kbGVyKSB8fCBub29wKS5iaW5kKHNlbGYpLFxuICAgIGVycm9yOiAoKGlzT2JzZXJ2ZXIgPyBuZXh0SGFuZGxlci5lcnJvciA6IGVycm9ySGFuZGxlcikgfHwgbm9vcCkuYmluZChzZWxmKSxcbiAgICBjb21wbGV0ZTogKChpc09ic2VydmVyID8gbmV4dEhhbmRsZXIuY29tcGxldGUgOiBjb21wbGV0aW9uSGFuZGxlcikgfHwgbm9vcCkuYmluZChzZWxmKVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSW52b2tlSWQoc3RhdGVOb2RlSWQsIGluZGV4KSB7XG4gIHJldHVybiBcIlwiLmNvbmNhdChzdGF0ZU5vZGVJZCwgXCI6aW52b2NhdGlvbltcIikuY29uY2F0KGluZGV4LCBcIl1cIik7XG59XG5mdW5jdGlvbiBpc1JhaXNhYmxlQWN0aW9uKGFjdGlvbikge1xuICByZXR1cm4gKGFjdGlvbi50eXBlID09PSByYWlzZSB8fCBhY3Rpb24udHlwZSA9PT0gc2VuZCAmJiBhY3Rpb24udG8gPT09IFNwZWNpYWxUYXJnZXRzLkludGVybmFsKSAmJiB0eXBlb2YgYWN0aW9uLmRlbGF5ICE9PSAnbnVtYmVyJztcbn1cblxuZXhwb3J0IHsgY3JlYXRlSW52b2tlSWQsIGV2YWx1YXRlR3VhcmQsIGZsYXR0ZW4sIGdldEFjdGlvblR5cGUsIGdldEV2ZW50VHlwZSwgaW50ZXJvcFN5bWJvbHMsIGlzQWN0b3IsIGlzQXJyYXksIGlzQmVoYXZpb3IsIGlzQnVpbHRJbkV2ZW50LCBpc0Z1bmN0aW9uLCBpc01hY2hpbmUsIGlzT2JzZXJ2YWJsZSwgaXNQcm9taXNlTGlrZSwgaXNSYWlzYWJsZUFjdGlvbiwgaXNTdGF0ZUxpa2UsIGlzU3RyaW5nLCBrZXlzLCBtYXBDb250ZXh0LCBtYXBGaWx0ZXJWYWx1ZXMsIG1hcFZhbHVlcywgbWF0Y2hlc1N0YXRlLCBuZXN0ZWRQYXRoLCBub3JtYWxpemVUYXJnZXQsIHBhcnRpdGlvbiwgcGF0aCwgcGF0aFRvU3RhdGVWYWx1ZSwgcGF0aHNUb1N0YXRlVmFsdWUsIHJlcG9ydFVuaGFuZGxlZEV4Y2VwdGlvbk9uSW52b2NhdGlvbiwgc3ltYm9sT2JzZXJ2YWJsZSwgdG9BcnJheSwgdG9BcnJheVN0cmljdCwgdG9FdmVudE9iamVjdCwgdG9HdWFyZCwgdG9JbnZva2VTb3VyY2UsIHRvT2JzZXJ2ZXIsIHRvU0NYTUxFdmVudCwgdG9TdGF0ZVBhdGgsIHRvU3RhdGVQYXRocywgdG9TdGF0ZVZhbHVlLCB0b1RyYW5zaXRpb25Db25maWdBcnJheSwgdW5pcXVlSWQsIHVwZGF0ZUNvbnRleHQsIHVwZGF0ZUhpc3RvcnlTdGF0ZXMsIHVwZGF0ZUhpc3RvcnlWYWx1ZSwgd2FybiB9O1xuIl0sIm5hbWVzIjpbIl9fdmFsdWVzIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsIl9fYXNzaWduIiwiU3BlY2lhbFRhcmdldHMiLCJyYWlzZSIsInNlbmQiLCJERUZBVUxUX0dVQVJEX1RZUEUiLCJUQVJHRVRMRVNTX0tFWSIsIlNUQVRFX0RFTElNSVRFUiIsIklTX1BST0RVQ1RJT04iLCJfYSIsImtleXMiLCJ2YWx1ZSIsIk9iamVjdCIsIm1hdGNoZXNTdGF0ZSIsInBhcmVudFN0YXRlSWQiLCJjaGlsZFN0YXRlSWQiLCJkZWxpbWl0ZXIiLCJwYXJlbnRTdGF0ZVZhbHVlIiwidG9TdGF0ZVZhbHVlIiwiY2hpbGRTdGF0ZVZhbHVlIiwiaXNTdHJpbmciLCJldmVyeSIsImtleSIsImdldEV2ZW50VHlwZSIsImV2ZW50IiwiY29uY2F0IiwidHlwZSIsImUiLCJFcnJvciIsImdldEFjdGlvblR5cGUiLCJhY3Rpb24iLCJpc0Z1bmN0aW9uIiwibmFtZSIsInRvU3RhdGVQYXRoIiwic3RhdGVJZCIsImlzQXJyYXkiLCJ0b1N0cmluZyIsInNwbGl0IiwiaXNTdGF0ZUxpa2UiLCJzdGF0ZSIsInN0YXRlVmFsdWUiLCJwYXRoVG9TdGF0ZVZhbHVlIiwic3RhdGVQYXRoIiwibGVuZ3RoIiwibWFya2VyIiwiaSIsIm1hcFZhbHVlcyIsImNvbGxlY3Rpb24iLCJpdGVyYXRlZSIsInJlc3VsdCIsImNvbGxlY3Rpb25LZXlzIiwibWFwRmlsdGVyVmFsdWVzIiwicHJlZGljYXRlIiwiZV8xIiwiX2IiLCJfYyIsIm5leHQiLCJkb25lIiwiaXRlbSIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJjYWxsIiwicGF0aCIsInByb3BzIiwib2JqZWN0IiwiZV8yIiwicHJvcHNfMSIsInByb3BzXzFfMSIsInByb3AiLCJlXzJfMSIsIm5lc3RlZFBhdGgiLCJhY2Nlc3NvclByb3AiLCJlXzMiLCJwcm9wc18yIiwicHJvcHNfMl8xIiwiZV8zXzEiLCJ0b1N0YXRlUGF0aHMiLCJmbGF0dGVuIiwibWFwIiwic3ViU3RhdGVWYWx1ZSIsInN1YlBhdGgiLCJwYXRoc1RvU3RhdGVWYWx1ZSIsInBhdGhzIiwiZV80IiwicGF0aHNfMSIsInBhdGhzXzFfMSIsImN1cnJlbnRQYXRoIiwiZV80XzEiLCJhcnJheSIsImFwcGx5IiwidG9BcnJheVN0cmljdCIsInRvQXJyYXkiLCJ1bmRlZmluZWQiLCJtYXBDb250ZXh0IiwibWFwcGVyIiwiY29udGV4dCIsIl9ldmVudCIsImVfNSIsImRhdGEiLCJzdWJNYXBwZXIiLCJlXzVfMSIsImlzQnVpbHRJbkV2ZW50IiwiZXZlbnRUeXBlIiwidGVzdCIsImlzUHJvbWlzZUxpa2UiLCJQcm9taXNlIiwidGhlbiIsImlzQmVoYXZpb3IiLCJ0cmFuc2l0aW9uIiwicGFydGl0aW9uIiwiaXRlbXMiLCJlXzYiLCJ0cnV0aHkiLCJmYWxzeSIsIml0ZW1zXzEiLCJpdGVtc18xXzEiLCJwdXNoIiwiZV82XzEiLCJ1cGRhdGVIaXN0b3J5U3RhdGVzIiwiaGlzdCIsInN0YXRlcyIsInN1Ykhpc3QiLCJjdXJyZW50IiwidXBkYXRlSGlzdG9yeVZhbHVlIiwidXBkYXRlQ29udGV4dCIsImFzc2lnbkFjdGlvbnMiLCJ3YXJuIiwidXBkYXRlZENvbnRleHQiLCJyZWR1Y2UiLCJhY2MiLCJhc3NpZ25BY3Rpb24iLCJlXzciLCJhc3NpZ25tZW50IiwibWV0YSIsInBhcnRpYWxVcGRhdGUiLCJwcm9wQXNzaWdubWVudCIsImVfN18xIiwiYXNzaWduIiwiY29uZGl0aW9uIiwibWVzc2FnZSIsImNvbnNvbGUiLCJhcmdzIiwiQXJyYXkiLCJ0b0d1YXJkIiwiZ3VhcmRNYXAiLCJpc09ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJzeW1ib2xPYnNlcnZhYmxlIiwiU3ltYm9sIiwib2JzZXJ2YWJsZSIsImludGVyb3BTeW1ib2xzIiwiaXNNYWNoaW5lIiwiaXNBY3RvciIsInVuaXF1ZUlkIiwiY3VycmVudElkIiwidG9FdmVudE9iamVjdCIsInBheWxvYWQiLCJ0b1NDWE1MRXZlbnQiLCJzY3htbEV2ZW50IiwiJCR0eXBlIiwiZXZlbnRPYmplY3QiLCJ0b1RyYW5zaXRpb25Db25maWdBcnJheSIsImNvbmZpZ0xpa2UiLCJ0cmFuc2l0aW9ucyIsInRyYW5zaXRpb25MaWtlIiwidGFyZ2V0Iiwibm9ybWFsaXplVGFyZ2V0IiwicmVwb3J0VW5oYW5kbGVkRXhjZXB0aW9uT25JbnZvY2F0aW9uIiwib3JpZ2luYWxFcnJvciIsImN1cnJlbnRFcnJvciIsImlkIiwib3JpZ2luYWxTdGFja1RyYWNlIiwic3RhY2siLCJzdGFja1RyYWNlIiwiZXZhbHVhdGVHdWFyZCIsIm1hY2hpbmUiLCJndWFyZCIsImd1YXJkcyIsIm9wdGlvbnMiLCJndWFyZE1ldGEiLCJjb25kIiwiY29uZEZuIiwidG9JbnZva2VTb3VyY2UiLCJzcmMiLCJ0b09ic2VydmVyIiwibmV4dEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJjb21wbGV0aW9uSGFuZGxlciIsIm5vb3AiLCJpc09ic2VydmVyIiwic2VsZiIsImJpbmQiLCJjb21wbGV0ZSIsImNyZWF0ZUludm9rZUlkIiwic3RhdGVOb2RlSWQiLCJpbmRleCIsImlzUmFpc2FibGVBY3Rpb24iLCJ0byIsIkludGVybmFsIiwiZGVsYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/utils.js\n");

/***/ })

};
;